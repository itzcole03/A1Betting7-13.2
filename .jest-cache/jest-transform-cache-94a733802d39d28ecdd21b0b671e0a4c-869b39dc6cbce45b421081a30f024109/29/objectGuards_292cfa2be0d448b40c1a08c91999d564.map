{"version":3,"names":["ensureObject","value","undefined","process","env","NODE_ENV","console","warn","originalValue","stack","Error","split","slice","join","safeObjectKeys","obj","Object","keys","safeObjectEntries","entries","safeObjectValues","values","safeObjectAssign","target","sources","safeTarget","safeSources","map","source","assign","safeSpread","safeDestructure","defaultValues","debugObjectOperation","operationName","context","group","log","groupEnd","_default","exports","default"],"sources":["objectGuards.ts"],"sourcesContent":["/**\r\n * Safe object utilities to prevent \"Cannot convert undefined or null to object\" errors\r\n * These utilities provide defensive guards for common object operations during app bootstrap\r\n */\r\n\r\n/**\r\n * Ensures a value is a valid object for Object.keys(), Object.entries(), Object.values() operations\r\n * Returns empty object if value is null/undefined, preserves other values\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function ensureObject(value: any): Record<string, unknown> {\r\n  if (value === null || value === undefined) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      // eslint-disable-next-line no-console\r\n      console.warn('[ObjectGuards] Converted null/undefined to empty object:', {\r\n        originalValue: value,\r\n        stack: new Error().stack?.split('\\n').slice(1, 4).join('\\n')\r\n      });\r\n    }\r\n    return {};\r\n  }\r\n  return value;\r\n}\r\n\r\n/**\r\n * Safe wrapper for Object.keys() that handles null/undefined values\r\n */\r\nexport function safeObjectKeys(obj: unknown): string[] {\r\n  if (obj === null || obj === undefined) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      // eslint-disable-next-line no-console\r\n      console.warn('[ObjectGuards] safeObjectKeys called with null/undefined:', {\r\n        value: obj,\r\n        stack: new Error().stack?.split('\\n').slice(1, 4).join('\\n')\r\n      });\r\n    }\r\n    return [];\r\n  }\r\n  return Object.keys(ensureObject(obj));\r\n}\r\n\r\n/**\r\n * Safe wrapper for Object.entries() that handles null/undefined values\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function safeObjectEntries(obj: any): [string, any][] {\r\n  if (obj === null || obj === undefined) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      // eslint-disable-next-line no-console\r\n      console.warn('[ObjectGuards] safeObjectEntries called with null/undefined:', {\r\n        value: obj,\r\n        stack: new Error().stack?.split('\\n').slice(1, 4).join('\\n')\r\n      });\r\n    }\r\n    return [];\r\n  }\r\n  return Object.entries(ensureObject(obj));\r\n}\r\n\r\n/**\r\n * Safe wrapper for Object.values() that handles null/undefined values\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function safeObjectValues(obj: any): any[] {\r\n  if (obj === null || obj === undefined) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      // eslint-disable-next-line no-console\r\n      console.warn('[ObjectGuards] safeObjectValues called with null/undefined:', {\r\n        value: obj,\r\n        stack: new Error().stack?.split('\\n').slice(1, 4).join('\\n')\r\n      });\r\n    }\r\n    return [];\r\n  }\r\n  return Object.values(ensureObject(obj));\r\n}\r\n\r\n/**\r\n * Safe wrapper for Object.assign() that handles null/undefined values\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function safeObjectAssign(target: any, ...sources: any[]): any {\r\n  const safeTarget = ensureObject(target);\r\n  const safeSources = sources.map(source => ensureObject(source));\r\n  return Object.assign(safeTarget, ...safeSources);\r\n}\r\n\r\n/**\r\n * Safe object spread - ensures the spread operation won't fail\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport function safeSpread(obj: any): Record<string, unknown> {\r\n  return ensureObject(obj);\r\n}\r\n\r\n/**\r\n * Safe destructuring helper - returns default values for null/undefined objects\r\n */\r\nexport function safeDestructure<T extends Record<string, unknown>>(\r\n  obj: T | null | undefined,\r\n  defaultValues: Partial<T> = {}\r\n): T {\r\n  if (obj === null || obj === undefined) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      // eslint-disable-next-line no-console\r\n      console.warn('[ObjectGuards] safeDestructure called with null/undefined:', {\r\n        originalValue: obj,\r\n        defaultValues,\r\n        stack: new Error().stack?.split('\\n').slice(1, 4).join('\\n')\r\n      });\r\n    }\r\n    return { ...defaultValues } as T;\r\n  }\r\n  return { ...defaultValues, ...obj } as T;\r\n}\r\n\r\n/**\r\n * Development helper to identify where null object usage might occur\r\n */\r\nexport function debugObjectOperation(operationName: string, obj: unknown, context?: string): void {\r\n  if (process.env.NODE_ENV === 'development') {\r\n    if (obj === null || obj === undefined) {\r\n      // eslint-disable-next-line no-console\r\n      console.group('[ObjectGuards] Potential Null Object Operation Detected');\r\n      // eslint-disable-next-line no-console\r\n      console.log('[ObjectGuards] Operation:', operationName);\r\n      // eslint-disable-next-line no-console\r\n      console.log('[ObjectGuards] Value:', obj);\r\n      // eslint-disable-next-line no-console\r\n      console.log('[ObjectGuards] Context:', context || 'unknown');\r\n      // eslint-disable-next-line no-console\r\n      console.log('[ObjectGuards] Stack:', new Error().stack);\r\n      // eslint-disable-next-line no-console\r\n      console.groupEnd();\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  ensureObject,\r\n  safeObjectKeys,\r\n  safeObjectEntries,\r\n  safeObjectValues,\r\n  safeObjectAssign,\r\n  safeSpread,\r\n  safeDestructure,\r\n  debugObjectOperation,\r\n};"],"mappings":"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","ignoreList":[]}