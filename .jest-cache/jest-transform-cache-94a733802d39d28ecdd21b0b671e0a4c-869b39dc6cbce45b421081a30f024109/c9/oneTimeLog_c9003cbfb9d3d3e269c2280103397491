1d6d856e158f0ae55b92480d4e801c3a
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clearLoggedSignatures = clearLoggedSignatures;
exports.getLoggedCount = getLoggedCount;
exports.oneTimeLog = oneTimeLog;
/**
 * One-time logging utility to prevent console noise from repeated warnings
 * Uses signature hashing to track which warnings have been logged
 */

const loggedSignatures = new Set();

/**
 * Generates a simple hash for a log signature to track uniqueness
 */
function generateSignature(key, message) {
  return `${key}:${message || 'generic'}`;
}

/**
 * Logs a message only once per session for a given signature
 * @param key - Unique identifier for the log type
 * @param logFn - Function to execute for logging
 * @param message - Optional message to include in signature
 */
function oneTimeLog(key, logFn, message) {
  const signature = generateSignature(key, message);
  if (!loggedSignatures.has(signature)) {
    loggedSignatures.add(signature);
    logFn();
  }
}

/**
 * Clears all logged signatures (useful for testing)
 */
function clearLoggedSignatures() {
  loggedSignatures.clear();
}

/**
 * Gets the count of unique signatures logged
 */
function getLoggedCount() {
  return loggedSignatures.size;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dnZWRTaWduYXR1cmVzIiwiU2V0IiwiZ2VuZXJhdGVTaWduYXR1cmUiLCJrZXkiLCJtZXNzYWdlIiwib25lVGltZUxvZyIsImxvZ0ZuIiwic2lnbmF0dXJlIiwiaGFzIiwiYWRkIiwiY2xlYXJMb2dnZWRTaWduYXR1cmVzIiwiY2xlYXIiLCJnZXRMb2dnZWRDb3VudCIsInNpemUiXSwic291cmNlcyI6WyJvbmVUaW1lTG9nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBPbmUtdGltZSBsb2dnaW5nIHV0aWxpdHkgdG8gcHJldmVudCBjb25zb2xlIG5vaXNlIGZyb20gcmVwZWF0ZWQgd2FybmluZ3NcclxuICogVXNlcyBzaWduYXR1cmUgaGFzaGluZyB0byB0cmFjayB3aGljaCB3YXJuaW5ncyBoYXZlIGJlZW4gbG9nZ2VkXHJcbiAqL1xyXG5cclxuY29uc3QgbG9nZ2VkU2lnbmF0dXJlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHNpbXBsZSBoYXNoIGZvciBhIGxvZyBzaWduYXR1cmUgdG8gdHJhY2sgdW5pcXVlbmVzc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVTaWduYXR1cmUoa2V5OiBzdHJpbmcsIG1lc3NhZ2U/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBgJHtrZXl9OiR7bWVzc2FnZSB8fCAnZ2VuZXJpYyd9YDtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZ3MgYSBtZXNzYWdlIG9ubHkgb25jZSBwZXIgc2Vzc2lvbiBmb3IgYSBnaXZlbiBzaWduYXR1cmVcclxuICogQHBhcmFtIGtleSAtIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbG9nIHR5cGVcclxuICogQHBhcmFtIGxvZ0ZuIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZSBmb3IgbG9nZ2luZ1xyXG4gKiBAcGFyYW0gbWVzc2FnZSAtIE9wdGlvbmFsIG1lc3NhZ2UgdG8gaW5jbHVkZSBpbiBzaWduYXR1cmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBvbmVUaW1lTG9nKGtleTogc3RyaW5nLCBsb2dGbjogKCkgPT4gdm9pZCwgbWVzc2FnZT86IHN0cmluZyk6IHZvaWQge1xyXG4gIGNvbnN0IHNpZ25hdHVyZSA9IGdlbmVyYXRlU2lnbmF0dXJlKGtleSwgbWVzc2FnZSk7XHJcbiAgXHJcbiAgaWYgKCFsb2dnZWRTaWduYXR1cmVzLmhhcyhzaWduYXR1cmUpKSB7XHJcbiAgICBsb2dnZWRTaWduYXR1cmVzLmFkZChzaWduYXR1cmUpO1xyXG4gICAgbG9nRm4oKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhcnMgYWxsIGxvZ2dlZCBzaWduYXR1cmVzICh1c2VmdWwgZm9yIHRlc3RpbmcpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJMb2dnZWRTaWduYXR1cmVzKCk6IHZvaWQge1xyXG4gIGxvZ2dlZFNpZ25hdHVyZXMuY2xlYXIoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGNvdW50IG9mIHVuaXF1ZSBzaWduYXR1cmVzIGxvZ2dlZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2dlZENvdW50KCk6IG51bWJlciB7XHJcbiAgcmV0dXJuIGxvZ2dlZFNpZ25hdHVyZXMuc2l6ZTtcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBRyxJQUFJQyxHQUFHLENBQVMsQ0FBQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0EsU0FBU0MsaUJBQWlCQSxDQUFDQyxHQUFXLEVBQUVDLE9BQWdCLEVBQVU7RUFDaEUsT0FBTyxHQUFHRCxHQUFHLElBQUlDLE9BQU8sSUFBSSxTQUFTLEVBQUU7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0MsVUFBVUEsQ0FBQ0YsR0FBVyxFQUFFRyxLQUFpQixFQUFFRixPQUFnQixFQUFRO0VBQ2pGLE1BQU1HLFNBQVMsR0FBR0wsaUJBQWlCLENBQUNDLEdBQUcsRUFBRUMsT0FBTyxDQUFDO0VBRWpELElBQUksQ0FBQ0osZ0JBQWdCLENBQUNRLEdBQUcsQ0FBQ0QsU0FBUyxDQUFDLEVBQUU7SUFDcENQLGdCQUFnQixDQUFDUyxHQUFHLENBQUNGLFNBQVMsQ0FBQztJQUMvQkQsS0FBSyxDQUFDLENBQUM7RUFDVDtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNJLHFCQUFxQkEsQ0FBQSxFQUFTO0VBQzVDVixnQkFBZ0IsQ0FBQ1csS0FBSyxDQUFDLENBQUM7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ08sU0FBU0MsY0FBY0EsQ0FBQSxFQUFXO0VBQ3ZDLE9BQU9aLGdCQUFnQixDQUFDYSxJQUFJO0FBQzlCIiwiaWdub3JlTGlzdCI6W119