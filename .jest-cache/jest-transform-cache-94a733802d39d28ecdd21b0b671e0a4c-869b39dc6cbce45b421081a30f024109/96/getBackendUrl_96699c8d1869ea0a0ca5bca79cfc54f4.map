{"version":3,"names":["DEFAULT_BACKEND_URL","getViteEnvSafe","process","env","JEST_WORKER_ID","getEnv","Function","e","getBackendUrl","viteEnv","VITE_BACKEND_URL","VITE_API_URL","BACKEND_URL","API_URL"],"sources":["getBackendUrl.ts"],"sourcesContent":["// Utility to get backend URL for all environments (Vite/browser and Jest/node)\r\nconst DEFAULT_BACKEND_URL = 'http://localhost:8000';\r\n\r\n// Use dynamic function to avoid import.meta parsing in Node/Jest\r\nfunction getViteEnvSafe(): Record<string, string> {\r\n  // In Jest/Node, skip import.meta entirely\r\n  if (typeof process !== 'undefined' && process.env && process.env.JEST_WORKER_ID) {\r\n    return {};\r\n  }\r\n  // Only access import.meta.env if it exists and is an object, using dynamic function\r\n  try {\r\n     \r\n    const getEnv = new Function(\r\n      'return (typeof import!==\"undefined\" && import.meta && import.meta.env) ? import.meta.env : {}'\r\n    );\r\n    return getEnv();\r\n  } catch (e) {\r\n    // Ignore if import.meta is not defined\r\n  }\r\n  return {};\r\n}\r\n\r\nexport function getBackendUrl(): string {\r\n  const viteEnv = getViteEnvSafe();\r\n  return (\r\n    viteEnv.VITE_BACKEND_URL ||\r\n    viteEnv.VITE_API_URL ||\r\n    viteEnv.BACKEND_URL ||\r\n    viteEnv.API_URL ||\r\n    (typeof process !== 'undefined' &&\r\n      process.env &&\r\n      (process.env.VITE_BACKEND_URL ||\r\n        process.env.VITE_API_URL ||\r\n        process.env.BACKEND_URL ||\r\n        process.env.API_URL)) ||\r\n    DEFAULT_BACKEND_URL\r\n  );\r\n}\r\n"],"mappings":";;;;;;AAAA;AACA,MAAMA,mBAAmB,GAAG,uBAAuB;;AAEnD;AACA,SAASC,cAAcA,CAAA,EAA2B;EAChD;EACA,IAAI,OAAOC,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,GAAG,IAAID,OAAO,CAACC,GAAG,CAACC,cAAc,EAAE;IAC/E,OAAO,CAAC,CAAC;EACX;EACA;EACA,IAAI;IAEF,MAAMC,MAAM,GAAG,IAAIC,QAAQ,CACzB,+FACF,CAAC;IACD,OAAOD,MAAM,CAAC,CAAC;EACjB,CAAC,CAAC,OAAOE,CAAC,EAAE;IACV;EAAA;EAEF,OAAO,CAAC,CAAC;AACX;AAEO,SAASC,aAAaA,CAAA,EAAW;EACtC,MAAMC,OAAO,GAAGR,cAAc,CAAC,CAAC;EAChC,OACEQ,OAAO,CAACC,gBAAgB,IACxBD,OAAO,CAACE,YAAY,IACpBF,OAAO,CAACG,WAAW,IACnBH,OAAO,CAACI,OAAO,IACd,OAAOX,OAAO,KAAK,WAAW,IAC7BA,OAAO,CAACC,GAAG,KACVD,OAAO,CAACC,GAAG,CAACO,gBAAgB,IAC3BR,OAAO,CAACC,GAAG,CAACQ,YAAY,IACxBT,OAAO,CAACC,GAAG,CAACS,WAAW,IACvBV,OAAO,CAACC,GAAG,CAACU,OAAO,CAAE,IACzBb,mBAAmB;AAEvB","ignoreList":[]}