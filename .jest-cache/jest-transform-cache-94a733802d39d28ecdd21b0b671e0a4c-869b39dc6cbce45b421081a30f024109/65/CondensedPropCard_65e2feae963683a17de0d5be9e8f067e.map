{"version":3,"names":["_react","_interopRequireDefault","require","_PlayerAvatar","_StatcastMetrics","_jsxRuntime","CondensedPropCard","player","team","stat","line","confidence","grade","logoUrl","accentColor","bookmarked","matchup","espnPlayerId","onClick","isExpanded","showStatcastMetrics","statcastData","alternativeProps","confidenceScore","Math","round","getGrade","score","calculatedGrade","getMatchup","parts","split","length","showAnalysis","setShowAnalysis","React","useState","aiAnalysis","fallbackAnalysis","jsxs","className","style","backgroundColor","e","window","console","log","children","jsx","src","alt","zIndex","default","playerName","playerId","size","tabIndex","stopPropagation","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","prop","id","sport","overOdds","underOdds","gameTime","pickType","_originalData","isVisible","_default","exports"],"sources":["CondensedPropCard.tsx"],"sourcesContent":["import React from 'react';\r\nimport PlayerAvatar from './PlayerAvatar';\r\nimport StatcastMetrics from './StatcastMetrics';\r\n\r\ninterface CondensedPropCardProps {\r\n  player: string;\r\n  team: string;\r\n  stat: string;\r\n  line: number;\r\n  confidence: number;\r\n  grade?: string;\r\n  logoUrl?: string;\r\n  accentColor?: string;\r\n  bookmarked?: boolean;\r\n  matchup?: string;\r\n  espnPlayerId?: string;\r\n  onClick: () => void;\r\n  isExpanded: boolean;\r\n  showStatcastMetrics?: boolean;\r\n  statcastData?: any;\r\n  alternativeProps?: Array<{\r\n    stat: string;\r\n    line: number;\r\n    confidence: number;\r\n    overOdds?: number;\r\n    underOdds?: number;\r\n  }>;\r\n}\r\n\r\nconst CondensedPropCard: React.FC<CondensedPropCardProps> = ({\r\n  player,\r\n  team,\r\n  stat,\r\n  line,\r\n  confidence,\r\n  grade,\r\n  logoUrl,\r\n  accentColor = '#222',\r\n  bookmarked = false,\r\n  matchup = '',\r\n  espnPlayerId,\r\n  onClick,\r\n  isExpanded,\r\n  showStatcastMetrics = false,\r\n  statcastData,\r\n  alternativeProps = [],\r\n}) => {\r\n  const confidenceScore = Math.round(confidence || 0);\r\n\r\n  // Calculate grade based on confidence\r\n  const getGrade = (score: number) => {\r\n    if (score >= 80) return 'A+';\r\n    if (score >= 60) return 'B';\r\n    if (score >= 40) return 'C';\r\n    return 'D';\r\n  };\r\n  const calculatedGrade = grade || getGrade(confidenceScore);\r\n\r\n  // Format matchup as 'vs TEAM xTIME' (if available)\r\n  const getMatchup = () => {\r\n    if (!matchup) return '';\r\n    // Example: 'vs HOU x18.45' from 'HOU @ LAC x18.45'\r\n    const parts = matchup.split(' ');\r\n    if (parts.length >= 2) {\r\n      return `vs ${parts[1]} ${parts.length > 2 ? parts[2] : ''}`;\r\n    }\r\n    return `vs ${matchup}`;\r\n  };\r\n\r\n  // Local state for analysis node\r\n  const [showAnalysis, setShowAnalysis] = React.useState(false);\r\n  // Simulate AI analysis/fallback\r\n  const aiAnalysis = `AI's Take: ${player} is projected for ${line} ${stat}. Confidence: ${confidenceScore}%.`;\r\n  const fallbackAnalysis = 'No analysis available.';\r\n\r\n  return (\r\n    <div\r\n      data-testid='condensed-prop-card'\r\n      data-testid-alt='prop-card'\r\n      className={\r\n        `relative rounded-xl p-0 mb-4 cursor-pointer transition-all duration-300 border border-gray-700 overflow-hidden shadow-lg flex items-center` +\r\n        (isExpanded ? ' ring-2 ring-blue-500' : '')\r\n      }\r\n      style={{ backgroundColor: accentColor }}\r\n      onClick={e => {\r\n        if (typeof window !== 'undefined') {\r\n          // eslint-disable-next-line no-console\r\n          console.log(`[DEBUG] CondensedPropCard clicked: player=${player}, stat=${stat}`);\r\n        }\r\n        onClick();\r\n      }}\r\n    >\r\n      {/* Team logo background */}\r\n      {logoUrl && (\r\n        <img\r\n          src={logoUrl}\r\n          alt='Team Logo'\r\n          className='absolute right-4 top-1/2 transform -translate-y-1/2 opacity-20 w-32 h-32 object-contain pointer-events-none select-none'\r\n          style={{ zIndex: 0 }}\r\n        />\r\n      )}\r\n      {/* Card content */}\r\n      <div className='flex items-center justify-between relative z-10 w-full p-4'>\r\n        {/* Left: Avatar, player info */}\r\n        <div className='flex items-center gap-3'>\r\n          <PlayerAvatar playerName={player} playerId={espnPlayerId} size='md' className='mr-2' />\r\n          <div>\r\n            <div className='text-white font-bold text-lg leading-tight'>{player}</div>\r\n            <div className='text-gray-300 text-xs font-medium'>{getMatchup()}</div>\r\n            {/* Stat text for testability */}\r\n            <div className='text-gray-400 text-xs' data-testid='stat-text'>\r\n              {stat}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Right: Grade, bookmark */}\r\n        <div className='flex flex-col items-end gap-2'>\r\n          <div className='flex items-center gap-2'>\r\n            <span className='bg-black text-green-400 font-bold px-2 py-1 rounded-lg text-xs shadow-md'>\r\n              {calculatedGrade}\r\n            </span>\r\n            <button\r\n              className='bg-transparent border-none p-0 m-0 cursor-pointer'\r\n              tabIndex={-1}\r\n              aria-label={bookmarked ? 'Bookmarked' : 'Bookmark'}\r\n              onClick={e => {\r\n                e.stopPropagation();\r\n              }}\r\n            >\r\n              <svg\r\n                className={`w-5 h-5 ${bookmarked ? 'text-yellow-400' : 'text-gray-400'}`}\r\n                fill={bookmarked ? 'currentColor' : 'none'}\r\n                stroke='currentColor'\r\n                viewBox='0 0 24 24'\r\n              >\r\n                <path\r\n                  strokeLinecap='round'\r\n                  strokeLinejoin='round'\r\n                  strokeWidth={2}\r\n                  d='M5 5v16l7-5 7 5V5a2 2 0 00-2-2H7a2 2 0 00-2 2z'\r\n                />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Expand indicator */}\r\n      <div className='flex justify-center pb-2'>\r\n        <div\r\n          className={`transition-all duration-300 flex items-center gap-1 ${\r\n            isExpanded ? 'text-blue-400' : 'text-gray-500'\r\n          }`}\r\n        >\r\n          <div\r\n            className={`w-6 h-1 rounded-full transition-transform duration-300 ${\r\n              isExpanded ? 'bg-blue-500 rotate-90' : 'bg-gray-600'\r\n            }`}\r\n          ></div>\r\n          <div className='text-xs'>{isExpanded ? 'Click to collapse' : 'Click for details'}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expanded card output for test compatibility */}\r\n      {isExpanded && (\r\n        <div data-testid='prop-card-expanded' className='w-full p-4 bg-gray-900 rounded-xl mt-2'>\r\n          <div className='text-white font-bold'>Expanded Card for {player}</div>\r\n          <div className='text-gray-400'>Stat: {stat}</div>\r\n          <button\r\n            aria-label='Deep AI Analysis'\r\n            className='mt-2 px-3 py-1 bg-blue-700 text-white rounded'\r\n            onClick={e => {\r\n              e.stopPropagation();\r\n              setShowAnalysis(true);\r\n            }}\r\n          >\r\n            Deep AI Analysis\r\n          </button>\r\n          {/* Analysis node for test compatibility */}\r\n          {showAnalysis &&\r\n            (confidenceScore >= 50 ? (\r\n              <div data-testid='ai-take' className='mt-4 p-3 bg-gray-800 rounded'>\r\n                AI's Take: {player} is projected for {line} {stat}. Confidence: {confidenceScore}%.\r\n              </div>\r\n            ) : (\r\n              <div data-testid='no-analysis' className='mt-4 p-3 bg-gray-800 rounded'>\r\n                No analysis available.\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Statcast Metrics - Only show when expanded and for MLB */}\r\n      {isExpanded && showStatcastMetrics && (\r\n        <StatcastMetrics\r\n          prop={{\r\n            id: `${player}-${stat}`,\r\n            player,\r\n            stat,\r\n            line,\r\n            confidence,\r\n            matchup: matchup || '',\r\n            sport: 'MLB',\r\n            overOdds: 0,\r\n            underOdds: 0,\r\n            gameTime: '',\r\n            pickType: 'player',\r\n            espnPlayerId,\r\n            _originalData: statcastData,\r\n          }}\r\n          isVisible={true}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CondensedPropCard;\r\n"],"mappings":"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","ignoreList":[]}