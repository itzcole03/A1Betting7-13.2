b508af147bf6d8addf6ddb6333bf35f3
"use strict";

function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
// Jest setup for enhanced config â€” plain JS to avoid TypeScript parsing issues
/* eslint-disable no-undef */
// Provide import.meta.env shim for components that read it
if (typeof global.importMeta === 'undefined') {
  global.importMeta = {
    env: {}
  };
}
if (typeof global.import === 'undefined') {
  global.import = global.import || function () {};
}
// Ensure modules can read import.meta.env
if (typeof global.import !== 'undefined' && typeof global.import.meta === 'undefined') {
  global.import.meta = {
    env: {
      MODE: 'test',
      DEV: false,
      PROD: false,
      VITE_API_URL: 'http://localhost:8000'
    }
  };
}
// Also set window.import.meta for browser code
if (typeof window !== 'undefined' && typeof window.import === 'undefined') {
  window.import = window.import || {};
  window.import.meta = window.import.meta || {
    env: {
      MODE: 'test',
      DEV: false,
      PROD: false
    }
  };
}

// Stub URL.createObjectURL used by components
if (typeof window !== 'undefined' && !window.URL.createObjectURL) {
  window.URL.createObjectURL = function () {
    return 'blob:mock';
  };
}

// No-op for navigation methods that jsdom doesn't implement
if (typeof window !== 'undefined') {
  try {
    const loc = window.location || {};
    if (loc && typeof loc.assign !== 'function') {
      Object.defineProperty(window.location, 'assign', {
        configurable: true,
        writable: true,
        value: () => {}
      });
    }
    if (loc && typeof loc.reload !== 'function') {
      Object.defineProperty(window.location, 'reload', {
        configurable: true,
        writable: true,
        value: () => {}
      });
    }
  } catch (e) {
    // Some environments lock window.location; ignore if we cannot redefine
  }

  // Polyfill BroadcastChannel for msw/node or other libraries that expect it
  if (typeof global.BroadcastChannel === 'undefined') {
    class MockBroadcastChannel {
      constructor(name) {
        this.name = name;
        this.onmessage = null;
      }
      postMessage(msg) {
        // no-op
      }
      close() {
        // no-op
      }
      addEventListener() {
        // no-op
      }
      removeEventListener() {
        // no-op
      }
    }
    global.BroadcastChannel = MockBroadcastChannel;
  }

  // Hoist manual mocks so modules see them before being imported in tests
  try {
    // Mock unifiedApiService so components that import it get the manual mock
    if (typeof jest !== 'undefined' && jest && typeof jest.mock === 'function') {
      _getJestObj().mock('src/services/unifiedApiService');
      _getJestObj().mock('axios');
    }
  } catch (err) {
    // If jest isn't available in this environment, ignore
  }

  // Minimal TransformStream polyfill for environments that don't provide it (nodejs test env)
  if (typeof TransformStream === 'undefined') {
    // eslint-disable-next-line no-global-assign
    global.TransformStream = class {
      constructor() {
        this.readable = new class {
          getReader() {
            return {
              read: () => Promise.resolve({
                done: true,
                value: undefined
              })
            };
          }
        }();
        this.writable = new class {
          getWriter() {
            return {
              write: () => Promise.resolve(),
              close: () => Promise.resolve()
            };
          }
        }();
      }
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnbG9iYWwiLCJpbXBvcnRNZXRhIiwiZW52IiwiaW1wb3J0IiwibWV0YSIsIk1PREUiLCJERVYiLCJQUk9EIiwiVklURV9BUElfVVJMIiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwibG9jIiwibG9jYXRpb24iLCJhc3NpZ24iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidmFsdWUiLCJyZWxvYWQiLCJlIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIk1vY2tCcm9hZGNhc3RDaGFubmVsIiwiY29uc3RydWN0b3IiLCJuYW1lIiwib25tZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJtc2ciLCJjbG9zZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiamVzdCIsIm1vY2siLCJfZ2V0SmVzdE9iaiIsImVyciIsIlRyYW5zZm9ybVN0cmVhbSIsInJlYWRhYmxlIiwiZ2V0UmVhZGVyIiwicmVhZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZG9uZSIsInVuZGVmaW5lZCIsImdldFdyaXRlciIsIndyaXRlIl0sInNvdXJjZXMiOlsiamVzdC5zZXR1cC5lbmhhbmNlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBKZXN0IHNldHVwIGZvciBlbmhhbmNlZCBjb25maWcg4oCUIHBsYWluIEpTIHRvIGF2b2lkIFR5cGVTY3JpcHQgcGFyc2luZyBpc3N1ZXNcclxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cclxuLy8gUHJvdmlkZSBpbXBvcnQubWV0YS5lbnYgc2hpbSBmb3IgY29tcG9uZW50cyB0aGF0IHJlYWQgaXRcclxuaWYgKHR5cGVvZiBnbG9iYWwuaW1wb3J0TWV0YSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICBnbG9iYWwuaW1wb3J0TWV0YSA9IHsgZW52OiB7fSB9O1xyXG59XHJcbmlmICh0eXBlb2YgZ2xvYmFsLmltcG9ydCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICBnbG9iYWwuaW1wb3J0ID0gZ2xvYmFsLmltcG9ydCB8fCBmdW5jdGlvbiAoKSB7fTtcclxufVxyXG4vLyBFbnN1cmUgbW9kdWxlcyBjYW4gcmVhZCBpbXBvcnQubWV0YS5lbnZcclxuaWYgKHR5cGVvZiBnbG9iYWwuaW1wb3J0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ2xvYmFsLmltcG9ydC5tZXRhID09PSAndW5kZWZpbmVkJykge1xyXG4gIGdsb2JhbC5pbXBvcnQubWV0YSA9IHsgZW52OiB7IE1PREU6ICd0ZXN0JywgREVWOiBmYWxzZSwgUFJPRDogZmFsc2UsIFZJVEVfQVBJX1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCcgfSB9O1xyXG59XHJcbi8vIEFsc28gc2V0IHdpbmRvdy5pbXBvcnQubWV0YSBmb3IgYnJvd3NlciBjb2RlXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmltcG9ydCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICB3aW5kb3cuaW1wb3J0ID0gd2luZG93LmltcG9ydCB8fCB7fTtcclxuICB3aW5kb3cuaW1wb3J0Lm1ldGEgPSB3aW5kb3cuaW1wb3J0Lm1ldGEgfHwgeyBlbnY6IHsgTU9ERTogJ3Rlc3QnLCBERVY6IGZhbHNlLCBQUk9EOiBmYWxzZSB9IH07XHJcbn1cclxuXHJcbi8vIFN0dWIgVVJMLmNyZWF0ZU9iamVjdFVSTCB1c2VkIGJ5IGNvbXBvbmVudHNcclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICF3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCkge1xyXG4gIHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2Jsb2I6bW9jayc7IH07XHJcbn1cclxuXHJcbi8vIE5vLW9wIGZvciBuYXZpZ2F0aW9uIG1ldGhvZHMgdGhhdCBqc2RvbSBkb2Vzbid0IGltcGxlbWVudFxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgbG9jID0gd2luZG93LmxvY2F0aW9uIHx8IHt9O1xyXG4gICAgaWYgKGxvYyAmJiB0eXBlb2YgbG9jLmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LmxvY2F0aW9uLCAnYXNzaWduJywge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICB2YWx1ZTogKCkgPT4ge30sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGxvYyAmJiB0eXBlb2YgbG9jLnJlbG9hZCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LmxvY2F0aW9uLCAncmVsb2FkJywge1xyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICB2YWx1ZTogKCkgPT4ge30sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIFNvbWUgZW52aXJvbm1lbnRzIGxvY2sgd2luZG93LmxvY2F0aW9uOyBpZ25vcmUgaWYgd2UgY2Fubm90IHJlZGVmaW5lXHJcbiAgfVxyXG5cclxuICAvLyBQb2x5ZmlsbCBCcm9hZGNhc3RDaGFubmVsIGZvciBtc3cvbm9kZSBvciBvdGhlciBsaWJyYXJpZXMgdGhhdCBleHBlY3QgaXRcclxuICBpZiAodHlwZW9mIGdsb2JhbC5Ccm9hZGNhc3RDaGFubmVsID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgY2xhc3MgTW9ja0Jyb2FkY2FzdENoYW5uZWwge1xyXG4gICAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLm9ubWVzc2FnZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgcG9zdE1lc3NhZ2UobXNnKSB7XHJcbiAgICAgICAgLy8gbm8tb3BcclxuICAgICAgfVxyXG4gICAgICBjbG9zZSgpIHtcclxuICAgICAgICAvLyBuby1vcFxyXG4gICAgICB9XHJcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgLy8gbm8tb3BcclxuICAgICAgfVxyXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKCkge1xyXG4gICAgICAgIC8vIG5vLW9wXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGdsb2JhbC5Ccm9hZGNhc3RDaGFubmVsID0gTW9ja0Jyb2FkY2FzdENoYW5uZWw7XHJcbiAgfVxyXG5cclxuICAvLyBIb2lzdCBtYW51YWwgbW9ja3Mgc28gbW9kdWxlcyBzZWUgdGhlbSBiZWZvcmUgYmVpbmcgaW1wb3J0ZWQgaW4gdGVzdHNcclxuICB0cnkge1xyXG4gICAgLy8gTW9jayB1bmlmaWVkQXBpU2VydmljZSBzbyBjb21wb25lbnRzIHRoYXQgaW1wb3J0IGl0IGdldCB0aGUgbWFudWFsIG1vY2tcclxuICAgIGlmICh0eXBlb2YgamVzdCAhPT0gJ3VuZGVmaW5lZCcgJiYgamVzdCAmJiB0eXBlb2YgamVzdC5tb2NrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGplc3QubW9jaygnc3JjL3NlcnZpY2VzL3VuaWZpZWRBcGlTZXJ2aWNlJyk7XHJcbiAgICAgIGplc3QubW9jaygnYXhpb3MnKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIC8vIElmIGplc3QgaXNuJ3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQsIGlnbm9yZVxyXG4gIH1cclxuXHJcbiAgLy8gTWluaW1hbCBUcmFuc2Zvcm1TdHJlYW0gcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvbid0IHByb3ZpZGUgaXQgKG5vZGVqcyB0ZXN0IGVudilcclxuICBpZiAodHlwZW9mIFRyYW5zZm9ybVN0cmVhbSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1nbG9iYWwtYXNzaWduXHJcbiAgICBnbG9iYWwuVHJhbnNmb3JtU3RyZWFtID0gY2xhc3Mge1xyXG4gICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJlYWRhYmxlID0gbmV3IChjbGFzcyB7XHJcbiAgICAgICAgICBnZXRSZWFkZXIoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHJlYWQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSkgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSgpO1xyXG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBuZXcgKGNsYXNzIHtcclxuICAgICAgICAgIGdldFdyaXRlcigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgd3JpdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLCBjbG9zZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCkgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLElBQUksT0FBT0EsTUFBTSxDQUFDQyxVQUFVLEtBQUssV0FBVyxFQUFFO0VBQzVDRCxNQUFNLENBQUNDLFVBQVUsR0FBRztJQUFFQyxHQUFHLEVBQUUsQ0FBQztFQUFFLENBQUM7QUFDakM7QUFDQSxJQUFJLE9BQU9GLE1BQU0sQ0FBQ0csTUFBTSxLQUFLLFdBQVcsRUFBRTtFQUN4Q0gsTUFBTSxDQUFDRyxNQUFNLEdBQUdILE1BQU0sQ0FBQ0csTUFBTSxJQUFJLFlBQVksQ0FBQyxDQUFDO0FBQ2pEO0FBQ0E7QUFDQSxJQUFJLE9BQU9ILE1BQU0sQ0FBQ0csTUFBTSxLQUFLLFdBQVcsSUFBSSxPQUFPSCxNQUFNLENBQUNHLE1BQU0sQ0FBQ0MsSUFBSSxLQUFLLFdBQVcsRUFBRTtFQUNyRkosTUFBTSxDQUFD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