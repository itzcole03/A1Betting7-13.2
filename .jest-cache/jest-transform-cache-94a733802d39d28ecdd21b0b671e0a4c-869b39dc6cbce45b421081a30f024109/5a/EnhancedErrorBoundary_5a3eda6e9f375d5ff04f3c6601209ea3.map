{"version":3,"names":["_react","_interopRequireWildcard","require","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","EnhancedErrorBoundary","Component","constructor","props","retryTimeoutId","sessionId","generateSessionId","retry","retryCount","state","console","log","setState","prevState","hasError","error","errorInfo","isRecovering","resetError","errorId","getDerivedStateFromError","generateErrorId","componentDidCatch","reportError","onError","enableRecovery","shouldAttemptRecovery","scheduleRecovery","componentDidUpdate","prevProps","resetOnPropsChange","resetKeys","propsHaveChanged","componentWillUnmount","clearTimeout","JSON","stringify","some","key","recoverableErrors","pattern","message","includes","name","maxRetries","delay","Math","min","pow","setTimeout","errorReport","timestamp","Date","now","userAgent","navigator","url","window","location","href","stack","componentStack","additionalContext","storeErrorReport","sendErrorReport","report","localStorage","setItem","cleanupErrorReports","warn","errorKeys","keys","filter","startsWith","sort","reverse","slice","forEach","removeItem","process","env","NODE_ENV","fetch","method","headers","body","random","toString","substr","render","children","fallback","FallbackComponent","jsx","className","jsxs","DefaultErrorFallback","exports","showDetails","setShowDetails","React","useState","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","disabled","_default"],"sources":["EnhancedErrorBoundary.tsx"],"sourcesContent":["/**\r\n * Enhanced Error Boundary with Modern Error Handling\r\n * Implements comprehensive error tracking, recovery strategies, and user-friendly fallbacks\r\n */\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface ErrorBoundaryState {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n  errorInfo: ErrorInfo | null;\r\n  errorId: string;\r\n  retryCount: number;\r\n  isRecovering: boolean;\r\n}\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: ReactNode;\r\n  fallback?: React.ComponentType<ErrorFallbackProps>;\r\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\r\n  maxRetries?: number;\r\n  enableRecovery?: boolean;\r\n  resetOnPropsChange?: boolean;\r\n  resetKeys?: Array<string | number>;\r\n}\r\n\r\ninterface ErrorFallbackProps {\r\n  error: Error;\r\n  errorInfo: ErrorInfo;\r\n  resetError: () => void;\r\n  retry: () => void;\r\n  retryCount: number;\r\n  errorId: string;\r\n}\r\n\r\ninterface ErrorReport {\r\n  timestamp: number;\r\n  userAgent: string;\r\n  url: string;\r\n  userId?: string;\r\n  sessionId: string;\r\n  errorId: string;\r\n  error: {\r\n    name: string;\r\n    message: string;\r\n    stack?: string;\r\n  };\r\n  componentStack: string;\r\n  additionalContext: Record<string, any>;\r\n}\r\n\r\nclass EnhancedErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  private retryTimeoutId: NodeJS.Timeout | null = null;\r\n  private sessionId = this.generateSessionId();\r\n\r\n  constructor(props: ErrorBoundaryProps) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      errorId: '',\r\n      retryCount: 0,\r\n      isRecovering: false,\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): Partial<ErrorBoundaryState> {\r\n    // Update state so the next render will show the fallback UI\r\n    return {\r\n      hasError: true,\r\n      error,\r\n      errorId: EnhancedErrorBoundary.generateErrorId(),\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    // Log error details\r\n    console.error('[EnhancedErrorBoundary] Error caught:', error);\r\n    console.error('[EnhancedErrorBoundary] Error info:', errorInfo);\r\n\r\n    this.setState({\r\n      error,\r\n      errorInfo,\r\n    });\r\n\r\n    // Report error\r\n    this.reportError(error, errorInfo);\r\n\r\n    // Call custom error handler\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n\r\n    // Attempt automatic recovery for certain error types\r\n    if (this.props.enableRecovery && this.shouldAttemptRecovery(error)) {\r\n      this.scheduleRecovery();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: ErrorBoundaryProps) {\r\n    const { resetOnPropsChange, resetKeys } = this.props;\r\n    const { hasError } = this.state;\r\n\r\n    // Reset error state if props change (useful for route changes)\r\n    if (hasError && resetOnPropsChange && this.propsHaveChanged(prevProps, resetKeys)) {\r\n      this.resetError();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.retryTimeoutId) {\r\n      clearTimeout(this.retryTimeoutId);\r\n    }\r\n  }\r\n\r\n  private propsHaveChanged(\r\n    prevProps: ErrorBoundaryProps,\r\n    resetKeys?: Array<string | number>\r\n  ): boolean {\r\n    if (!resetKeys) {\r\n      return JSON.stringify(prevProps) !== JSON.stringify(this.props);\r\n    }\r\n\r\n    return resetKeys.some(key => (prevProps as any)[key] !== (this.props as any)[key]);\r\n  }\r\n\r\n  private shouldAttemptRecovery(error: Error): boolean {\r\n    // Define which errors should trigger automatic recovery\r\n    const recoverableErrors = [\r\n      'ChunkLoadError',\r\n      'Loading chunk',\r\n      'Loading CSS chunk',\r\n      'ResizeObserver loop limit exceeded',\r\n    ];\r\n\r\n    return recoverableErrors.some(\r\n      pattern => error.message.includes(pattern) || error.name.includes(pattern)\r\n    );\r\n  }\r\n\r\n  private scheduleRecovery(): void {\r\n    const { maxRetries = 3 } = this.props;\r\n    const { retryCount } = this.state;\r\n\r\n    if (retryCount < maxRetries) {\r\n      this.setState({ isRecovering: true });\r\n\r\n      // Exponential backoff for retry attempts\r\n      const delay = Math.min(1000 * Math.pow(2, retryCount), 10000);\r\n\r\n      this.retryTimeoutId = setTimeout(() => {\r\n        this.retry();\r\n      }, delay);\r\n    }\r\n  }\r\n\r\n  private retry = (): void => {\r\n    const { retryCount } = this.state;\r\n\r\n    console.log(`[EnhancedErrorBoundary] Attempting recovery (${retryCount + 1})`);\r\n\r\n    this.setState(prevState => ({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      retryCount: prevState.retryCount + 1,\r\n      isRecovering: false,\r\n    }));\r\n  };\r\n\r\n  private resetError = (): void => {\r\n    console.log('[EnhancedErrorBoundary] Resetting error state');\r\n\r\n    this.setState({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      retryCount: 0,\r\n      isRecovering: false,\r\n      errorId: '',\r\n    });\r\n  };\r\n\r\n  private reportError(error: Error, errorInfo: ErrorInfo): void {\r\n    const errorReport: ErrorReport = {\r\n      timestamp: Date.now(),\r\n      userAgent: navigator.userAgent,\r\n      url: window.location.href,\r\n      sessionId: this.sessionId,\r\n      errorId: this.state.errorId,\r\n      error: {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack,\r\n      },\r\n      componentStack: errorInfo.componentStack || '',\r\n      additionalContext: {\r\n        props: this.props,\r\n        retryCount: this.state.retryCount,\r\n      },\r\n    };\r\n\r\n    // Store error report locally\r\n    this.storeErrorReport(errorReport);\r\n\r\n    // Send to error reporting service (if configured)\r\n    this.sendErrorReport(errorReport);\r\n  }\r\n\r\n  private storeErrorReport(report: ErrorReport): void {\r\n    try {\r\n      const key = `error_${report.errorId}_${report.timestamp}`;\r\n      localStorage.setItem(key, JSON.stringify(report));\r\n\r\n      // Clean up old error reports (keep only last 10)\r\n      this.cleanupErrorReports();\r\n    } catch (e) {\r\n      console.warn('[EnhancedErrorBoundary] Failed to store error report:', e);\r\n    }\r\n  }\r\n\r\n  private cleanupErrorReports(): void {\r\n    try {\r\n      const errorKeys = Object.keys(localStorage)\r\n        .filter(key => key.startsWith('error_'))\r\n        .sort()\r\n        .reverse();\r\n\r\n      // Remove old reports, keep only the most recent 10\r\n      errorKeys.slice(10).forEach(key => {\r\n        localStorage.removeItem(key);\r\n      });\r\n    } catch (e) {\r\n      console.warn('[EnhancedErrorBoundary] Failed to cleanup error reports:', e);\r\n    }\r\n  }\r\n\r\n  private async sendErrorReport(report: ErrorReport): Promise<void> {\r\n    try {\r\n      // Only send in production or if explicitly enabled\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.log('[EnhancedErrorBoundary] Error report (dev mode):', report);\r\n        return;\r\n      }\r\n\r\n      // Send to error reporting endpoint\r\n      await fetch('/api/errors', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(report),\r\n      });\r\n    } catch (e) {\r\n      console.warn('[EnhancedErrorBoundary] Failed to send error report:', e);\r\n    }\r\n  }\r\n\r\n  private static generateErrorId(): string {\r\n    return `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  private generateSessionId(): string {\r\n    return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  render() {\r\n    const { hasError, error, errorInfo, errorId, retryCount, isRecovering } = this.state;\r\n    const { children, fallback: FallbackComponent } = this.props;\r\n\r\n    if (hasError && error && errorInfo) {\r\n      // Show recovery loading state\r\n      if (isRecovering) {\r\n        return (\r\n          <div className='flex items-center justify-center min-h-[200px] bg-slate-900 rounded-lg border border-slate-700'>\r\n            <div className='text-center p-6'>\r\n              <div className='animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-4'></div>\r\n              <p className='text-white text-lg font-medium'>Recovering...</p>\r\n              <p className='text-slate-400 text-sm mt-2'>Attempting to restore functionality</p>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      // Use custom fallback component if provided\r\n      if (FallbackComponent) {\r\n        return (\r\n          <FallbackComponent\r\n            error={error}\r\n            errorInfo={errorInfo}\r\n            resetError={this.resetError}\r\n            retry={this.retry}\r\n            retryCount={retryCount}\r\n            errorId={errorId}\r\n          />\r\n        );\r\n      }\r\n\r\n      // Default fallback UI\r\n      return (\r\n        <DefaultErrorFallback\r\n          error={error}\r\n          errorInfo={errorInfo}\r\n          resetError={this.resetError}\r\n          retry={this.retry}\r\n          retryCount={retryCount}\r\n          errorId={errorId}\r\n        />\r\n      );\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\n\r\n/**\r\n * Default Error Fallback Component\r\n */\r\nconst DefaultErrorFallback: React.FC<ErrorFallbackProps> = ({\r\n  error,\r\n  errorInfo,\r\n  resetError,\r\n  retry,\r\n  retryCount,\r\n  errorId,\r\n}) => {\r\n  const [showDetails, setShowDetails] = React.useState(false);\r\n\r\n  return (\r\n    <div className='min-h-[400px] bg-slate-900 rounded-lg border border-red-500/20 p-6'>\r\n      <div className='text-center mb-6'>\r\n        <div className='w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4'>\r\n          <svg\r\n            className='w-8 h-8 text-red-500'\r\n            fill='none'\r\n            stroke='currentColor'\r\n            viewBox='0 0 24 24'\r\n          >\r\n            <path\r\n              strokeLinecap='round'\r\n              strokeLinejoin='round'\r\n              strokeWidth={2}\r\n              d='M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z'\r\n            />\r\n          </svg>\r\n        </div>\r\n        <h2 className='text-xl font-bold text-white mb-2'>Something went wrong</h2>\r\n        <p className='text-slate-400 mb-4'>\r\n          We encountered an unexpected error. Our team has been notified.\r\n        </p>\r\n        <p className='text-xs text-slate-500 mb-6'>Error ID: {errorId}</p>\r\n      </div>\r\n\r\n      <div className='flex gap-3 justify-center mb-6'>\r\n        <button\r\n          onClick={retry}\r\n          disabled={retryCount >= 3}\r\n          className='px-4 py-2 bg-yellow-500 text-black font-medium rounded-lg hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors'\r\n        >\r\n          {retryCount >= 3\r\n            ? 'Max Retries Reached'\r\n            : `Retry${retryCount > 0 ? ` (${retryCount})` : ''}`}\r\n        </button>\r\n        <button\r\n          onClick={resetError}\r\n          className='px-4 py-2 bg-slate-700 text-white font-medium rounded-lg hover:bg-slate-600 transition-colors'\r\n        >\r\n          Reset\r\n        </button>\r\n      </div>\r\n\r\n      <div className='text-center'>\r\n        <button\r\n          onClick={() => setShowDetails(!showDetails)}\r\n          className='text-slate-400 hover:text-white text-sm transition-colors'\r\n        >\r\n          {showDetails ? 'Hide' : 'Show'} Error Details\r\n        </button>\r\n      </div>\r\n\r\n      {showDetails && (\r\n        <div className='mt-4 p-4 bg-slate-800 rounded-lg'>\r\n          <h3 className='text-white font-medium mb-2'>Error Details:</h3>\r\n          <p className='text-red-400 text-sm mb-2'>\r\n            {error.name}: {error.message}\r\n          </p>\r\n          {error.stack && (\r\n            <details className='text-xs text-slate-400'>\r\n              <summary className='cursor-pointer hover:text-white'>Stack Trace</summary>\r\n              <pre className='mt-2 whitespace-pre-wrap overflow-x-auto'>{error.stack}</pre>\r\n            </details>\r\n          )}\r\n          {errorInfo.componentStack && (\r\n            <details className='text-xs text-slate-400 mt-2'>\r\n              <summary className='cursor-pointer hover:text-white'>Component Stack</summary>\r\n              <pre className='mt-2 whitespace-pre-wrap overflow-x-auto'>\r\n                {errorInfo.componentStack}\r\n              </pre>\r\n            </details>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport {\r\n  DefaultErrorFallback,\r\n  EnhancedErrorBoundary,\r\n  type ErrorBoundaryProps,\r\n  type ErrorFallbackProps,\r\n};\r\nexport default EnhancedErrorBoundary;\r\n"],"mappings":"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","ignoreList":[]}