d142b33860b1cda57697d5f79db5d62e
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateHealthResponse = validateHealthResponse;
var _oneTimeLog = require("./oneTimeLog");
/**
 * Health response validation utility
 * Replaces ensureHealthShape.ts with tolerant validation aligned with new schema
 */

/**
 * Safe stringify for logging
 */
const safeStringify = obj => {
  try {
    return JSON.stringify(obj, null, 2);
  } catch {
    return String(obj);
  }
};

/**
 * Safely coerce value to number with fallback
 */
const coerceToNumber = (value, fallback = 0) => {
  if (typeof value === 'number' && isFinite(value)) {
    return value;
  }
  if (typeof value === 'string') {
    const parsed = parseFloat(value);
    if (!isNaN(parsed) && isFinite(parsed)) {
      return parsed;
    }
  }
  return fallback;
};

/**
 * Normalize status to expected values
 */
const normalizeStatus = status => {
  if (typeof status === 'string') {
    const normalized = status.toLowerCase();
    if (normalized === 'ok' || normalized === 'healthy') return 'ok';
    if (normalized === 'degraded' || normalized === 'warning') return 'degraded';
    if (normalized === 'down' || normalized === 'error' || normalized === 'unhealthy') return 'down';
  }
  return 'down'; // Default to down for unknown states
};

/**
 * Validates and normalizes health response data
 * Performs shallow structural checks and provides safe defaults
 * 
 * @param raw - Raw response data from backend
 * @returns Validated health payload
 * @throws DiagnosticsError if critical structure is missing
 */
function validateHealthResponse(raw) {
  // Type guard for raw data
  if (!raw || typeof raw !== 'object') {
    const error = new Error('Health response is not an object');
    error.code = 'HEALTH_SHAPE_MISMATCH';
    error.context = {
      raw
    };
    throw error;
  }
  const rawObj = raw;

  // Check for mandatory top-level keys
  const mandatoryKeys = ['services', 'performance', 'cache', 'infrastructure'];
  const missingKeys = mandatoryKeys.filter(key => !(key in rawObj));
  if (missingKeys.length > 0) {
    (0, _oneTimeLog.oneTimeLog)('health-validation-missing-keys', () => {
      // eslint-disable-next-line no-console
      console.warn('[Health Validator] Missing mandatory fields:', missingKeys.join(', '), '\nRaw data:', safeStringify(raw));
    }, missingKeys.join(','));
    const error = new Error(`Missing mandatory health fields: ${missingKeys.join(', ')}`);
    error.code = 'HEALTH_SHAPE_MISMATCH';
    error.context = {
      missingKeys,
      raw
    };
    throw error;
  }

  // Extract and validate services array
  const servicesRaw = rawObj.services;
  let services = [];
  if (Array.isArray(servicesRaw)) {
    services = servicesRaw.map((service, index) => {
      if (!service || typeof service !== 'object') {
        (0, _oneTimeLog.oneTimeLog)('health-validation-invalid-service',
        // eslint-disable-next-line no-console
        () => console.warn(`[Health Validator] Invalid service at index ${index}:`, service), `index-${index}`);
        return {
          name: `unknown-${index}`,
          status: 'down'
        };
      }
      const serviceObj = service;
      return {
        name: typeof serviceObj.name === 'string' ? serviceObj.name : `service-${index}`,
        status: normalizeStatus(serviceObj.status),
        latency_ms: coerceToNumber(serviceObj.latency_ms),
        details: serviceObj.details && typeof serviceObj.details === 'object' ? serviceObj.details : undefined
      };
    });
  } else {
    (0, _oneTimeLog.oneTimeLog)('health-validation-services-not-array',
    // eslint-disable-next-line no-console
    () => console.warn('[Health Validator] Services field is not an array:', servicesRaw));
  }

  // Extract and validate performance metrics
  const performanceRaw = rawObj.performance;
  let performance = {};
  if (performanceRaw && typeof performanceRaw === 'object') {
    const perfObj = performanceRaw;
    performance = {
      cpu_percent: coerceToNumber(perfObj.cpu_percent),
      memory_usage_mb: coerceToNumber(perfObj.memory_usage_mb),
      p95_latency_ms: coerceToNumber(perfObj.p95_latency_ms),
      cache_hit_rate: coerceToNumber(perfObj.cache_hit_rate),
      active_connections: coerceToNumber(perfObj.active_connections),
      requests_per_minute: coerceToNumber(perfObj.requests_per_minute)
    };
  }

  // Extract and validate cache metrics
  const cacheRaw = rawObj.cache;
  let cache = {};
  if (cacheRaw && typeof cacheRaw === 'object') {
    const cacheObj = cacheRaw;
    cache = {
      hit_rate: coerceToNumber(cacheObj.hit_rate),
      miss_rate: coerceToNumber(cacheObj.miss_rate),
      evictions: coerceToNumber(cacheObj.evictions),
      total_keys: coerceToNumber(cacheObj.total_keys),
      memory_usage: coerceToNumber(cacheObj.memory_usage)
    };
  }

  // Extract and validate infrastructure
  const infrastructureRaw = rawObj.infrastructure;
  let infrastructure = {};
  if (infrastructureRaw && typeof infrastructureRaw === 'object') {
    const infraObj = infrastructureRaw;
    infrastructure = {
      database: infraObj.database && typeof infraObj.database === 'object' ? {
        name: 'database',
        status: normalizeStatus(infraObj.database.status),
        latency_ms: coerceToNumber(infraObj.database.latency_ms)
      } : undefined,
      cache: infraObj.cache && typeof infraObj.cache === 'object' ? {
        name: 'cache',
        status: normalizeStatus(infraObj.cache.status),
        latency_ms: coerceToNumber(infraObj.cache.latency_ms),
        hit_rate_percent: coerceToNumber(infraObj.cache.hit_rate_percent)
      } : undefined,
      external_apis: Array.isArray(infraObj.external_apis) ? infraObj.external_apis.map((api, index) => {
        if (!api || typeof api !== 'object') {
          return {
            name: `external-api-${index}`,
            status: 'down'
          };
        }
        const apiObj = api;
        return {
          name: typeof apiObj.name === 'string' ? apiObj.name : `external-api-${index}`,
          status: normalizeStatus(apiObj.status),
          latency_ms: coerceToNumber(apiObj.latency_ms)
        };
      }) : undefined,
      active_edges: coerceToNumber(infraObj.active_edges)
    };
  }

  // Build validated health object
  const validated = {
    overall_status: normalizeStatus(rawObj.overall_status || rawObj.status),
    services,
    performance,
    cache,
    infrastructure,
    timestamp: typeof rawObj.timestamp === 'string' ? rawObj.timestamp : new Date().toISOString(),
    uptime_seconds: coerceToNumber(rawObj.uptime_seconds),
    version: typeof rawObj.version === 'string' ? rawObj.version : undefined,
    __validated: true,
    // Preserve other fields for extensibility
    ...Object.fromEntries(Object.entries(rawObj).filter(([key]) => !['overall_status', 'status', 'services', 'performance', 'cache', 'infrastructure', 'timestamp', 'uptime_seconds', 'version'].includes(key)))
  };
  return validated;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfb25lVGltZUxvZyIsInJlcXVpcmUiLCJzYWZlU3RyaW5naWZ5Iiwib2JqIiwiSlNPTiIsInN0cmluZ2lmeSIsIlN0cmluZyIsImNvZXJjZVRvTnVtYmVyIiwidmFsdWUiLCJmYWxsYmFjayIsImlzRmluaXRlIiwicGFyc2VkIiwicGFyc2VGbG9hdCIsImlzTmFOIiwibm9ybWFsaXplU3RhdHVzIiwic3RhdHVzIiwibm9ybWFsaXplZCIsInRvTG93ZXJDYXNlIiwidmFsaWRhdGVIZWFsdGhSZXNwb25zZSIsInJhdyIsImVycm9yIiwiRXJyb3IiLCJjb2RlIiwiY29udGV4dCIsInJhd09iaiIsIm1hbmRhdG9yeUtleXMiLCJtaXNzaW5nS2V5cyIsImZpbHRlciIsImtleSIsImxlbmd0aCIsIm9uZVRpbWVMb2ciLCJjb25zb2xlIiwid2FybiIsImpvaW4iLCJzZXJ2aWNlc1JhdyIsInNlcnZpY2VzIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwic2VydmljZSIsImluZGV4IiwibmFtZSIsInNlcnZpY2VPYmoiLCJsYXRlbmN5X21zIiwiZGV0YWlscyIsInVuZGVmaW5lZCIsInBlcmZvcm1hbmNlUmF3IiwicGVyZm9ybWFuY2UiLCJwZXJmT2JqIiwiY3B1X3BlcmNlbnQiLCJtZW1vcnlfdXNhZ2VfbWIiLCJwOTVfbGF0ZW5jeV9tcyIsImNhY2hlX2hpdF9yYXRlIiwiYWN0aXZlX2Nvbm5lY3Rpb25zIiwicmVxdWVzdHNfcGVyX21pbnV0ZSIsImNhY2hlUmF3IiwiY2FjaGUiLCJjYWNoZU9iaiIsImhpdF9yYXRlIiwibWlzc19yYXRlIiwiZXZpY3Rpb25zIiwidG90YWxfa2V5cyIsIm1lbW9yeV91c2FnZSIsImluZnJhc3RydWN0dXJlUmF3IiwiaW5mcmFzdHJ1Y3R1cmUiLCJpbmZyYU9iaiIsImRhdGFiYXNlIiwiaGl0X3JhdGVfcGVyY2VudCIsImV4dGVybmFsX2FwaXMiLCJhcGkiLCJhcGlPYmoiLCJhY3RpdmVfZWRnZXMiLCJ2YWxpZGF0ZWQiLCJvdmVyYWxsX3N0YXR1cyIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwdGltZV9zZWNvbmRzIiwidmVyc2lvbiIsIl9fdmFsaWRhdGVkIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwiaW5jbHVkZXMiXSwic291cmNlcyI6WyJ2YWxpZGF0ZUhlYWx0aFJlc3BvbnNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBIZWFsdGggcmVzcG9uc2UgdmFsaWRhdGlvbiB1dGlsaXR5XHJcbiAqIFJlcGxhY2VzIGVuc3VyZUhlYWx0aFNoYXBlLnRzIHdpdGggdG9sZXJhbnQgdmFsaWRhdGlvbiBhbGlnbmVkIHdpdGggbmV3IHNjaGVtYVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFZhbGlkYXRlZEhlYWx0aFBheWxvYWQsIEhlYWx0aERhdGEsIERpYWdub3N0aWNzRXJyb3IgfSBmcm9tICcuLi90eXBlcy9kaWFnbm9zdGljcyc7XHJcbmltcG9ydCB7IG9uZVRpbWVMb2cgfSBmcm9tICcuL29uZVRpbWVMb2cnO1xyXG5cclxuLyoqXHJcbiAqIFNhZmUgc3RyaW5naWZ5IGZvciBsb2dnaW5nXHJcbiAqL1xyXG5jb25zdCBzYWZlU3RyaW5naWZ5ID0gKG9iajogdW5rbm93bik6IHN0cmluZyA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIFN0cmluZyhvYmopO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBTYWZlbHkgY29lcmNlIHZhbHVlIHRvIG51bWJlciB3aXRoIGZhbGxiYWNrXHJcbiAqL1xyXG5jb25zdCBjb2VyY2VUb051bWJlciA9ICh2YWx1ZTogdW5rbm93biwgZmFsbGJhY2s6IG51bWJlciA9IDApOiBudW1iZXIgPT4ge1xyXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSkge1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgaXNGaW5pdGUocGFyc2VkKSkge1xyXG4gICAgICByZXR1cm4gcGFyc2VkO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZmFsbGJhY2s7XHJcbn07XHJcblxyXG4vKipcclxuICogTm9ybWFsaXplIHN0YXR1cyB0byBleHBlY3RlZCB2YWx1ZXNcclxuICovXHJcbmNvbnN0IG5vcm1hbGl6ZVN0YXR1cyA9IChzdGF0dXM6IHVua25vd24pOiAnb2snIHwgJ2RlZ3JhZGVkJyB8ICdkb3duJyA9PiB7XHJcbiAgaWYgKHR5cGVvZiBzdGF0dXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICBjb25zdCBub3JtYWxpemVkID0gc3RhdHVzLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAobm9ybWFsaXplZCA9PT0gJ29rJyB8fCBub3JtYWxpemVkID09PSAnaGVhbHRoeScpIHJldHVybiAnb2snO1xyXG4gICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdkZWdyYWRlZCcgfHwgbm9ybWFsaXplZCA9PT0gJ3dhcm5pbmcnKSByZXR1cm4gJ2RlZ3JhZGVkJztcclxuICAgIGlmIChub3JtYWxpemVkID09PSAnZG93bicgfHwgbm9ybWFsaXplZCA9PT0gJ2Vycm9yJyB8fCBub3JtYWxpemVkID09PSAndW5oZWFsdGh5JykgcmV0dXJuICdkb3duJztcclxuICB9XHJcbiAgcmV0dXJuICdkb3duJzsgLy8gRGVmYXVsdCB0byBkb3duIGZvciB1bmtub3duIHN0YXRlc1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyBhbmQgbm9ybWFsaXplcyBoZWFsdGggcmVzcG9uc2UgZGF0YVxyXG4gKiBQZXJmb3JtcyBzaGFsbG93IHN0cnVjdHVyYWwgY2hlY2tzIGFuZCBwcm92aWRlcyBzYWZlIGRlZmF1bHRzXHJcbiAqIFxyXG4gKiBAcGFyYW0gcmF3IC0gUmF3IHJlc3BvbnNlIGRhdGEgZnJvbSBiYWNrZW5kXHJcbiAqIEByZXR1cm5zIFZhbGlkYXRlZCBoZWFsdGggcGF5bG9hZFxyXG4gKiBAdGhyb3dzIERpYWdub3N0aWNzRXJyb3IgaWYgY3JpdGljYWwgc3RydWN0dXJlIGlzIG1pc3NpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUhlYWx0aFJlc3BvbnNlKHJhdzogdW5rbm93bik6IFZhbGlkYXRlZEhlYWx0aFBheWxvYWQge1xyXG4gIC8vIFR5cGUgZ3VhcmQgZm9yIHJhdyBkYXRhXHJcbiAgaWYgKCFyYXcgfHwgdHlwZW9mIHJhdyAhPT0gJ29iamVjdCcpIHtcclxuICAgIGNvbnN0IGVycm9yOiBEaWFnbm9zdGljc0Vycm9yID0gbmV3IEVycm9yKCdIZWFsdGggcmVzcG9uc2UgaXMgbm90IGFuIG9iamVjdCcpIGFzIERpYWdub3N0aWNzRXJyb3I7XHJcbiAgICBlcnJvci5jb2RlID0gJ0hFQUxUSF9TSEFQRV9NSVNNQVRDSCc7XHJcbiAgICBlcnJvci5jb250ZXh0ID0geyByYXcgfTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmF3T2JqID0gcmF3IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG5cclxuICAvLyBDaGVjayBmb3IgbWFuZGF0b3J5IHRvcC1sZXZlbCBrZXlzXHJcbiAgY29uc3QgbWFuZGF0b3J5S2V5cyA9IFsnc2VydmljZXMnLCAncGVyZm9ybWFuY2UnLCAnY2FjaGUnLCAnaW5mcmFzdHJ1Y3R1cmUnXTtcclxuICBjb25zdCBtaXNzaW5nS2V5cyA9IG1hbmRhdG9yeUtleXMuZmlsdGVyKGtleSA9PiAhKGtleSBpbiByYXdPYmopKTtcclxuXHJcbiAgaWYgKG1pc3NpbmdLZXlzLmxlbmd0aCA+IDApIHtcclxuICAgIG9uZVRpbWVMb2coXHJcbiAgICAgICdoZWFsdGgtdmFsaWRhdGlvbi1taXNzaW5nLWtleXMnLFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnW0hlYWx0aCBWYWxpZGF0b3JdIE1pc3NpbmcgbWFuZGF0b3J5IGZpZWxkczonLFxyXG4gICAgICAgICAgbWlzc2luZ0tleXMuam9pbignLCAnKSxcclxuICAgICAgICAgICdcXG5SYXcgZGF0YTonLFxyXG4gICAgICAgICAgc2FmZVN0cmluZ2lmeShyYXcpXHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuICAgICAgbWlzc2luZ0tleXMuam9pbignLCcpXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGVycm9yOiBEaWFnbm9zdGljc0Vycm9yID0gbmV3IEVycm9yKGBNaXNzaW5nIG1hbmRhdG9yeSBoZWFsdGggZmllbGRzOiAke21pc3NpbmdLZXlzLmpvaW4oJywgJyl9YCkgYXMgRGlhZ25vc3RpY3NFcnJvcjtcclxuICAgIGVycm9yLmNvZGUgPSAnSEVBTFRIX1NIQVBFX01JU01BVENIJztcclxuICAgIGVycm9yLmNvbnRleHQgPSB7IG1pc3NpbmdLZXlzLCByYXcgfTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0cmFjdCBhbmQgdmFsaWRhdGUgc2VydmljZXMgYXJyYXlcclxuICBjb25zdCBzZXJ2aWNlc1JhdyA9IHJhd09iai5zZXJ2aWNlcztcclxuICBsZXQgc2VydmljZXM6IEhlYWx0aERhdGFbJ3NlcnZpY2VzJ10gPSBbXTtcclxuICBcclxuICBpZiAoQXJyYXkuaXNBcnJheShzZXJ2aWNlc1JhdykpIHtcclxuICAgIHNlcnZpY2VzID0gc2VydmljZXNSYXcubWFwKChzZXJ2aWNlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIXNlcnZpY2UgfHwgdHlwZW9mIHNlcnZpY2UgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgb25lVGltZUxvZyhcclxuICAgICAgICAgICdoZWFsdGgtdmFsaWRhdGlvbi1pbnZhbGlkLXNlcnZpY2UnLFxyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICgpID0+IGNvbnNvbGUud2FybihgW0hlYWx0aCBWYWxpZGF0b3JdIEludmFsaWQgc2VydmljZSBhdCBpbmRleCAke2luZGV4fTpgLCBzZXJ2aWNlKSxcclxuICAgICAgICAgIGBpbmRleC0ke2luZGV4fWBcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiB7IG5hbWU6IGB1bmtub3duLSR7aW5kZXh9YCwgc3RhdHVzOiAnZG93bicgYXMgY29uc3QgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2VydmljZU9iaiA9IHNlcnZpY2UgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZTogdHlwZW9mIHNlcnZpY2VPYmoubmFtZSA9PT0gJ3N0cmluZycgPyBzZXJ2aWNlT2JqLm5hbWUgOiBgc2VydmljZS0ke2luZGV4fWAsXHJcbiAgICAgICAgc3RhdHVzOiBub3JtYWxpemVTdGF0dXMoc2VydmljZU9iai5zdGF0dXMpLFxyXG4gICAgICAgIGxhdGVuY3lfbXM6IGNvZXJjZVRvTnVtYmVyKHNlcnZpY2VPYmoubGF0ZW5jeV9tcyksXHJcbiAgICAgICAgZGV0YWlsczogc2VydmljZU9iai5kZXRhaWxzICYmIHR5cGVvZiBzZXJ2aWNlT2JqLmRldGFpbHMgPT09ICdvYmplY3QnIFxyXG4gICAgICAgICAgPyBzZXJ2aWNlT2JqLmRldGFpbHMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvbmVUaW1lTG9nKFxyXG4gICAgICAnaGVhbHRoLXZhbGlkYXRpb24tc2VydmljZXMtbm90LWFycmF5JyxcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgKCkgPT4gY29uc29sZS53YXJuKCdbSGVhbHRoIFZhbGlkYXRvcl0gU2VydmljZXMgZmllbGQgaXMgbm90IGFuIGFycmF5OicsIHNlcnZpY2VzUmF3KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEV4dHJhY3QgYW5kIHZhbGlkYXRlIHBlcmZvcm1hbmNlIG1ldHJpY3NcclxuICBjb25zdCBwZXJmb3JtYW5jZVJhdyA9IHJhd09iai5wZXJmb3JtYW5jZTtcclxuICBsZXQgcGVyZm9ybWFuY2U6IEhlYWx0aERhdGFbJ3BlcmZvcm1hbmNlJ10gPSB7fTtcclxuICBcclxuICBpZiAocGVyZm9ybWFuY2VSYXcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlUmF3ID09PSAnb2JqZWN0Jykge1xyXG4gICAgY29uc3QgcGVyZk9iaiA9IHBlcmZvcm1hbmNlUmF3IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG4gICAgcGVyZm9ybWFuY2UgPSB7XHJcbiAgICAgIGNwdV9wZXJjZW50OiBjb2VyY2VUb051bWJlcihwZXJmT2JqLmNwdV9wZXJjZW50KSxcclxuICAgICAgbWVtb3J5X3VzYWdlX21iOiBjb2VyY2VUb051bWJlcihwZXJmT2JqLm1lbW9yeV91c2FnZV9tYiksXHJcbiAgICAgIHA5NV9sYXRlbmN5X21zOiBjb2VyY2VUb051bWJlcihwZXJmT2JqLnA5NV9sYXRlbmN5X21zKSxcclxuICAgICAgY2FjaGVfaGl0X3JhdGU6IGNvZXJjZVRvTnVtYmVyKHBlcmZPYmouY2FjaGVfaGl0X3JhdGUpLFxyXG4gICAgICBhY3RpdmVfY29ubmVjdGlvbnM6IGNvZXJjZVRvTnVtYmVyKHBlcmZPYmouYWN0aXZlX2Nvbm5lY3Rpb25zKSxcclxuICAgICAgcmVxdWVzdHNfcGVyX21pbnV0ZTogY29lcmNlVG9OdW1iZXIocGVyZk9iai5yZXF1ZXN0c19wZXJfbWludXRlKSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBFeHRyYWN0IGFuZCB2YWxpZGF0ZSBjYWNoZSBtZXRyaWNzXHJcbiAgY29uc3QgY2FjaGVSYXcgPSByYXdPYmouY2FjaGU7XHJcbiAgbGV0IGNhY2hlOiBIZWFsdGhEYXRhWydjYWNoZSddID0ge307XHJcbiAgXHJcbiAgaWYgKGNhY2hlUmF3ICYmIHR5cGVvZiBjYWNoZVJhdyA9PT0gJ29iamVjdCcpIHtcclxuICAgIGNvbnN0IGNhY2hlT2JqID0gY2FjaGVSYXcgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcbiAgICBjYWNoZSA9IHtcclxuICAgICAgaGl0X3JhdGU6IGNvZXJjZVRvTnVtYmVyKGNhY2hlT2JqLmhpdF9yYXRlKSxcclxuICAgICAgbWlzc19yYXRlOiBjb2VyY2VUb051bWJlcihjYWNoZU9iai5taXNzX3JhdGUpLFxyXG4gICAgICBldmljdGlvbnM6IGNvZXJjZVRvTnVtYmVyKGNhY2hlT2JqLmV2aWN0aW9ucyksXHJcbiAgICAgIHRvdGFsX2tleXM6IGNvZXJjZVRvTnVtYmVyKGNhY2hlT2JqLnRvdGFsX2tleXMpLFxyXG4gICAgICBtZW1vcnlfdXNhZ2U6IGNvZXJjZVRvTnVtYmVyKGNhY2hlT2JqLm1lbW9yeV91c2FnZSksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0cmFjdCBhbmQgdmFsaWRhdGUgaW5mcmFzdHJ1Y3R1cmVcclxuICBjb25zdCBpbmZyYXN0cnVjdHVyZVJhdyA9IHJhd09iai5pbmZyYXN0cnVjdHVyZTtcclxuICBsZXQgaW5mcmFzdHJ1Y3R1cmU6IEhlYWx0aERhdGFbJ2luZnJhc3RydWN0dXJlJ10gPSB7fTtcclxuICBcclxuICBpZiAoaW5mcmFzdHJ1Y3R1cmVSYXcgJiYgdHlwZW9mIGluZnJhc3RydWN0dXJlUmF3ID09PSAnb2JqZWN0Jykge1xyXG4gICAgY29uc3QgaW5mcmFPYmogPSBpbmZyYXN0cnVjdHVyZVJhdyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuICAgIGluZnJhc3RydWN0dXJlID0ge1xyXG4gICAgICBkYXRhYmFzZTogaW5mcmFPYmouZGF0YWJhc2UgJiYgdHlwZW9mIGluZnJhT2JqLmRhdGFiYXNlID09PSAnb2JqZWN0J1xyXG4gICAgICAgID8ge1xyXG4gICAgICAgICAgICBuYW1lOiAnZGF0YWJhc2UnLFxyXG4gICAgICAgICAgICBzdGF0dXM6IG5vcm1hbGl6ZVN0YXR1cygoaW5mcmFPYmouZGF0YWJhc2UgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLnN0YXR1cyksXHJcbiAgICAgICAgICAgIGxhdGVuY3lfbXM6IGNvZXJjZVRvTnVtYmVyKChpbmZyYU9iai5kYXRhYmFzZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikubGF0ZW5jeV9tcyksXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgICAgIGNhY2hlOiBpbmZyYU9iai5jYWNoZSAmJiB0eXBlb2YgaW5mcmFPYmouY2FjaGUgPT09ICdvYmplY3QnXHJcbiAgICAgICAgPyB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdjYWNoZScsXHJcbiAgICAgICAgICAgIHN0YXR1czogbm9ybWFsaXplU3RhdHVzKChpbmZyYU9iai5jYWNoZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikuc3RhdHVzKSxcclxuICAgICAgICAgICAgbGF0ZW5jeV9tczogY29lcmNlVG9OdW1iZXIoKGluZnJhT2JqLmNhY2hlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5sYXRlbmN5X21zKSxcclxuICAgICAgICAgICAgaGl0X3JhdGVfcGVyY2VudDogY29lcmNlVG9OdW1iZXIoKGluZnJhT2JqLmNhY2hlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KS5oaXRfcmF0ZV9wZXJjZW50KSxcclxuICAgICAgICAgIH1cclxuICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgZXh0ZXJuYWxfYXBpczogQXJyYXkuaXNBcnJheShpbmZyYU9iai5leHRlcm5hbF9hcGlzKVxyXG4gICAgICAgID8gKGluZnJhT2JqLmV4dGVybmFsX2FwaXMgYXMgQXJyYXk8dW5rbm93bj4pLm1hcCgoYXBpLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWFwaSB8fCB0eXBlb2YgYXBpICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGBleHRlcm5hbC1hcGktJHtpbmRleH1gLCBzdGF0dXM6ICdkb3duJyBhcyBjb25zdCB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFwaU9iaiA9IGFwaSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBuYW1lOiB0eXBlb2YgYXBpT2JqLm5hbWUgPT09ICdzdHJpbmcnID8gYXBpT2JqLm5hbWUgOiBgZXh0ZXJuYWwtYXBpLSR7aW5kZXh9YCxcclxuICAgICAgICAgICAgICBzdGF0dXM6IG5vcm1hbGl6ZVN0YXR1cyhhcGlPYmouc3RhdHVzKSxcclxuICAgICAgICAgICAgICBsYXRlbmN5X21zOiBjb2VyY2VUb051bWJlcihhcGlPYmoubGF0ZW5jeV9tcyksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICBhY3RpdmVfZWRnZXM6IGNvZXJjZVRvTnVtYmVyKGluZnJhT2JqLmFjdGl2ZV9lZGdlcyksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQnVpbGQgdmFsaWRhdGVkIGhlYWx0aCBvYmplY3RcclxuICBjb25zdCB2YWxpZGF0ZWQ6IFZhbGlkYXRlZEhlYWx0aFBheWxvYWQgPSB7XHJcbiAgICBvdmVyYWxsX3N0YXR1czogbm9ybWFsaXplU3RhdHVzKHJhd09iai5vdmVyYWxsX3N0YXR1cyB8fCByYXdPYmouc3RhdHVzKSxcclxuICAgIHNlcnZpY2VzLFxyXG4gICAgcGVyZm9ybWFuY2UsXHJcbiAgICBjYWNoZSxcclxuICAgIGluZnJhc3RydWN0dXJlLFxyXG4gICAgdGltZXN0YW1wOiB0eXBlb2YgcmF3T2JqLnRpbWVzdGFtcCA9PT0gJ3N0cmluZycgPyByYXdPYmoudGltZXN0YW1wIDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgdXB0aW1lX3NlY29uZHM6IGNvZXJjZVRvTnVtYmVyKHJhd09iai51cHRpbWVfc2Vjb25kcyksXHJcbiAgICB2ZXJzaW9uOiB0eXBlb2YgcmF3T2JqLnZlcnNpb24gPT09ICdzdHJpbmcnID8gcmF3T2JqLnZlcnNpb24gOiB1bmRlZmluZWQsXHJcbiAgICBfX3ZhbGlkYXRlZDogdHJ1ZSxcclxuICAgIC8vIFByZXNlcnZlIG90aGVyIGZpZWxkcyBmb3IgZXh0ZW5zaWJpbGl0eVxyXG4gICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKFxyXG4gICAgICBPYmplY3QuZW50cmllcyhyYXdPYmopLmZpbHRlcigoW2tleV0pID0+IFxyXG4gICAgICAgICFbJ292ZXJhbGxfc3RhdHVzJywgJ3N0YXR1cycsICdzZXJ2aWNlcycsICdwZXJmb3JtYW5jZScsICdjYWNoZScsICdpbmZyYXN0cnVjdHVyZScsICd0aW1lc3RhbXAnLCAndXB0aW1lX3NlY29uZHMnLCAndmVyc2lvbiddLmluY2x1ZGVzKGtleSlcclxuICAgICAgKVxyXG4gICAgKSxcclxuICB9O1xyXG5cclxuICByZXR1cm4gdmFsaWRhdGVkO1xyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFNQSxJQUFBQSxXQUFBLEdBQUFDLE9BQUE7QUFOQTtBQUNBO0FBQ0E7QUFDQTs7QUFLQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxhQUFhLEdBQUlDLEdBQVksSUFBYTtFQUM5QyxJQUFJO0lBQ0YsT0FBT0MsSUFBSSxDQUFDQyxTQUFTLENBQUNGLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0VBQ3JDLENBQUMsQ0FBQyxNQUFNO0lBQ04sT0FBT0csTUFBTSxDQUFDSCxHQUFHLENBQUM7RUFDcEI7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLE1BQU1JLGNBQWMsR0FBR0EsQ0FBQ0Ms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TSxFQUFFO1VBQWdCLENBQUM7UUFDbkU7UUFDQSxNQUFNdUQsTUFBTSxHQUFHRCxHQUE4QjtRQUM3QyxPQUFPO1VBQ0w1QixJQUFJLEVBQUUsT0FBTzZCLE1BQU0sQ0FBQzdCLElBQUksS0FBSyxRQUFRLEdBQUc2QixNQUFNLENBQUM3QixJQUFJLEdBQUcsZ0JBQWdCRCxLQUFLLEVBQUU7VUFDN0V6QixNQUFNLEVBQUVELGVBQWUsQ0FBQ3dELE1BQU0sQ0FBQ3ZELE1BQU0sQ0FBQztVQUN0QzRCLFVBQVUsRUFBRXBDLGNBQWMsQ0FBQytELE1BQU0sQ0FBQzNCLFVBQVU7UUFDOUMsQ0FBQztNQUNILENBQUMsQ0FBQyxHQUNGRSxTQUFTO01BQ2IwQixZQUFZLEVBQUVoRSxjQUFjLENBQUMwRCxRQUFRLENBQUNNLFlBQVk7SUFDcEQsQ0FBQztFQUNIOztFQUVBO0VBQ0EsTUFBTUMsU0FBaUMsR0FBRztJQUN4Q0MsY0FBYyxFQUFFM0QsZUFBZSxDQUFDVSxNQUFNLENBQUNpRCxjQUFjLElBQUlqRCxNQUFNLENBQUNULE1BQU0sQ0FBQztJQUN2RW9CLFFBQVE7SUFDUlksV0FBVztJQUNYUyxLQUFLO0lBQ0xRLGNBQWM7SUFDZFUsU0FBUyxFQUFFLE9BQU9sRCxNQUFNLENBQUNrRCxTQUFTLEtBQUssUUFBUSxHQUFHbEQsTUFBTSxDQUFDa0QsU0FBUyxHQUFHLElBQUlDLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0lBQzdGQyxjQUFjLEVBQUV0RSxjQUFjLENBQUNpQixNQUFNLENBQUNxRCxjQUFjLENBQUM7SUFDckRDLE9BQU8sRUFBRSxPQUFPdEQsTUFBTSxDQUFDc0QsT0FBTyxLQUFLLFFBQVEsR0FBR3RELE1BQU0sQ0FBQ3NELE9BQU8sR0FBR2pDLFNBQVM7SUFDeEVrQyxXQUFXLEVBQUUsSUFBSTtJQUNqQjtJQUNBLEdBQUdDLE1BQU0sQ0FBQ0MsV0FBVyxDQUNuQkQsTUFBTSxDQUFDRSxPQUFPLENBQUMxRCxNQUFNLENBQUMsQ0FBQ0csTUFBTSxDQUFDLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLEtBQ2xDLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxDQUFDdUQsUUFBUSxDQUFDdkQsR0FBRyxDQUM1SSxDQUNGO0VBQ0YsQ0FBQztFQUVELE9BQU80QyxTQUFTO0FBQ2xCIiwiaWdub3JlTGlzdCI6W119