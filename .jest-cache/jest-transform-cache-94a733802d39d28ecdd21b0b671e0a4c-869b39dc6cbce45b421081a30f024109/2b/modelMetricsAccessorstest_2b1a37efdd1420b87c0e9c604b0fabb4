debea29156d9882bc3c43cfa46fe93a9
"use strict";

// Mock oneTimeLog to test warning calls
_getJestObj().mock('../oneTimeLog', () => {
  const loggedSignatures = new Set();
  const logFnCalls = [];
  return {
    oneTimeLog: jest.fn((key, logFn, message) => {
      const signature = `${key}:${message || 'generic'}`;
      if (!loggedSignatures.has(signature)) {
        loggedSignatures.add(signature);
        logFn();
        logFnCalls.push(logFn);
      }
    }),
    clearLoggedSignatures: jest.fn(() => {
      loggedSignatures.clear();
      logFnCalls.length = 0;
    }),
    getLogFnCallCount: () => logFnCalls.length
  };
});
var _modelMetricsAccessors = require("../modelMetricsAccessors");
var _oneTimeLog = require("../oneTimeLog");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const mockOneTimeLog = _oneTimeLog.oneTimeLog;
const mockClearLoggedSignatures = _oneTimeLog.clearLoggedSignatures;
beforeEach(() => {
  mockOneTimeLog.mockClear();
  mockClearLoggedSignatures.mockClear();
  // Ensure we're in test environment for warnings
  process.env.NODE_ENV = 'test';
  (0, _oneTimeLog.clearLoggedSignatures)();
});
describe('modelMetricsAccessors', () => {
  describe('getOptimizationLevel', () => {
    it('should get canonical optimization_level', () => {
      const canonical = {
        model: {
          optimization_level: 'Phase 4 Enhanced'
        }
      };
      expect((0, _modelMetricsAccessors.getOptimizationLevel)(canonical)).toBe('Phase 4 Enhanced');
    });
    it('should fall back to legacy optimizationLevel', () => {
      const legacy = {
        optimizationLevel: 'Advanced'
      };
      const result = (0, _modelMetricsAccessors.getOptimizationLevel)(legacy);
      expect(result).toBe('Advanced');
      expect(mockOneTimeLog).toHaveBeenCalledWith('optimization_level', expect.any(Function), 'optimization_level');
    });
    it('should try multiple legacy paths', () => {
      const legacyOptLevel = {
        opt_level: 'Phase 3'
      };
      expect((0, _modelMetricsAccessors.getOptimizationLevel)(legacyOptLevel)).toBe('Phase 3');
      const legacySystemInfo = {
        system_info: {
          optimization_level: 'Phase 2'
        }
      };
      expect((0, _modelMetricsAccessors.getOptimizationLevel)(legacySystemInfo)).toBe('Phase 2');
    });
    it('should return default for missing field', () => {
      expect((0, _modelMetricsAccessors.getOptimizationLevel)({})).toBe('Basic');
      expect((0, _modelMetricsAccessors.getOptimizationLevel)(null)).toBe('Basic');
    });
  });
  describe('getModelName', () => {
    it('should get canonical model name', () => {
      const canonical = {
        model: {
          name: 'GPT-4'
        }
      };
      expect((0, _modelMetricsAccessors.getModelName)(canonical)).toBe('GPT-4');
    });
    it('should fall back to legacy modelName', () => {
      const legacy = {
        modelName: 'Legacy Model'
      };
      expect((0, _modelMetricsAccessors.getModelName)(legacy)).toBe('Legacy Model');
    });
    it('should return default for missing field', () => {
      expect((0, _modelMetricsAccessors.getModelName)({})).toBe('Unknown Model');
    });
  });
  describe('getProvider', () => {
    it('should get canonical provider', () => {
      const canonical = {
        model: {
          provider: 'OpenAI'
        }
      };
      expect((0, _modelMetricsAccessors.getProvider)(canonical)).toBe('OpenAI');
    });
    it('should fall back to legacy provider', () => {
      const legacy = {
        provider: 'Legacy Provider'
      };
      expect((0, _modelMetricsAccessors.getProvider)(legacy)).toBe('Legacy Provider');
    });
  });
  describe('performance metrics accessors', () => {
    it('should get throughput from canonical path', () => {
      const data = {
        performance: {
          throughput_rps: 123.45
        }
      };
      expect((0, _modelMetricsAccessors.getThroughputRps)(data)).toBe(123.45);
    });
    it('should get throughput from legacy path', () => {
      const legacy = {
        throughput: 100
      };
      expect((0, _modelMetricsAccessors.getThroughputRps)(legacy)).toBe(100);
    });
    it('should get latency metrics', () => {
      const data = {
        performance: {
          avg_latency_ms: 50.5,
          p95_latency_ms: 95.2
        }
      };
      expect((0, _modelMetricsAccessors.getAvgLatencyMs)(data)).toBe(50.5);
      expect((0, _modelMetricsAccessors.getP95LatencyMs)(data)).toBe(95.2);
    });
    it('should normalize success rate from percentage', () => {
      const percentageData = {
        performance: {
          success_rate: 85.5
        }
      };

      // Should convert percentage to decimal
      expect((0, _modelMetricsAccessors.getSuccessRate)(percentageData)).toBe(0.855);
    });
    it('should keep decimal success rate as-is', () => {
      const decimalData = {
        performance: {
          success_rate: 0.92
        }
      };
      expect((0, _modelMetricsAccessors.getSuccessRate)(decimalData)).toBe(0.92);
    });
  });
  describe('usage metrics accessors', () => {
    it('should get total requests from canonical path', () => {
      const data = {
        usage: {
          total_requests: 1000
        }
      };
      expect((0, _modelMetricsAccessors.getTotalRequests)(data)).toBe(1000);
    });
    it('should get total requests from legacy path', () => {
      const legacy = {
        total_inferences: 500
      };
      expect((0, _modelMetricsAccessors.getTotalRequests)(legacy)).toBe(500);
    });
    it('should get total tokens', () => {
      const data = {
        usage: {
          total_tokens: 750
        }
      };
      expect((0, _modelMetricsAccessors.getTotalTokens)(data)).toBe(750);
    });
  });
  describe('tuning parameters', () => {
    it('should get temperature from canonical path', () => {
      const data = {
        tuning: {
          temperature: 0.8
        }
      };
      expect((0, _modelMetricsAccessors.getTemperature)(data)).toBe(0.8);
    });
    it('should get temperature from legacy path', () => {
      const legacy = {
        temperature: 0.5
      };
      expect((0, _modelMetricsAccessors.getTemperature)(legacy)).toBe(0.5);
    });
    it('should return default temperature', () => {
      expect((0, _modelMetricsAccessors.getTemperature)({})).toBe(0.7);
    });
  });
  describe('type coercion', () => {
    it('should coerce string numbers to numbers', () => {
      const stringData = {
        performance: {
          throughput_rps: '123.45',
          avg_latency_ms: '67'
        }
      };
      expect((0, _modelMetricsAccessors.getThroughputRps)(stringData)).toBe(123.45);
      expect((0, _modelMetricsAccessors.getAvgLatencyMs)(stringData)).toBe(67);
    });
    it('should coerce numbers to strings', () => {
      const numericData = {
        model: {
          name: 123,
          optimization_level: 456
        }
      };
      expect((0, _modelMetricsAccessors.getModelName)(numericData)).toBe('123');
      expect((0, _modelMetricsAccessors.getOptimizationLevel)(numericData)).toBe('456');
    });
    it('should handle invalid numeric strings', () => {
      const invalidData = {
        performance: {
          throughput_rps: 'not-a-number',
          avg_latency_ms: 'invalid'
        }
      };
      expect((0, _modelMetricsAccessors.getThroughputRps)(invalidData)).toBe(0); // Default fallback
      expect((0, _modelMetricsAccessors.getAvgLatencyMs)(invalidData)).toBe(0); // Default fallback
    });
  });
  describe('safeMetricsAccess utility', () => {
    it('should safely access nested properties', () => {
      const data = {
        deep: {
          nested: {
            value: 'found'
          }
        }
      };
      expect((0, _modelMetricsAccessors.safeMetricsAccess)(data, ['deep', 'nested', 'value'], 'default')).toBe('found');
    });
    it('should return default for missing nested properties', () => {
      const data = {
        some: 'value'
      };
      expect((0, _modelMetricsAccessors.safeMetricsAccess)(data, ['missing', 'nested', 'path'], 'fallback')).toBe('fallback');
    });
    it('should handle null/undefined objects', () => {
      expect((0, _modelMetricsAccessors.safeMetricsAccess)(null, ['any', 'path'], 'default')).toBe('default');
      expect((0, _modelMetricsAccessors.safeMetricsAccess)(undefined, ['any', 'path'], 'default')).toBe('default');
    });
  });
  describe('isNormalizedModelMetrics', () => {
    it('should identify normalized ModelMetricsShape', () => {
      const normalized = {
        model: {
          name: 'Test',
          provider: 'Test',
          optimization_level: 'Basic'
        },
        performance: {
          throughput_rps: 0,
          avg_latency_ms: 0,
          p95_latency_ms: 0,
          success_rate: 0
        },
        usage: {
          total_requests: 0,
          input_tokens: 0,
          output_tokens: 0,
          total_tokens: 0
        }
      };
      expect((0, _modelMetricsAccessors.isNormalizedModelMetrics)(normalized)).toBe(true);
    });
    it('should reject incomplete objects', () => {
      const incomplete = {
        model: {
          name: 'Test'
        }
        // Missing performance and usage
      };
      expect((0, _modelMetricsAccessors.isNormalizedModelMetrics)(incomplete)).toBe(false);
      expect((0, _modelMetricsAccessors.isNormalizedModelMetrics)(null)).toBe(false);
      expect((0, _modelMetricsAccessors.isNormalizedModelMetrics)({})).toBe(false);
    });
  });
  describe('one-time warning behavior', () => {
    it('should warn only once per field', () => {
      const legacyData = {
        optimizationLevel: 'Test'
      };

      // First access should call oneTimeLog
      (0, _modelMetricsAccessors.getOptimizationLevel)(legacyData);
      expect(mockOneTimeLog).toHaveBeenCalledTimes(1);

      // Second access should call oneTimeLog again but not log again
      (0, _modelMetricsAccessors.getOptimizationLevel)(legacyData);
      expect(mockOneTimeLog).toHaveBeenCalledTimes(2);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJsb2dnZWRTaWduYXR1cmVzIiwiU2V0IiwibG9nRm5DYWxscyIsIm9uZVRpbWVMb2ciLCJqZXN0IiwiZm4iLCJrZXkiLCJsb2dGbiIsIm1lc3NhZ2UiLCJzaWduYXR1cmUiLCJoYXMiLCJhZGQiLCJwdXNoIiwiY2xlYXJMb2dnZWRTaWduYXR1cmVzIiwiY2xlYXIiLCJsZW5ndGgiLCJnZXRMb2dGbkNhbGxDb3VudCIsIl9tb2RlbE1ldHJpY3NBY2Nlc3NvcnMiLCJyZXF1aXJlIiwiX29uZVRpbWVMb2ciLCJtb2NrT25lVGltZUxvZyIsIm1vY2tDbGVhckxvZ2dlZFNpZ25hdHVyZXMiLCJiZWZvcmVFYWNoIiwibW9ja0NsZWFyIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZGVzY3JpYmUiLCJpdCIsImNhbm9uaWNhbCIsIm1vZGVsIiwib3B0aW1pemF0aW9uX2xldmVsIiwiZXhwZWN0IiwiZ2V0T3B0aW1pemF0aW9uTGV2ZWwiLCJ0b0JlIiwibGVnYWN5Iiwib3B0aW1pemF0aW9uTGV2ZWwiLCJyZXN1bHQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImFueSIsIkZ1bmN0aW9uIiwibGVnYWN5T3B0TGV2ZWwiLCJvcHRfbGV2ZWwiLCJsZWdhY3lTeXN0ZW1JbmZvIiwic3lzdGVtX2luZm8iLCJuYW1lIiwiZ2V0TW9kZWxOYW1lIiwibW9kZWxOYW1lIiwicHJvdmlkZXIiLCJnZXRQcm92aWRlciIsImRhdGEiLCJwZXJmb3JtYW5jZSIsInRocm91Z2hwdXRfcnBzIiwiZ2V0VGhyb3VnaHB1dFJwcyIsInRocm91Z2hwdXQiLCJhdmdfbGF0ZW5jeV9tcyIsInA5NV9sYXRlbmN5X21zIiwiZ2V0QXZnTGF0ZW5jeU1zIiwiZ2V0UDk1TGF0ZW5jeU1zIiwicGVyY2VudGFnZURhdGEiLCJzdWNjZXNzX3JhdGUiLCJnZXRTdWNjZXNzUmF0ZSIsImRlY2ltYWxEYXRhIiwidXNhZ2UiLCJ0b3RhbF9yZXF1ZXN0cyIsImdldFRvdGFsUmVxdWVzdHMiLCJ0b3RhbF9pbmZlcmVuY2VzIiwidG90YWxfdG9rZW5zIiwiZ2V0VG90YWxUb2tlbnMiLCJ0dW5pbmciLCJ0ZW1wZXJhdHVyZSIsImdldFRlbXBlcmF0dXJlIiwic3RyaW5nRGF0YSIsIm51bWVyaWNEYXRhIiwiaW52YWxpZERhdGEiLCJkZWVwIiwibmVzdGVkIiwidmFsdWUiLCJzYWZlTWV0cmljc0FjY2VzcyIsInNvbWUiLCJ1bmRlZmluZWQiLCJub3JtYWxpemVkIiwiaW5wdXRfdG9rZW5zIiwib3V0cHV0X3Rva2VucyIsImlzTm9ybWFsaXplZE1vZGVsTWV0cmljcyIsImluY29tcGxldGUiLCJsZWdhY3lEYXRhIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIl0sInNvdXJjZXMiOlsibW9kZWxNZXRyaWNzQWNjZXNzb3JzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBnZXRPcHRpbWl6YXRpb25MZXZlbCxcclxuICBnZXRNb2RlbE5hbWUsXHJcbiAgZ2V0UHJvdmlkZXIsXHJcbiAgZ2V0VGhyb3VnaHB1dFJwcyxcclxuICBnZXRBdmdMYXRlbmN5TXMsXHJcbiAgZ2V0UDk1TGF0ZW5jeU1zLFxyXG4gIGdldFN1Y2Nlc3NSYXRlLFxyXG4gIGdldFRvdGFsUmVxdWVzdHMsXHJcbiAgZ2V0VG90YWxUb2tlbnMsXHJcbiAgZ2V0VGVtcGVyYXR1cmUsXHJcbiAgc2FmZU1ldHJpY3NBY2Nlc3MsXHJcbiAgaXNOb3JtYWxpemVkTW9kZWxNZXRyaWNzXHJcbn0gZnJvbSAnLi4vbW9kZWxNZXRyaWNzQWNjZXNzb3JzJztcclxuaW1wb3J0IHsgb25lVGltZUxvZywgY2xlYXJMb2dnZWRTaWduYXR1cmVzIH0gZnJvbSAnLi4vb25lVGltZUxvZyc7XHJcblxyXG4vLyBNb2NrIG9uZVRpbWVMb2cgdG8gdGVzdCB3YXJuaW5nIGNhbGxzXHJcbmplc3QubW9jaygnLi4vb25lVGltZUxvZycsICgpID0+IHtcclxuICBjb25zdCBsb2dnZWRTaWduYXR1cmVzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgY29uc3QgbG9nRm5DYWxsczogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgb25lVGltZUxvZzogamVzdC5mbigoa2V5OiBzdHJpbmcsIGxvZ0ZuOiAoKSA9PiB2b2lkLCBtZXNzYWdlPzogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGAke2tleX06JHttZXNzYWdlIHx8ICdnZW5lcmljJ31gO1xyXG4gICAgICBpZiAoIWxvZ2dlZFNpZ25hdHVyZXMuaGFzKHNpZ25hdHVyZSkpIHtcclxuICAgICAgICBsb2dnZWRTaWduYXR1cmVzLmFkZChzaWduYXR1cmUpO1xyXG4gICAgICAgIGxvZ0ZuKCk7XHJcbiAgICAgICAgbG9nRm5DYWxscy5wdXNoKGxvZ0ZuKTtcclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgICBjbGVhckxvZ2dlZFNpZ25hdHVyZXM6IGplc3QuZm4oKCkgPT4ge1xyXG4gICAgICBsb2dnZWRTaWduYXR1cmVzLmNsZWFyKCk7XHJcbiAgICAgIGxvZ0ZuQ2FsbHMubGVuZ3RoID0gMDtcclxuICAgIH0pLFxyXG4gICAgZ2V0TG9nRm5DYWxsQ291bnQ6ICgpID0+IGxvZ0ZuQ2FsbHMubGVuZ3RoLFxyXG4gIH07XHJcbn0pO1xyXG5cclxuY29uc3QgbW9ja09uZVRpbWVMb2cgPSBvbmVUaW1lTG9nIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248YW55PjtcclxuY29uc3QgbW9ja0NsZWFyTG9nZ2VkU2lnbmF0dXJlcyA9IGNsZWFyTG9nZ2VkU2lnbmF0dXJlcyBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPGFueT47XHJcblxyXG5iZWZvcmVFYWNoKCgpID0+IHtcclxuICBtb2NrT25lVGltZUxvZy5tb2NrQ2xlYXIoKTtcclxuICBtb2NrQ2xlYXJMb2dnZWRTaWduYXR1cmVzLm1vY2tDbGVhcigpO1xyXG4gIC8vIEVuc3VyZSB3ZSdyZSBpbiB0ZXN0IGVudmlyb25tZW50IGZvciB3YXJuaW5nc1xyXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xyXG4gIGNsZWFyTG9nZ2VkU2lnbmF0dXJlcygpO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdtb2RlbE1ldHJpY3NBY2Nlc3NvcnMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ2dldE9wdGltaXphdGlvbkxldmVsJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZXQgY2Fub25pY2FsIG9wdGltaXphdGlvbl9sZXZlbCcsICgpID0+IHtcclxuICAgICAgY29uc3QgY2Fub25pY2FsID0ge1xyXG4gICAgICAgIG1vZGVsOiB7IG9wdGltaXphdGlvbl9sZXZlbDogJ1BoYXNlIDQgRW5oYW5jZWQnIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnZXRPcHRpbWl6YXRpb25MZXZlbChjYW5vbmljYWwpKS50b0JlKCdQaGFzZSA0IEVuaGFuY2VkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGZhbGwgYmFjayB0byBsZWdhY3kgb3B0aW1pemF0aW9uTGV2ZWwnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxlZ2FjeSA9IHtcclxuICAgICAgICBvcHRpbWl6YXRpb25MZXZlbDogJ0FkdmFuY2VkJ1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0T3B0aW1pemF0aW9uTGV2ZWwobGVnYWN5KTtcclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnQWR2YW5jZWQnKTtcclxuICAgICAgZXhwZWN0KG1vY2tPbmVUaW1lTG9nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAnb3B0aW1pemF0aW9uX2xldmVsJyxcclxuICAgICAgICBleHBlY3QuYW55KEZ1bmN0aW9uKSxcclxuICAgICAgICAnb3B0aW1pemF0aW9uX2xldmVsJ1xyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cnkgbXVsdGlwbGUgbGVnYWN5IHBhdGhzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsZWdhY3lPcHRMZXZlbCA9IHsgb3B0X2xldmVsOiAnUGhhc2UgMycgfTtcclxuICAgICAgZXhwZWN0KGdldE9wdGltaXphdGlvbkxldmVsKGxlZ2FjeU9wdExldmVsKSkudG9CZSgnUGhhc2UgMycpO1xyXG5cclxuICAgICAgY29uc3QgbGVnYWN5U3lzdGVtSW5mbyA9IHsgc3lzdGVtX2luZm86IHsgb3B0aW1pemF0aW9uX2xldmVsOiAnUGhhc2UgMicgfSB9O1xyXG4gICAgICBleHBlY3QoZ2V0T3B0aW1pemF0aW9uTGV2ZWwobGVnYWN5U3lzdGVtSW5mbykpLnRvQmUoJ1BoYXNlIDInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGRlZmF1bHQgZm9yIG1pc3NpbmcgZmllbGQnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChnZXRPcHRpbWl6YXRpb25MZXZlbCh7fSkpLnRvQmUoJ0Jhc2ljJyk7XHJcbiAgICAgIGV4cGVjdChnZXRPcHRpbWl6YXRpb25MZXZlbChudWxsKSkudG9CZSgnQmFzaWMnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0TW9kZWxOYW1lJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZXQgY2Fub25pY2FsIG1vZGVsIG5hbWUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHtcclxuICAgICAgICBtb2RlbDogeyBuYW1lOiAnR1BULTQnIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnZXRNb2RlbE5hbWUoY2Fub25pY2FsKSkudG9CZSgnR1BULTQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmFsbCBiYWNrIHRvIGxlZ2FjeSBtb2RlbE5hbWUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxlZ2FjeSA9IHsgbW9kZWxOYW1lOiAnTGVnYWN5IE1vZGVsJyB9O1xyXG4gICAgICBleHBlY3QoZ2V0TW9kZWxOYW1lKGxlZ2FjeSkpLnRvQmUoJ0xlZ2FjeSBNb2RlbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZGVmYXVsdCBmb3IgbWlzc2luZyBmaWVsZCcsICgpID0+IHtcclxuICAgICAgZXhwZWN0KGdldE1vZGVsTmFtZSh7fSkpLnRvQmUoJ1Vua25vd24gTW9kZWwnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0UHJvdmlkZXInLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGdldCBjYW5vbmljYWwgcHJvdmlkZXInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHtcclxuICAgICAgICBtb2RlbDogeyBwcm92aWRlcjogJ09wZW5BSScgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldFByb3ZpZGVyKGNhbm9uaWNhbCkpLnRvQmUoJ09wZW5BSScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBmYWxsIGJhY2sgdG8gbGVnYWN5IHByb3ZpZGVyJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsZWdhY3kgPSB7IHByb3ZpZGVyOiAnTGVnYWN5IFByb3ZpZGVyJyB9O1xyXG4gICAgICBleHBlY3QoZ2V0UHJvdmlkZXIobGVnYWN5KSkudG9CZSgnTGVnYWN5IFByb3ZpZGVyJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3BlcmZvcm1hbmNlIG1ldHJpY3MgYWNjZXNzb3JzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZXQgdGhyb3VnaHB1dCBmcm9tIGNhbm9uaWNhbCBwYXRoJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7IHRocm91Z2hwdXRfcnBzOiAxMjMuNDUgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldFRocm91Z2hwdXRScHMoZGF0YSkpLnRvQmUoMTIzLjQ1KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ2V0IHRocm91Z2hwdXQgZnJvbSBsZWdhY3kgcGF0aCcsICgpID0+IHtcclxuICAgICAgY29uc3QgbGVnYWN5ID0geyB0aHJvdWdocHV0OiAxMDAgfTtcclxuICAgICAgZXhwZWN0KGdldFRocm91Z2hwdXRScHMobGVnYWN5KSkudG9CZSgxMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZXQgbGF0ZW5jeSBtZXRyaWNzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7XHJcbiAgICAgICAgICBhdmdfbGF0ZW5jeV9tczogNTAuNSxcclxuICAgICAgICAgIHA5NV9sYXRlbmN5X21zOiA5NS4yXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldEF2Z0xhdGVuY3lNcyhkYXRhKSkudG9CZSg1MC41KTtcclxuICAgICAgZXhwZWN0KGdldFA5NUxhdGVuY3lNcyhkYXRhKSkudG9CZSg5NS4yKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgbm9ybWFsaXplIHN1Y2Nlc3MgcmF0ZSBmcm9tIHBlcmNlbnRhZ2UnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2VEYXRhID0ge1xyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7IHN1Y2Nlc3NfcmF0ZTogODUuNSB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBTaG91bGQgY29udmVydCBwZXJjZW50YWdlIHRvIGRlY2ltYWxcclxuICAgICAgZXhwZWN0KGdldFN1Y2Nlc3NSYXRlKHBlcmNlbnRhZ2VEYXRhKSkudG9CZSgwLjg1NSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGtlZXAgZGVjaW1hbCBzdWNjZXNzIHJhdGUgYXMtaXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRlY2ltYWxEYXRhID0ge1xyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7IHN1Y2Nlc3NfcmF0ZTogMC45MiB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZ2V0U3VjY2Vzc1JhdGUoZGVjaW1hbERhdGEpKS50b0JlKDAuOTIpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCd1c2FnZSBtZXRyaWNzIGFjY2Vzc29ycycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZ2V0IHRvdGFsIHJlcXVlc3RzIGZyb20gY2Fub25pY2FsIHBhdGgnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgdXNhZ2U6IHsgdG90YWxfcmVxdWVzdHM6IDEwMDAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldFRvdGFsUmVxdWVzdHMoZGF0YSkpLnRvQmUoMTAwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdldCB0b3RhbCByZXF1ZXN0cyBmcm9tIGxlZ2FjeSBwYXRoJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsZWdhY3kgPSB7IHRvdGFsX2luZmVyZW5jZXM6IDUwMCB9O1xyXG4gICAgICBleHBlY3QoZ2V0VG90YWxSZXF1ZXN0cyhsZWdhY3kpKS50b0JlKDUwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdldCB0b3RhbCB0b2tlbnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgdXNhZ2U6IHsgdG90YWxfdG9rZW5zOiA3NTAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldFRvdGFsVG9rZW5zKGRhdGEpKS50b0JlKDc1MCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3R1bmluZyBwYXJhbWV0ZXJzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZXQgdGVtcGVyYXR1cmUgZnJvbSBjYW5vbmljYWwgcGF0aCcsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICB0dW5pbmc6IHsgdGVtcGVyYXR1cmU6IDAuOCB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZ2V0VGVtcGVyYXR1cmUoZGF0YSkpLnRvQmUoMC44KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ2V0IHRlbXBlcmF0dXJlIGZyb20gbGVnYWN5IHBhdGgnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxlZ2FjeSA9IHsgdGVtcGVyYXR1cmU6IDAuNSB9O1xyXG4gICAgICBleHBlY3QoZ2V0VGVtcGVyYXR1cmUobGVnYWN5KSkudG9CZSgwLjUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZGVmYXVsdCB0ZW1wZXJhdHVyZScsICgpID0+IHtcclxuICAgICAgZXhwZWN0KGdldFRlbXBlcmF0dXJlKHt9KSkudG9CZSgwLjcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCd0eXBlIGNvZXJjaW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjb2VyY2Ugc3RyaW5nIG51bWJlcnMgdG8gbnVtYmVycycsICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RyaW5nRGF0YSA9IHtcclxuICAgICAgICBwZXJmb3JtYW5jZToge1xyXG4gICAgICAgICAgdGhyb3VnaHB1dF9ycHM6ICcxMjMuNDUnLFxyXG4gICAgICAgICAgYXZnX2xhdGVuY3lfbXM6ICc2NydcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZ2V0VGhyb3VnaHB1dFJwcyhzdHJpbmdEYXRhKSkudG9CZSgxMjMuNDUpO1xyXG4gICAgICBleHBlY3QoZ2V0QXZnTGF0ZW5jeU1zKHN0cmluZ0RhdGEpKS50b0JlKDY3KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY29lcmNlIG51bWJlcnMgdG8gc3RyaW5ncycsICgpID0+IHtcclxuICAgICAgY29uc3QgbnVtZXJpY0RhdGEgPSB7XHJcbiAgICAgICAgbW9kZWw6IHtcclxuICAgICAgICAgIG5hbWU6IDEyMyxcclxuICAgICAgICAgIG9wdGltaXphdGlvbl9sZXZlbDogNDU2XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdldE1vZGVsTmFtZShudW1lcmljRGF0YSkpLnRvQmUoJzEyMycpO1xyXG4gICAgICBleHBlY3QoZ2V0T3B0aW1pemF0aW9uTGV2ZWwobnVtZXJpY0RhdGEpKS50b0JlKCc0NTYnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgbnVtZXJpYyBzdHJpbmdzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHtcclxuICAgICAgICBwZXJmb3JtYW5jZToge1xyXG4gICAgICAgICAgdGhyb3VnaHB1dF9ycHM6ICdub3QtYS1udW1iZXInLFxyXG4gICAgICAgICAgYXZnX2xhdGVuY3lfbXM6ICdpbnZhbGlkJ1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnZXRUaHJvdWdocHV0UnBzKGludmFsaWREYXRhKSkudG9CZSgwKTsgLy8gRGVmYXVsdCBmYWxsYmFja1xyXG4gICAgICBleHBlY3QoZ2V0QXZnTGF0ZW5jeU1zKGludmFsaWREYXRhKSkudG9CZSgwKTsgLy8gRGVmYXVsdCBmYWxsYmFja1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdzYWZlTWV0cmljc0FjY2VzcyB1dGlsaXR5JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBzYWZlbHkgYWNjZXNzIG5lc3RlZCBwcm9wZXJ0aWVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGRlZXA6IHtcclxuICAgICAgICAgIG5lc3RlZDoge1xyXG4gICAgICAgICAgICB2YWx1ZTogJ2ZvdW5kJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChzYWZlTWV0cmljc0FjY2VzcyhkYXRhLCBbJ2RlZXAnLCAnbmVzdGVkJywgJ3ZhbHVlJ10sICdkZWZhdWx0JykpLnRvQmUoJ2ZvdW5kJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBkZWZhdWx0IGZvciBtaXNzaW5nIG5lc3RlZCBwcm9wZXJ0aWVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0geyBzb21lOiAndmFsdWUnIH07XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc2FmZU1ldHJpY3NBY2Nlc3MoZGF0YSwgWydtaXNzaW5nJywgJ25lc3RlZCcsICdwYXRoJ10sICdmYWxsYmFjaycpKS50b0JlKCdmYWxsYmFjaycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbC91bmRlZmluZWQgb2JqZWN0cycsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHNhZmVNZXRyaWNzQWNjZXNzKG51bGwsIFsnYW55JywgJ3BhdGgnXSwgJ2RlZmF1bHQnKSkudG9CZSgnZGVmYXVsdCcpO1xyXG4gICAgICBleHBlY3Qoc2FmZU1ldHJpY3NBY2Nlc3ModW5kZWZpbmVkLCBbJ2FueScsICdwYXRoJ10sICdkZWZhdWx0JykpLnRvQmUoJ2RlZmF1bHQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnaXNOb3JtYWxpemVkTW9kZWxNZXRyaWNzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBpZGVudGlmeSBub3JtYWxpemVkIE1vZGVsTWV0cmljc1NoYXBlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBub3JtYWxpemVkID0ge1xyXG4gICAgICAgIG1vZGVsOiB7IG5hbWU6ICdUZXN0JywgcHJvdmlkZXI6ICdUZXN0Jywgb3B0aW1pemF0aW9uX2xldmVsOiAnQmFzaWMnIH0sXHJcbiAgICAgICAgcGVyZm9ybWFuY2U6IHsgdGhyb3VnaHB1dF9ycHM6IDAsIGF2Z19sYXRlbmN5X21zOiAwLCBwOTVfbGF0ZW5jeV9tczogMCwgc3VjY2Vzc19yYXRlOiAwIH0sXHJcbiAgICAgICAgdXNhZ2U6IHsgdG90YWxfcmVxdWVzdHM6IDAsIGlucHV0X3Rva2VuczogMCwgb3V0cHV0X3Rva2VuczogMCwgdG90YWxfdG9rZW5zOiAwIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChpc05vcm1hbGl6ZWRNb2RlbE1ldHJpY3Mobm9ybWFsaXplZCkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbmNvbXBsZXRlIG9iamVjdHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGluY29tcGxldGUgPSB7XHJcbiAgICAgICAgbW9kZWw6IHsgbmFtZTogJ1Rlc3QnIH0sXHJcbiAgICAgICAgLy8gTWlzc2luZyBwZXJmb3JtYW5jZSBhbmQgdXNhZ2VcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChpc05vcm1hbGl6ZWRNb2RlbE1ldHJpY3MoaW5jb21wbGV0ZSkpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QoaXNOb3JtYWxpemVkTW9kZWxNZXRyaWNzKG51bGwpKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KGlzTm9ybWFsaXplZE1vZGVsTWV0cmljcyh7fSkpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdvbmUtdGltZSB3YXJuaW5nIGJlaGF2aW9yJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB3YXJuIG9ubHkgb25jZSBwZXIgZmllbGQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxlZ2FjeURhdGEgPSB7IG9wdGltaXphdGlvbkxldmVsOiAnVGVzdCcgfTtcclxuICAgICAgXHJcbiAgICAgIC8vIEZpcnN0IGFjY2VzcyBzaG91bGQgY2FsbCBvbmVUaW1lTG9nXHJcbiAgICAgIGdldE9wdGltaXphdGlvbkxldmVsKGxlZ2FjeURhdGEpO1xyXG4gICAgICBleHBlY3QobW9ja09uZVRpbWVMb2cpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNlY29uZCBhY2Nlc3Mgc2hvdWxkIGNhbGwgb25lVGltZUxvZyBhZ2FpbiBidXQgbm90IGxvZyBhZ2FpblxyXG4gICAgICBnZXRPcHRpbWl6YXRpb25MZXZlbChsZWdhY3lEYXRhKTtcclxuICAgICAgZXhwZWN0KG1vY2tPbmVUaW1lTG9nKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOztBQWdCQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxlQUFlLEVBQUUsTUFBTTtFQUMvQixNQUFNQyxnQkFBZ0IsR0FBRyxJQUFJQyxHQUFHLENBQVMsQ0FBQztFQUMxQyxNQUFNQyxVQUEwQixHQUFHLEVBQUU7RUFFckMsT0FBTztJQUNMQyxVQUFVLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUNDLEdBQVcsRUFBRUMsS0FBaUIsRUFBRUMsT0FBZ0IsS0FBSztNQUN4RSxNQUFNQyxTQUFTLEdBQUcsR0FBR0gsR0FBRyxJQUFJRSxPQUFPLElBQUksU0FBUyxFQUFFO01BQ2xELElBQUksQ0FBQ1IsZ0JBQWdCLENBQUNVLEdBQUcsQ0FBQ0QsU0FBUyxDQUFDLEVBQUU7UUFDcENULGdCQUFnQixDQUFDVyxHQUFHLENBQUNGLFNBQVMsQ0FBQztRQUMvQkYsS0FBSyxDQUFDLENBQUM7UUFDUEwsVUFBVSxDQUFDVSxJQUFJLENBQUNMLEtBQUssQ0FBQztNQUN4QjtJQUNGLENBQUMsQ0FBQztJQUNGTSxxQkFBcUIsRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTTtNQUNuQ0wsZ0JBQWdCLENBQUNjLEtBQUssQ0FBQyxDQUFDO01BQ3hCWixVQUFVLENBQUNhLE1BQU0sR0FBRyxDQUFDO0lBQ3ZCLENBQUMsQ0FBQztJQUNGQyxpQkFBaUIsRUFBRUEsQ0FBQSxLQUFNZCxVQUFVLENBQUNhO0VBQ3RDLENBQUM7QUFDSCxDQUFDLENBQUM7QUFwQ0YsSUFBQUUsc0JBQUEsR0FBQUMsT0FBQTtBQWNBLElBQUFDLFdBQUEsR0FBQUQsT0FBQTtBQUFrRSxTQUFBcEIsWUFBQTtFQUFBO0lBQUFNO0VBQUEsSUFBQWMsT0FBQTtFQUFBcEIsV0FBQSxHQUFBQSxDQUFBLEtBQUFNLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUF3QmxFLE1BQU1nQixjQUFjLEdBQUdqQixzQkFBc0M7QUFDN0QsTUFBTWtCLHlCQUF5QixHQUFHUixpQ0FBaUQ7QUFFbkZTLFVBQVUsQ0FBQyxNQUFNO0VBQ2ZGLGNBQWMsQ0FBQ0csU0FBUyxDQUFDLENBQUM7RUFDMUJGLHlCQUF5QixDQUFDRSxTQUFTLENBQUMsQ0FBQztFQUNyQztFQUNBQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxHQUFHLE1BQU07RUFDN0IsSUFBQWIsaUNBQXFCLEVBQUMsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRmMsUUFBUSxDQUFDLHVCQUF1QixFQUFFLE1BQU07RUFDdENBLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxNQUFNO0lBQ3JDQyxFQUFFLENBQUMseUNBQXlDLEVBQUUsTUFBTTtNQUNsRCxNQUFNQyxTQUFTLEdBQUc7UUFDaEJDLEtBQUssRUFBRTtVQUFFQyxrQkFBa0IsRUFBRTtRQUFtQjtNQUNsRCxDQUFDO01BRURDLE1BQU0sQ0FBQyxJQUFBQywyQ0FBb0IsRUFBQ0osU0FBUyxDQUFDLENBQUMsQ0FBQ0ssSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ2xFLENBQUMsQ0FBQztJQUVGTixFQUFFLENBQUMsOENBQThDLEVBQUUsTUFBTTtNQUN2RCxNQUFNTyxNQUFNLEdBQUc7UUFDYkMsaUJBQWlCLEVBQUU7TUFDckIsQ0FBQztNQUVELE1BQU1DLE1BQU0sR0FBRyxJQUFBSiwyQ0FBb0IsRUFBQ0UsTUFBTSxDQUFDO01BQzNDSCxNQUFNLENBQUNLLE1BQU0sQ0FBQyxDQUFDSCxJQUFJLENBQUMsVUFBVSxDQUFDO01BQy9CRixNQUFNLENBQUNaLGNBQWMsQ0FBQyxDQUFDa0Isb0JBQW9CLENBQ3pDLG9CQUFvQixFQUNwQk4sTUFBTSxDQUFDTyxHQUFHLENBQUNDLFFBQVEsQ0FBQyxFQUNwQixvQkFDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUZaLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxNQUFNO01BQzNDLE1BQU1hLGNBQWMsR0FBRztRQUFFQyxTQUFTLEVBQUU7TUFBVSxDQUFDO01BQy9DVixNQUFNLENBQUMsSUFBQUMsMkNBQW9CLEVBQUNRLGNBQWMsQ0FBQyxDQUFDLENBQUNQLElBQUksQ0FBQyxTQUFTLENBQUM7TUFFNUQsTUFBTVMsZ0JBQWdCLEdBQUc7UUFBRUMsV0FBVyxFQUFFO1VBQUViLGtCQUFrQixFQUFFO1FBQVU7TUFBRSxDQUFDO01BQzNFQyxNQUFNLENBQUMsSUFBQUMsMkNBQW9CLEVBQUNVLGdCQUFnQixDQUFDLENBQUMsQ0FBQ1QsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUNoRSxDQUFDLENBQUM7SUFFRk4sRUFBRSxDQUFDLHlDQUF5QyxFQUFFLE1BQU07TUFDbERJLE1BQU0sQ0FBQyxJQUFBQywyQ0FBb0IsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxPQUFPLENBQUM7TUFDOUNGLE1BQU0sQ0FBQyxJQUFBQywyQ0FBb0IsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ2xELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMsY0FBYyxFQUFFLE1BQU07SUFDN0JDLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxNQUFNO01BQzFDLE1BQU1DLFNBQVMsR0FBRztRQUNoQkMsS0FBSyxFQUFFO1VBQUVlLElBQUksRUFBRTtRQUFRO01BQ3pCLENBQUM7TUFFRGIsTUFBTSxDQUFDLElBQUFjLG1DQUFZLEVBQUNqQixTQUFTLENBQUMsQ0FBQyxDQUFDSyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQy9DLENBQUMsQ0FBQztJQUVGTixFQUFFLENBQUMsc0NBQXNDLEVBQUUsTUFBTTtNQUMvQyxNQUFNTyxNQUFNLEdBQUc7UUFBRVksU0FBUyxFQUFFO01BQWUsQ0FBQztNQUM1Q2YsTUFBTSxDQUFDLElBQUFjLG1DQUFZLEVBQUNYLE1BQU0sQ0FBQyxDQUFDLENBQUNELElBQUksQ0FBQyxjQUFjLENBQUM7SUFDbkQsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxNQUFNO01BQ2xESSxNQUFNLENBQUMsSUFBQWMsbUNBQVksRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNaLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDaEQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZQLFFBQVEsQ0FBQyxhQUFhLEVBQUUsTUFBTTtJQUM1QkMsRUFBRSxDQUFDLCtCQUErQixFQUFFLE1BQU07TUFDeEMsTUFBTUMsU0FBUyxHQUFHO1FBQ2hCQyxLQUFLLEVBQUU7VUFBRWtCLFFBQVEsRUFBRTtRQUFTO01BQzlCLENBQUM7TUFFRGhCLE1BQU0sQ0FBQyxJQUFBaUIsa0NBQVcsRUFBQ3BCLFNBQVMsQ0FBQyxDQUFDLENBQUNLLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDL0MsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxNQUFNO01BQzlDLE1BQU1PLE1BQU0sR0FBRztRQUFFYSxRQUFRLEVBQUU7TUFBa0IsQ0FBQztNQUM5Q2hCLE1BQU0sQ0FBQyxJQUFBaUIsa0NBQVcsRUFBQ2QsTUFBTSxDQUFDLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ3JELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMsK0JBQStCLEVBQUUsTUFBTTtJQUM5Q0MsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLE1BQU07TUFDcEQsTUFBTXNCLElBQUksR0FBRztRQUNYQyxXQUFXLEVBQUU7VUFBRUMsY0FBYyxFQUFFO1FBQU87TUFDeEMsQ0FBQztNQUVEcEIsTUFBTSxDQUFDLElBQUFxQix1Q0FBZ0IsRUFBQ0gsSUFBSSxDQUFDLENBQUMsQ0FBQ2hCLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDN0MsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxNQUFNO01BQ2pELE1BQU1PLE1BQU0sR0FBRztRQUFFbUIsVUFBVSxFQUFFO01BQUksQ0FBQztNQUNsQ3RCLE1BQU0sQ0FBQyxJQUFBcUIsdUNBQWdCLEVBQUNsQixNQUFNLENBQUMsQ0FBQyxDQUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQzVDLENBQUMsQ0FBQztJQUVGTixFQUFFLENBQUMsNEJBQTRCLEVBQUUsTUFBTTtNQUNyQyxNQUFNc0IsSUFBSSxHQUFHO1FBQ1hDLFdBQVcsRUFBRTtVQUNYSSxjQUFjLEVBQUUsSUFBSTtVQUNwQkMsY0FBYyxFQUFFO1FBQ2xCO01BQ0YsQ0FBQztNQUVEeEIsTUFBTSxDQUFDLElBQUF5QixzQ0FBZSxFQUFDUCxJQUFJLENBQUMsQ0FBQyxDQUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4Q0YsTUFBTSxDQUFDLElBQUEwQixzQ0FBZSxFQUFDUixJQUFJLENBQUMsQ0FBQyxDQUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMxQyxDQUFDLENBQUM7SUFFRk4sRUFBRSxDQUFDLCtDQUErQyxFQUFFLE1BQU07TUFDeEQsTUFBTStCLGNBQWMsR0FBRztRQUNyQlIsV0FBVyxFQUFFO1VBQUVTLFlBQVksRUFBRTtRQUFLO01BQ3BDLENBQUM7O01BRUQ7TUFDQTVCLE1BQU0sQ0FBQyxJQUFBNkIscUNBQWMsRUFBQ0YsY0FBYyxDQUFDLENBQUMsQ0FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEQsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxNQUFNO01BQ2pELE1BQU1rQyxXQUFXLEdBQUc7UUFDbEJYLFdBQVcsRUFBRTtVQUFFUyxZQUFZLEVBQUU7UUFBSztNQUNwQyxDQUFDO01BRUQ1QixNQUFNLENBQUMsSUFBQTZCLHFDQUFjLEVBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2hELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMseUJBQXlCLEVBQUUsTUFBTTtJQUN4Q0MsRUFBRSxDQUFDLCtDQUErQyxFQUFFLE1BQU07TUFDeEQsTUFBTXNCLElBQUksR0FBRztRQUNYYSxLQUFLLEVBQUU7VUFBRUMsY0FBYyxFQUFFO1FBQUs7TUFDaEMsQ0FBQztNQUVEaEMsTUFBTSxDQUFDLElBQUFpQyx1Q0FBZ0IsRUFBQ2YsSUFBSSxDQUFDLENBQUMsQ0FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDM0MsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxNQUFNO01BQ3JELE1BQU1PLE1BQU0sR0FBRztRQUFFK0IsZ0JBQWdCLEVBQUU7TUFBSSxDQUFDO01BQ3hDbEMsTUFBTSxDQUFDLElBQUFpQyx1Q0FBZ0IsRUFBQzlCLE1BQU0sQ0FBQyxDQUFDLENBQUNELElBQUksQ0FBQyxHQUFHLENBQUM7SUFDNUMsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyx5QkFBeUIsRUFBRSxNQUFNO01BQ2xDLE1BQU1zQixJQUFJLEdBQUc7UUFDWGEsS0FBSyxFQUFFO1VBQUVJLFlBQVksRUFBRTtRQUFJO01BQzdCLENBQUM7TUFFRG5DLE1BQU0sQ0FBQyxJQUFBb0MscUNBQWMsRUFBQ2xCLElBQUksQ0FBQyxDQUFDLENBQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3hDLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMsbUJBQW1CLEVBQUUsTUFBTTtJQUNsQ0MsRUFBRSxDQUFDLDRDQUE0QyxFQUFFLE1BQU07TUFDckQsTUFBTXNCLElBQUksR0FBRztRQUNYbUIsTUFBTSxFQUFFO1VBQUVDLFdBQVcsRUFBRTtRQUFJO01BQzdCLENBQUM7TUFFRHRDLE1BQU0sQ0FBQyxJQUFBdUMscUNBQWMsRUFBQ3JCLElBQUksQ0FBQyxDQUFDLENBQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3hDLENBQUMsQ0FBQztJQUVGTixFQUFFLENBQUMseUNBQXlDLEVBQUUsTUFBTTtNQUNsRCxNQUFNTyxNQUFNLEdBQUc7UUFBRW1DLFdBQVcsRUFBRTtNQUFJLENBQUM7TUFDbkN0QyxNQUFNLENBQUMsSUFBQXVDLHFDQUFjLEVBQUNwQyxNQUFNLENBQUMsQ0FBQyxDQUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQzFDLENBQUMsQ0FBQztJQUVGTixFQUFFLENBQUMsbUNBQW1DLEVBQUUsTUFBTTtNQUM1Q0ksTUFBTSxDQUFDLElBQUF1QyxxQ0FBYyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ3JDLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDdEMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZQLFFBQVEsQ0FBQyxlQUFlLEVBQUUsTUFBTTtJQUM5QkMsRUFBRSxDQUFDLHlDQUF5QyxFQUFFLE1BQU07TUFDbEQsTUFBTTRDLFVBQVUsR0FBRztRQUNqQnJCLFdBQVcsRUFBRTtVQUNYQyxjQUFjLEVBQUUsUUFBUTtVQUN4QkcsY0FBYyxFQUFFO1FBQ2xCO01BQ0YsQ0FBQztNQUVEdkIsTUFBTSxDQUFDLElBQUFxQix1Q0FBZ0IsRUFBQ21CLFVBQVUsQ0FBQyxDQUFDLENBQUN0QyxJQUFJLENBQUMsTUFBTSxDQUFDO01BQ2pERixNQUFNLENBQUMsSUFBQXlCLHNDQUFlLEVBQUNlLFVBQVUsQ0FBQyxDQUFDLENBQUN0QyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQzlDLENBQUMsQ0FBQztJQUVGTixFQUFFLENBQUMsa0NBQWtDLEVBQUUsTUFBTTtNQUMzQyxNQUFNNkMsV0FBVyxHQUFHO1FBQ2xCM0MsS0FBSyxFQUFFO1VBQ0xlLElBQUksRUFBRSxHQUFHO1VBQ1RkLGtCQUFrQixFQUFFO1FBQ3RCO01BQ0YsQ0FBQztNQUVEQyxNQUFNLENBQUMsSUFBQWMsbUNBQVksRUFBQzJCLFdBQVcsQ0FBQyxDQUFDLENBQUN2QyxJQUFJLENBQUMsS0FBSyxDQUFDO01BQzdDRixNQUFNLENBQUMsSUFBQUMsMkNBQW9CLEVBQUN3QyxXQUFXLENBQUMsQ0FBQyxDQUFDdkMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN2RCxDQUFDLENBQUM7SUFFRk4sRUFBRSxDQUFDLHVDQUF1QyxFQUFFLE1BQU07TUFDaEQsTUFBTThDLFdBQVcsR0FBRztRQUNsQnZCLFdBQVcsRUFBRTtVQUNYQyxjQUFjLEVBQUUsY0FBYztVQUM5QkcsY0FBYyxFQUFFO1FBQ2xCO01BQ0YsQ0FBQztNQUVEdkIsTUFBTSxDQUFDLElBQUFxQix1Q0FBZ0IsRUFBQ3FCLFdBQVcsQ0FBQyxDQUFDLENBQUN4QyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUMvQ0YsTUFBTSxDQUFDLElBQUF5QixzQ0FBZSxFQUFDaUIsV0FBVyxDQUFDLENBQUMsQ0FBQ3hDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMsMkJBQTJCLEVBQUUsTUFBTTtJQUMxQ0MsRUFBRSxDQUFDLHdDQUF3QyxFQUFFLE1BQU07TUFDakQsTUFBTXNCLElBQUksR0FBRztRQUNYeUIsSUFBSSxFQUFFO1VBQ0pDLE1BQU0sRUFBRTtZQUNOQyxLQUFLLEVBQUU7VUFDVDtRQUNGO01BQ0YsQ0FBQztNQUVEN0MsTUFBTSxDQUFDLElBQUE4Qyx3Q0FBaUIsRUFBQzVCLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdkYsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyxxREFBcUQsRUFBRSxNQUFNO01BQzlELE1BQU1zQixJQUFJLEdBQUc7UUFBRTZCLElBQUksRUFBRTtNQUFRLENBQUM7TUFFOUIvQyxNQUFNLENBQUMsSUFBQThDLHdDQUFpQixFQUFDNUIsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDaEIsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUM3RixDQUFDLENBQUM7SUFFRk4sRUFBRSxDQUFDLHNDQUFzQyxFQUFFLE1BQU07TUFDL0NJLE1BQU0sQ0FBQyxJQUFBOEMsd0NBQWlCLEVBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM1QyxJQUFJLENBQUMsU0FBUyxDQUFDO01BQzNFRixNQUFNLENBQUMsSUFBQThDLHdDQUFpQixFQUFDRSxTQUFTLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQzlDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDbEYsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZQLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxNQUFNO0lBQ3pDQyxFQUFFLENBQUMsOENBQThDLEVBQUUsTUFBTTtNQUN2RCxNQUFNcUQsVUFBVSxHQUFHO1FBQ2pCbkQsS0FBSyxFQUFFO1VBQUVlLElBQUksRUFBRSxNQUFNO1VBQUVHLFFBQVEsRUFBRSxNQUFNO1VBQUVqQixrQkFBa0IsRUFBRTtRQUFRLENBQUM7UUFDdEVvQixXQUFXLEVBQUU7VUFBRUMsY0FBYyxFQUFFLENBQUM7VUFBRUcsY0FBYyxFQUFFLENBQUM7VUFBRUMsY0FBYyxFQUFFLENBQUM7VUFBRUksWUFBWSxFQUFFO1FBQUUsQ0FBQztRQUN6RkcsS0FBSyxFQUFFO1VBQUVDLGNBQWMsRUFBRSxDQUFDO1VBQUVrQixZQUFZLEVBQUUsQ0FBQztVQUFFQyxhQUFhLEVBQUUsQ0FBQztVQUFFaEIsWUFBWSxFQUFFO1FBQUU7TUFDakYsQ0FBQztNQUVEbkMsTUFBTSxDQUFDLElBQUFvRCwrQ0FBd0IsRUFBQ0gsVUFBVSxDQUFDLENBQUMsQ0FBQy9DLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDekQsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxNQUFNO01BQzNDLE1BQU15RCxVQUFVLEdBQUc7UUFDakJ2RCxLQUFLLEVBQUU7VUFBRWUsSUFBSSxFQUFFO1FBQU87UUFDdEI7TUFDRixDQUFDO01BRURiLE1BQU0sQ0FBQyxJQUFBb0QsK0NBQXdCLEVBQUNDLFVBQVUsQ0FBQyxDQUFDLENBQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDO01BQ3hERixNQUFNLENBQUMsSUFBQW9ELCtDQUF3QixFQUFDLElBQUksQ0FBQyxDQUFDLENBQUNsRCxJQUFJLENBQUMsS0FBSyxDQUFDO01BQ2xERixNQUFNLENBQUMsSUFBQW9ELCtDQUF3QixFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQ2xELElBQUksQ0FBQyxLQUFLLENBQUM7SUFDbEQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZQLFFBQVEsQ0FBQywyQkFBMkIsRUFBRSxNQUFNO0lBQzFDQyxFQUFFLENBQUMsaUNBQWlDLEVBQUUsTUFBTTtNQUMxQyxNQUFNMEQsVUFBVSxHQUFHO1FBQUVsRCxpQkFBaUIsRUFBRTtNQUFPLENBQUM7O01BRWhEO01BQ0EsSUFBQUgsMkNBQW9CLEVBQUNxRCxVQUFVLENBQUM7TUFDaEN0RCxNQUFNLENBQUNaLGNBQWMsQ0FBQyxDQUFDbUUscUJBQXFCLENBQUMsQ0FBQyxDQUFDOztNQUUvQztNQUNBLElBQUF0RCwyQ0FBb0IsRUFBQ3FELFVBQVUsQ0FBQztNQUNoQ3RELE1BQU0sQ0FBQ1osY0FBYyxDQUFDLENBQUNtRSxxQkFBcUIsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119