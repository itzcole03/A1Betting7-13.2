fb461be04df4b2a1126abbc76dd271ed
"use strict";

// Mock the API calls
_getJestObj().mock('../../utils/robustApi');
// Mock framer-motion to avoid animation issues in tests
_getJestObj().mock('framer-motion', () => ({
  motion: {
    div: props => /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
      ...props
    }),
    button: props => /*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
      ...props
    })
  }
}));
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _PerformanceMonitoringDashboard = _interopRequireDefault(require("../phase4/PerformanceMonitoringDashboard"));
var _robustApi = require("../../utils/robustApi");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * Regression tests for hit_rate runtime error fixes
 * Ensures components handle various hit_rate data structures safely
 */
const mockFetchHealthData = _robustApi.fetchHealthData;
const mockFetchPerformanceStats = _robustApi.fetchPerformanceStats;
describe('PerformanceMonitoringDashboard - hit_rate regression tests', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  it('should handle health data with performance.hit_rate only', async () => {
    const mockHealth = {
      status: 'healthy',
      services: {
        api: 'operational',
        cache: 'operational',
        database: 'operational'
      },
      performance: {
        hit_rate: 75.5,
        cache_type: 'memory'
      },
      uptime_seconds: 3600
    };
    const mockMetrics = {
      api_performance: {},
      cache_performance: {
        cache_type: 'memory',
        hits: 100,
        misses: 25,
        errors: 0,
        hit_rate: 80.0,
        total_requests: 125
      },
      system_info: {
        optimization_level: 'Test',
        caching_strategy: 'Test Mode',
        monitoring: 'Test'
      }
    };
    mockFetchHealthData.mockResolvedValue(mockHealth);
    mockFetchPerformanceStats.mockResolvedValue({
      data: mockMetrics
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_PerformanceMonitoringDashboard.default, {}));

    // Wait for data to load and check that percentages are displayed
    await _react2.screen.findByText('75.5%'); // Health cache hit rate
    expect(_react2.screen.getByText('80.0%')).toBeInTheDocument(); // Metrics cache hit rate
  });
  it('should handle health data with flat hit_rate structure', async () => {
    const mockHealth = {
      status: 'healthy',
      services: {
        api: 'operational',
        cache: 'operational',
        database: 'operational'
      },
      hit_rate: 66.0,
      // Flat structure
      uptime_seconds: 3600
    };
    const mockMetrics = {
      api_performance: {},
      cache_performance: {
        cache_type: 'memory',
        hits: 100,
        misses: 51,
        errors: 0,
        hit_rate: 66.0,
        total_requests: 151
      },
      system_info: {
        optimization_level: 'Test',
        caching_strategy: 'Test Mode',
        monitoring: 'Test'
      }
    };
    mockFetchHealthData.mockResolvedValue(mockHealth);
    mockFetchPerformanceStats.mockResolvedValue({
      data: mockMetrics
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_PerformanceMonitoringDashboard.default, {}));

    // Should not crash and should display the hit rates
    const hitRateElements = await _react2.screen.findAllByText('66.0%');
    expect(hitRateElements.length).toBeGreaterThanOrEqual(1);
    expect(_react2.screen.queryByText('Cannot read properties of undefined')).not.toBeInTheDocument();
  });
  it('should handle empty health data gracefully', async () => {
    const mockHealth = {
      status: 'healthy',
      services: {
        api: 'operational',
        cache: 'operational',
        database: 'operational'
      },
      uptime_seconds: 3600
      // No performance or hit_rate data
    };
    const mockMetrics = {
      api_performance: {},
      cache_performance: {
        cache_type: 'memory',
        hits: 0,
        misses: 1,
        errors: 0,
        total_requests: 1
        // No hit_rate field
      },
      system_info: {
        optimization_level: 'Test',
        caching_strategy: 'Test Mode',
        monitoring: 'Test'
      }
    };
    mockFetchHealthData.mockResolvedValue(mockHealth);
    mockFetchPerformanceStats.mockResolvedValue({
      data: mockMetrics
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_PerformanceMonitoringDashboard.default, {}));

    // Should display 0.0% instead of crashing
    const zeroRateElements = await _react2.screen.findAllByText('0.0%');
    expect(zeroRateElements.length).toBeGreaterThanOrEqual(1);
    expect(_react2.screen.queryByText('Cannot read properties of undefined')).not.toBeInTheDocument();
  });
  it('should handle infrastructure cache structure (Phase 3)', async () => {
    const mockHealth = {
      status: 'healthy',
      services: {
        api: 'operational',
        cache: 'operational',
        database: 'operational'
      },
      infrastructure: {
        cache: {
          hit_rate_percent: 89.2
        }
      },
      uptime_seconds: 3600
    };
    const mockMetrics = {
      api_performance: {},
      cache_performance: {
        cache_type: 'memory',
        hits: 892,
        misses: 108,
        errors: 0,
        hit_rate: 89.2,
        total_requests: 1000
      },
      system_info: {
        optimization_level: 'Phase 3',
        caching_strategy: 'Infrastructure Mode',
        monitoring: 'Phase 3'
      }
    };
    mockFetchHealthData.mockResolvedValue(mockHealth);
    mockFetchPerformanceStats.mockResolvedValue({
      data: mockMetrics
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_PerformanceMonitoringDashboard.default, {}));

    // Should correctly map infrastructure.cache.hit_rate_percent
    const infraRateElements = await _react2.screen.findAllByText('89.2%');
    expect(infraRateElements.length).toBeGreaterThanOrEqual(1);
    expect(_react2.screen.queryByText('Cannot read properties of undefined')).not.toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJtb3Rpb24iLCJkaXYiLCJwcm9wcyIsIl9qc3hSdW50aW1lIiwianN4IiwiYnV0dG9uIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX1BlcmZvcm1hbmNlTW9uaXRvcmluZ0Rhc2hib2FyZCIsIl9yb2J1c3RBcGkiLCJqZXN0IiwibW9ja0ZldGNoSGVhbHRoRGF0YSIsImZldGNoSGVhbHRoRGF0YSIsIm1vY2tGZXRjaFBlcmZvcm1hbmNlU3RhdHMiLCJmZXRjaFBlcmZvcm1hbmNlU3RhdHMiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrSGVhbHRoIiwic3RhdHVzIiwic2VydmljZXMiLCJhcGkiLCJjYWNoZSIsImRhdGFiYXNlIiwicGVyZm9ybWFuY2UiLCJoaXRfcmF0ZSIsImNhY2hlX3R5cGUiLCJ1cHRpbWVfc2Vjb25kcyIsIm1vY2tNZXRyaWNzIiwiYXBpX3BlcmZvcm1hbmNlIiwiY2FjaGVfcGVyZm9ybWFuY2UiLCJoaXRzIiwibWlzc2VzIiwiZXJyb3JzIiwidG90YWxfcmVxdWVzdHMiLCJzeXN0ZW1faW5mbyIsIm9wdGltaXphdGlvbl9sZXZlbCIsImNhY2hpbmdfc3RyYXRlZ3kiLCJtb25pdG9yaW5nIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwicmVuZGVyIiwiZGVmYXVsdCIsInNjcmVlbiIsImZpbmRCeVRleHQiLCJleHBlY3QiLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImhpdFJhdGVFbGVtZW50cyIsImZpbmRBbGxCeVRleHQiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwicXVlcnlCeVRleHQiLCJub3QiLCJ6ZXJvUmF0ZUVsZW1lbnRzIiwiaW5mcmFzdHJ1Y3R1cmUiLCJoaXRfcmF0ZV9wZXJjZW50IiwiaW5mcmFSYXRlRWxlbWVudHMiXSwic291cmNlcyI6WyJQZXJmb3JtYW5jZU1vbml0b3JpbmdEYXNoYm9hcmQucmVncmVzc2lvbi50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmVncmVzc2lvbiB0ZXN0cyBmb3IgaGl0X3JhdGUgcnVudGltZSBlcnJvciBmaXhlc1xyXG4gKiBFbnN1cmVzIGNvbXBvbmVudHMgaGFuZGxlIHZhcmlvdXMgaGl0X3JhdGUgZGF0YSBzdHJ1Y3R1cmVzIHNhZmVseVxyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XHJcbmltcG9ydCBQZXJmb3JtYW5jZU1vbml0b3JpbmdEYXNoYm9hcmQgZnJvbSAnLi4vcGhhc2U0L1BlcmZvcm1hbmNlTW9uaXRvcmluZ0Rhc2hib2FyZCc7XHJcbmltcG9ydCB7IGZldGNoSGVhbHRoRGF0YSwgZmV0Y2hQZXJmb3JtYW5jZVN0YXRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvcm9idXN0QXBpJztcclxuXHJcbi8vIE1vY2sgdGhlIEFQSSBjYWxsc1xyXG5qZXN0Lm1vY2soJy4uLy4uL3V0aWxzL3JvYnVzdEFwaScpO1xyXG5jb25zdCBtb2NrRmV0Y2hIZWFsdGhEYXRhID0gZmV0Y2hIZWFsdGhEYXRhIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoSGVhbHRoRGF0YT47XHJcbmNvbnN0IG1vY2tGZXRjaFBlcmZvcm1hbmNlU3RhdHMgPSBmZXRjaFBlcmZvcm1hbmNlU3RhdHMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2hQZXJmb3JtYW5jZVN0YXRzPjtcclxuXHJcbi8vIE1vY2sgZnJhbWVyLW1vdGlvbiB0byBhdm9pZCBhbmltYXRpb24gaXNzdWVzIGluIHRlc3RzXHJcbmplc3QubW9jaygnZnJhbWVyLW1vdGlvbicsICgpID0+ICh7XHJcbiAgbW90aW9uOiB7XHJcbiAgICBkaXY6IChwcm9wczogYW55KSA9PiA8ZGl2IHsuLi5wcm9wc30gLz4sXHJcbiAgICBidXR0b246IChwcm9wczogYW55KSA9PiA8YnV0dG9uIHsuLi5wcm9wc30gLz5cclxuICB9XHJcbn0pKTtcclxuXHJcbmRlc2NyaWJlKCdQZXJmb3JtYW5jZU1vbml0b3JpbmdEYXNoYm9hcmQgLSBoaXRfcmF0ZSByZWdyZXNzaW9uIHRlc3RzJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIGhlYWx0aCBkYXRhIHdpdGggcGVyZm9ybWFuY2UuaGl0X3JhdGUgb25seScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tIZWFsdGggPSB7XHJcbiAgICAgIHN0YXR1czogJ2hlYWx0aHknLFxyXG4gICAgICBzZXJ2aWNlczogeyBhcGk6ICdvcGVyYXRpb25hbCcsIGNhY2hlOiAnb3BlcmF0aW9uYWwnLCBkYXRhYmFzZTogJ29wZXJhdGlvbmFsJyB9LFxyXG4gICAgICBwZXJmb3JtYW5jZTogeyBoaXRfcmF0ZTogNzUuNSwgY2FjaGVfdHlwZTogJ21lbW9yeScgfSxcclxuICAgICAgdXB0aW1lX3NlY29uZHM6IDM2MDBcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbW9ja01ldHJpY3MgPSB7XHJcbiAgICAgIGFwaV9wZXJmb3JtYW5jZToge30sXHJcbiAgICAgIGNhY2hlX3BlcmZvcm1hbmNlOiB7XHJcbiAgICAgICAgY2FjaGVfdHlwZTogJ21lbW9yeScsXHJcbiAgICAgICAgaGl0czogMTAwLFxyXG4gICAgICAgIG1pc3NlczogMjUsXHJcbiAgICAgICAgZXJyb3JzOiAwLFxyXG4gICAgICAgIGhpdF9yYXRlOiA4MC4wLFxyXG4gICAgICAgIHRvdGFsX3JlcXVlc3RzOiAxMjVcclxuICAgICAgfSxcclxuICAgICAgc3lzdGVtX2luZm86IHtcclxuICAgICAgICBvcHRpbWl6YXRpb25fbGV2ZWw6ICdUZXN0JyxcclxuICAgICAgICBjYWNoaW5nX3N0cmF0ZWd5OiAnVGVzdCBNb2RlJyxcclxuICAgICAgICBtb25pdG9yaW5nOiAnVGVzdCdcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBtb2NrRmV0Y2hIZWFsdGhEYXRhLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tIZWFsdGggYXMgYW55KTtcclxuICAgIG1vY2tGZXRjaFBlcmZvcm1hbmNlU3RhdHMubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrTWV0cmljcyB9KTtcclxuXHJcbiAgICByZW5kZXIoPFBlcmZvcm1hbmNlTW9uaXRvcmluZ0Rhc2hib2FyZCAvPik7XHJcblxyXG4gICAgLy8gV2FpdCBmb3IgZGF0YSB0byBsb2FkIGFuZCBjaGVjayB0aGF0IHBlcmNlbnRhZ2VzIGFyZSBkaXNwbGF5ZWRcclxuICAgIGF3YWl0IHNjcmVlbi5maW5kQnlUZXh0KCc3NS41JScpOyAvLyBIZWFsdGggY2FjaGUgaGl0IHJhdGVcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCc4MC4wJScpKS50b0JlSW5UaGVEb2N1bWVudCgpOyAvLyBNZXRyaWNzIGNhY2hlIGhpdCByYXRlXHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIGhlYWx0aCBkYXRhIHdpdGggZmxhdCBoaXRfcmF0ZSBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2NrSGVhbHRoID0ge1xyXG4gICAgICBzdGF0dXM6ICdoZWFsdGh5JyxcclxuICAgICAgc2VydmljZXM6IHsgYXBpOiAnb3BlcmF0aW9uYWwnLCBjYWNoZTogJ29wZXJhdGlvbmFsJywgZGF0YWJhc2U6ICdvcGVyYXRpb25hbCcgfSxcclxuICAgICAgaGl0X3JhdGU6IDY2LjAsIC8vIEZsYXQgc3RydWN0dXJlXHJcbiAgICAgIHVwdGltZV9zZWNvbmRzOiAzNjAwXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG1vY2tNZXRyaWNzID0ge1xyXG4gICAgICBhcGlfcGVyZm9ybWFuY2U6IHt9LFxyXG4gICAgICBjYWNoZV9wZXJmb3JtYW5jZToge1xyXG4gICAgICAgIGNhY2hlX3R5cGU6ICdtZW1vcnknLFxyXG4gICAgICAgIGhpdHM6IDEwMCxcclxuICAgICAgICBtaXNzZXM6IDUxLFxyXG4gICAgICAgIGVycm9yczogMCxcclxuICAgICAgICBoaXRfcmF0ZTogNjYuMCxcclxuICAgICAgICB0b3RhbF9yZXF1ZXN0czogMTUxXHJcbiAgICAgIH0sXHJcbiAgICAgIHN5c3RlbV9pbmZvOiB7XHJcbiAgICAgICAgb3B0aW1pemF0aW9uX2xldmVsOiAnVGVzdCcsXHJcbiAgICAgICAgY2FjaGluZ19zdHJhdGVneTogJ1Rlc3QgTW9kZScsXHJcbiAgICAgICAgbW9uaXRvcmluZzogJ1Rlc3QnXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbW9ja0ZldGNoSGVhbHRoRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrSGVhbHRoIGFzIGFueSk7XHJcbiAgICBtb2NrRmV0Y2hQZXJmb3JtYW5jZVN0YXRzLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja01ldHJpY3MgfSk7XHJcblxyXG4gICAgcmVuZGVyKDxQZXJmb3JtYW5jZU1vbml0b3JpbmdEYXNoYm9hcmQgLz4pO1xyXG5cclxuICAgIC8vIFNob3VsZCBub3QgY3Jhc2ggYW5kIHNob3VsZCBkaXNwbGF5IHRoZSBoaXQgcmF0ZXNcclxuICAgIGNvbnN0IGhpdFJhdGVFbGVtZW50cyA9IGF3YWl0IHNjcmVlbi5maW5kQWxsQnlUZXh0KCc2Ni4wJScpO1xyXG4gICAgZXhwZWN0KGhpdFJhdGVFbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMSk7XHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdDYW5ub3QgcmVhZCBwcm9wZXJ0aWVzIG9mIHVuZGVmaW5lZCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgaGVhbHRoIGRhdGEgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tIZWFsdGggPSB7XHJcbiAgICAgIHN0YXR1czogJ2hlYWx0aHknLFxyXG4gICAgICBzZXJ2aWNlczogeyBhcGk6ICdvcGVyYXRpb25hbCcsIGNhY2hlOiAnb3BlcmF0aW9uYWwnLCBkYXRhYmFzZTogJ29wZXJhdGlvbmFsJyB9LFxyXG4gICAgICB1cHRpbWVfc2Vjb25kczogMzYwMFxyXG4gICAgICAvLyBObyBwZXJmb3JtYW5jZSBvciBoaXRfcmF0ZSBkYXRhXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG1vY2tNZXRyaWNzID0ge1xyXG4gICAgICBhcGlfcGVyZm9ybWFuY2U6IHt9LFxyXG4gICAgICBjYWNoZV9wZXJmb3JtYW5jZToge1xyXG4gICAgICAgIGNhY2hlX3R5cGU6ICdtZW1vcnknLFxyXG4gICAgICAgIGhpdHM6IDAsXHJcbiAgICAgICAgbWlzc2VzOiAxLFxyXG4gICAgICAgIGVycm9yczogMCxcclxuICAgICAgICB0b3RhbF9yZXF1ZXN0czogMVxyXG4gICAgICAgIC8vIE5vIGhpdF9yYXRlIGZpZWxkXHJcbiAgICAgIH0sXHJcbiAgICAgIHN5c3RlbV9pbmZvOiB7XHJcbiAgICAgICAgb3B0aW1pemF0aW9uX2xldmVsOiAnVGVzdCcsXHJcbiAgICAgICAgY2FjaGluZ19zdHJhdGVneTogJ1Rlc3QgTW9kZScsXHJcbiAgICAgICAgbW9uaXRvcmluZzogJ1Rlc3QnXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbW9ja0ZldGNoSGVhbHRoRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrSGVhbHRoIGFzIGFueSk7XHJcbiAgICBtb2NrRmV0Y2hQZXJmb3JtYW5jZVN0YXRzLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja01ldHJpY3MgfSk7XHJcblxyXG4gICAgcmVuZGVyKDxQZXJmb3JtYW5jZU1vbml0b3JpbmdEYXNoYm9hcmQgLz4pO1xyXG5cclxuICAgIC8vIFNob3VsZCBkaXNwbGF5IDAuMCUgaW5zdGVhZCBvZiBjcmFzaGluZ1xyXG4gICAgY29uc3QgemVyb1JhdGVFbGVtZW50cyA9IGF3YWl0IHNjcmVlbi5maW5kQWxsQnlUZXh0KCcwLjAlJyk7XHJcbiAgICBleHBlY3QoemVyb1JhdGVFbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMSk7XHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdDYW5ub3QgcmVhZCBwcm9wZXJ0aWVzIG9mIHVuZGVmaW5lZCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgaW5mcmFzdHJ1Y3R1cmUgY2FjaGUgc3RydWN0dXJlIChQaGFzZSAzKScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tIZWFsdGggPSB7XHJcbiAgICAgIHN0YXR1czogJ2hlYWx0aHknLFxyXG4gICAgICBzZXJ2aWNlczogeyBhcGk6ICdvcGVyYXRpb25hbCcsIGNhY2hlOiAnb3BlcmF0aW9uYWwnLCBkYXRhYmFzZTogJ29wZXJhdGlvbmFsJyB9LFxyXG4gICAgICBpbmZyYXN0cnVjdHVyZToge1xyXG4gICAgICAgIGNhY2hlOiB7IGhpdF9yYXRlX3BlcmNlbnQ6IDg5LjIgfVxyXG4gICAgICB9LFxyXG4gICAgICB1cHRpbWVfc2Vjb25kczogMzYwMFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBtb2NrTWV0cmljcyA9IHtcclxuICAgICAgYXBpX3BlcmZvcm1hbmNlOiB7fSxcclxuICAgICAgY2FjaGVfcGVyZm9ybWFuY2U6IHtcclxuICAgICAgICBjYWNoZV90eXBlOiAnbWVtb3J5JyxcclxuICAgICAgICBoaXRzOiA4OTIsXHJcbiAgICAgICAgbWlzc2VzOiAxMDgsXHJcbiAgICAgICAgZXJyb3JzOiAwLFxyXG4gICAgICAgIGhpdF9yYXRlOiA4OS4yLFxyXG4gICAgICAgIHRvdGFsX3JlcXVlc3RzOiAxMDAwXHJcbiAgICAgIH0sXHJcbiAgICAgIHN5c3RlbV9pbmZvOiB7XHJcbiAgICAgICAgb3B0aW1pemF0aW9uX2xldmVsOiAnUGhhc2UgMycsXHJcbiAgICAgICAgY2FjaGluZ19zdHJhdGVneTogJ0luZnJhc3RydWN0dXJlIE1vZGUnLFxyXG4gICAgICAgIG1vbml0b3Jpbmc6ICdQaGFzZSAzJ1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIG1vY2tGZXRjaEhlYWx0aERhdGEubW9ja1Jlc29sdmVkVmFsdWUobW9ja0hlYWx0aCBhcyBhbnkpO1xyXG4gICAgbW9ja0ZldGNoUGVyZm9ybWFuY2VTdGF0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tNZXRyaWNzIH0pO1xyXG5cclxuICAgIHJlbmRlcig8UGVyZm9ybWFuY2VNb25pdG9yaW5nRGFzaGJvYXJkIC8+KTtcclxuXHJcbiAgICAvLyBTaG91bGQgY29ycmVjdGx5IG1hcCBpbmZyYXN0cnVjdHVyZS5jYWNoZS5oaXRfcmF0ZV9wZXJjZW50XHJcbiAgICBjb25zdCBpbmZyYVJhdGVFbGVtZW50cyA9IGF3YWl0IHNjcmVlbi5maW5kQWxsQnlUZXh0KCc4OS4yJScpO1xyXG4gICAgZXhwZWN0KGluZnJhUmF0ZUVsZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgxKTtcclxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0Nhbm5vdCByZWFkIHByb3BlcnRpZXMgb2YgdW5kZWZpbmVkJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiI7O0FBVUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsdUJBQXVCLENBQUM7QUFJbEM7QUFDQUQsV0FBQSxHQUFLQyxJQUFJLENBQUMsZUFBZSxFQUFFLE9BQU87RUFDaENDLE1BQU0sRUFBRTtJQUNOQyxHQUFHLEVBQUdDLEtBQVUsaUJBQUssSUFBQUMsV0FBQSxDQUFBQyxHQUFBO01BQUEsR0FBU0Y7SUFBSyxDQUFHLENBQUM7SUFDdkNH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