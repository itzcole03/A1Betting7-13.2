{"file":"C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\frontend\\src\\components\\auth\\AuthPage.tsx","mappings":"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","names":[],"sources":["C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\frontend\\src\\components\\auth\\AuthPage.tsx"],"sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { getBackendUrl } from '../../utils/getBackendUrl';\r\n\r\nimport Register from '../Register';\r\nimport AccessRequestForm from './AccessRequestForm';\r\nimport LoginForm from './LoginForm';\r\nimport PasswordChangeForm from './PasswordChangeForm';\r\n// Import the simple user-friendly app as the default dashboard\r\nconst UserFriendlyApp = React.lazy(() =>\r\n  import('../user-friendly/UserFriendlyApp').then(module => ({ default: module.default }))\r\n);\r\n\r\ntype AuthMode = 'login' | 'signup' | 'request-access' | 'password-change';\r\n\r\nconst _AuthPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [authMode, setAuthMode] = useState<AuthMode>('login');\r\n  const { login, changePassword, loading, error, user, isAuthenticated, requiresPasswordChange } =\r\n    useAuth();\r\n\r\n  // Forgot password state\r\n  // Removed unused forgotPasswordLoading state\r\n\r\n  // Forgot password modal state\r\n  const [showForgotModal, setShowForgotModal] = useState(false);\r\n  const [forgotEmail, setForgotEmail] = useState('');\r\n  const [forgotStatus, setForgotStatus] = useState<'idle' | 'loading' | 'success' | 'error'>(\r\n    'idle'\r\n  );\r\n  const [forgotMessage, setForgotMessage] = useState('');\r\n\r\n  // Redirect to password change if required\r\n  useEffect(() => {\r\n    if (isAuthenticated && requiresPasswordChange) {\r\n      setAuthMode('password-change');\r\n    }\r\n  }, [isAuthenticated, requiresPasswordChange]);\r\n\r\n  const _handleLogin = async (email: string, password: string) => {\r\n    await login(email, password);\r\n  };\r\n\r\n  // Forgot password handler\r\n  const _handleForgotPassword = async (email: string) => {\r\n    // Removed unused setForgotPasswordLoading\r\n    try {\r\n      // Call backend endpoint\r\n      await fetch(getBackendUrl() + '/api/auth/forgot-password', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n      // Success and error handling can be implemented here if needed\r\n    } catch (error) {\r\n      // Network error handling can be implemented here if needed\r\n    } finally {\r\n      // Removed unused setForgotPasswordLoading\r\n    }\r\n  };\r\n\r\n  const _submitForgotPassword = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setForgotStatus('loading');\r\n    setForgotMessage('');\r\n    try {\r\n      // TODO: Replace with real API call\r\n      await new Promise(resolve => setTimeout(resolve, 1200));\r\n      setForgotStatus('success');\r\n      setForgotMessage('If this email is registered, a password reset link has been sent.');\r\n    } catch (err) {\r\n      setForgotStatus('error');\r\n      setForgotMessage('Failed to send reset email. Please try again later.');\r\n    }\r\n  };\r\n\r\n  const _closeForgotModal = () => {\r\n    setShowForgotModal(false);\r\n    setForgotStatus('idle');\r\n    setForgotMessage('');\r\n  };\r\n\r\n  const _handleRequestAccess = () => {\r\n    setAuthMode('request-access');\r\n  };\r\n\r\n  // Removed unused _handleBackToLogin\r\n\r\n  const _handleAccessRequestSubmitted = () => {\r\n    // Optionally switch back to login after successful request\r\n    setTimeout(() => {\r\n      setAuthMode('login');\r\n    }, 3000);\r\n  };\r\n\r\n  const _handlePasswordChange = async (currentPassword: string, newPassword: string) => {\r\n    await changePassword({\r\n      userId: user?.id || '',\r\n      oldPassword: currentPassword,\r\n      newPassword,\r\n    });\r\n  };\r\n\r\n  // Registration success handler\r\n  // Removed unused _handleRegisterSuccess\r\n\r\n  // Redirect to dashboard after login\r\n  useEffect(() => {\r\n    if (isAuthenticated && !requiresPasswordChange) {\r\n      navigate('/', { replace: true });\r\n    }\r\n  }, [isAuthenticated, requiresPasswordChange, navigate]);\r\n\r\n  // If authenticated and not in password change mode, render the simple UI dashboard\r\n  if (isAuthenticated && !requiresPasswordChange) {\r\n    return (\r\n      <React.Suspense fallback={<div className='text-white p-8'>Loading dashboard...</div>}>\r\n        <UserFriendlyApp />\r\n      </React.Suspense>\r\n    );\r\n  }\r\n\r\n  // Otherwise, render the auth UI as before\r\n  return (\r\n    <div className='min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4'>\r\n      {/* Background Pattern */}\r\n      <div className='absolute inset-0 bg-quantum-grid opacity-5' />\r\n      {/* Animated Background Orbs */}\r\n      <div className='absolute inset-0 overflow-hidden'>\r\n        <div className='absolute -top-10 -left-10 w-80 h-80 bg-cyber-primary/10 rounded-full blur-3xl animate-pulse' />\r\n        <div className='absolute -bottom-10 -right-10 w-80 h-80 bg-cyber-accent/10 rounded-full blur-3xl animate-pulse delay-1000' />\r\n        <div className='absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-cyber-purple/5 rounded-full blur-3xl animate-pulse delay-2000' />\r\n      </div>\r\n      <div className='relative z-10 w-full max-w-md'>\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className='text-center mb-8'\r\n        >\r\n          <div className='inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-yellow-400 to-purple-500 rounded-2xl mb-6 shadow-lg shadow-yellow-400/25'>\r\n            <span className='text-2xl font-bold text-slate-900'>PropOllama</span>\r\n          </div>\r\n          <h1 className='text-3xl font-bold text-yellow-400 mb-2'>PropOllama</h1>\r\n          <p className='text-gray-400'>AI Prop Research & Analytics</p>\r\n        </motion.div>\r\n        {/* Auth Mode Toggle - Only show if not in password change mode */}\r\n        {authMode !== 'password-change' && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            transition={{ delay: 0.2 }}\r\n            className='flex justify-center mb-8'\r\n          >\r\n            <div className='bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-lg p-1 flex'>\r\n              <button\r\n                onClick={() => setAuthMode('login')}\r\n                className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n                  authMode === 'login'\r\n                    ? 'bg-cyber-primary text-slate-900'\r\n                    : 'text-gray-400 hover:text-white'\r\n                }`}\r\n              >\r\n                Sign In\r\n              </button>\r\n              <button\r\n                onClick={() => setAuthMode('signup')}\r\n                className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n                  authMode === 'signup'\r\n                    ? 'bg-cyber-primary text-slate-900'\r\n                    : 'text-gray-400 hover:text-white'\r\n                }`}\r\n              >\r\n                Sign Up\r\n              </button>\r\n              <button\r\n                onClick={() => setAuthMode('request-access')}\r\n                className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n                  authMode === 'request-access'\r\n                    ? 'bg-cyber-primary text-slate-900'\r\n                    : 'text-gray-400 hover:text-white'\r\n                }`}\r\n              >\r\n                Request Access\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n        {/* Auth Forms */}\r\n        <AnimatePresence mode='wait'>\r\n          {authMode === 'login' && (\r\n            <motion.div\r\n              key='login'\r\n              initial={{ opacity: 0, x: -20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              exit={{ opacity: 0, x: 20 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              <LoginForm\r\n                onLogin={_handleLogin}\r\n                onForgotPassword={_handleForgotPassword}\r\n                onRequestAccess={_handleRequestAccess}\r\n                loading={loading}\r\n                error={error ?? undefined}\r\n              />\r\n            </motion.div>\r\n          )}\r\n          {authMode === 'signup' && (\r\n            <motion.div\r\n              key='signup'\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              exit={{ opacity: 0, x: -20 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              {/* Integrate Register form, pass AuthContext register and success handler */}\r\n\r\n              <Register />\r\n            </motion.div>\r\n          )}\r\n          {authMode === 'request-access' && (\r\n            <motion.div\r\n              key='request-access'\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              exit={{ opacity: 0, x: -20 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              <AccessRequestForm onRequestSubmitted={_handleAccessRequestSubmitted} />\r\n            </motion.div>\r\n          )}\r\n          {authMode === 'password-change' && (\r\n            <motion.div\r\n              key='password-change'\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -20 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              <PasswordChangeForm\r\n                onPasswordChange={_handlePasswordChange}\r\n                loading={loading}\r\n                error={error ?? undefined}\r\n                userEmail={user?.email}\r\n              />\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n        {/* Forgot Password Modal */}\r\n        <AnimatePresence>\r\n          {showForgotModal && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              className='fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm'\r\n            >\r\n              <div className='bg-slate-900 rounded-xl shadow-lg p-8 w-full max-w-sm relative'>\r\n                <button\r\n                  className='absolute top-2 right-2 text-gray-400 hover:text-white text-xl'\r\n                  onClick={_closeForgotModal}\r\n                  aria-label='Close'\r\n                >\r\n                  &times;\r\n                </button>\r\n                <h2 className='text-xl font-bold text-white mb-2'>Forgot Password</h2>\r\n                <p className='text-gray-400 mb-4'>\r\n                  Enter your email address and we'll send you a password reset link.\r\n                </p>\r\n                <form onSubmit={_submitForgotPassword} className='space-y-4'>\r\n                  <input\r\n                    type='email'\r\n                    className='w-full px-4 py-2 rounded-md bg-slate-800 text-white border border-slate-700 focus:outline-none focus:ring-2 focus:ring-cyber-primary'\r\n                    placeholder='Email address'\r\n                    value={forgotEmail}\r\n                    onChange={e => setForgotEmail(e.target.value)}\r\n                    required\r\n                  />\r\n                  <button\r\n                    type='submit'\r\n                    className='w-full py-2 rounded-md bg-cyber-primary text-slate-900 font-semibold hover:bg-cyber-accent transition-colors disabled:opacity-60'\r\n                    disabled={forgotStatus === 'loading'}\r\n                  >\r\n                    {forgotStatus === 'loading' ? 'Sending...' : 'Send Reset Link'}\r\n                  </button>\r\n                </form>\r\n                {forgotMessage && (\r\n                  <div\r\n                    className={`mt-4 text-sm ${\r\n                      forgotStatus === 'success' ? 'text-green-400' : 'text-red-400'\r\n                    }`}\r\n                  >\r\n                    {forgotMessage}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n        {/* Footer */}\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.4 }}\r\n          className='mt-8 text-center'\r\n        >\r\n          <p className='text-xs text-gray-500'>© 2025 PropOllama. All rights reserved.</p>\r\n          <div className='flex justify-center space-x-4 mt-2'>\r\n            <button\r\n              type='button'\r\n              className='text-xs text-gray-500 hover:text-gray-400 transition-colors bg-transparent border-none p-0 cursor-pointer'\r\n            >\r\n              Terms\r\n            </button>\r\n            <button\r\n              type='button'\r\n              className='text-xs text-gray-500 hover:text-gray-400 transition-colors bg-transparent border-none p-0 cursor-pointer'\r\n            >\r\n              Privacy\r\n            </button>\r\n            <button\r\n              type='button'\r\n              className='text-xs text-gray-500 hover:text-gray-400 transition-colors bg-transparent border-none p-0 cursor-pointer'\r\n            >\r\n              Support\r\n            </button>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default _AuthPage;\r\n"],"version":3}