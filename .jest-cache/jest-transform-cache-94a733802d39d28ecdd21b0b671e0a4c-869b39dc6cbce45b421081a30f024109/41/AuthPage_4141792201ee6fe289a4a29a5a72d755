e015c31440f8f685e3f49e75cbedb0af
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const framer_motion_1 = require("framer-motion");
const react_1 = __importStar(require("react"));
const react_router_dom_1 = require("react-router-dom");
const AuthContext_1 = require("../../contexts/AuthContext");
const getBackendUrl_1 = require("../../utils/getBackendUrl");
const Register_1 = __importDefault(require("../Register"));
const AccessRequestForm_1 = __importDefault(require("./AccessRequestForm"));
const LoginForm_1 = __importDefault(require("./LoginForm"));
const PasswordChangeForm_1 = __importDefault(require("./PasswordChangeForm"));
// Import the simple user-friendly app as the default dashboard
const UserFriendlyApp = react_1.default.lazy(() => Promise.resolve().then(() => __importStar(require('../user-friendly/UserFriendlyApp'))).then(module => ({ default: module.default })));
const _AuthPage = () => {
    const navigate = (0, react_router_dom_1.useNavigate)();
    const [authMode, setAuthMode] = (0, react_1.useState)('login');
    const { login, changePassword, loading, error, user, isAuthenticated, requiresPasswordChange } = (0, AuthContext_1.useAuth)();
    // Forgot password state
    // Removed unused forgotPasswordLoading state
    // Forgot password modal state
    const [showForgotModal, setShowForgotModal] = (0, react_1.useState)(false);
    const [forgotEmail, setForgotEmail] = (0, react_1.useState)('');
    const [forgotStatus, setForgotStatus] = (0, react_1.useState)('idle');
    const [forgotMessage, setForgotMessage] = (0, react_1.useState)('');
    // Redirect to password change if required
    (0, react_1.useEffect)(() => {
        if (isAuthenticated && requiresPasswordChange) {
            setAuthMode('password-change');
        }
    }, [isAuthenticated, requiresPasswordChange]);
    const _handleLogin = async (email, password) => {
        await login(email, password);
    };
    // Forgot password handler
    const _handleForgotPassword = async (email) => {
        // Removed unused setForgotPasswordLoading
        try {
            // Call backend endpoint
            await fetch((0, getBackendUrl_1.getBackendUrl)() + '/api/auth/forgot-password', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email }),
            });
            // Success and error handling can be implemented here if needed
        }
        catch (error) {
            // Network error handling can be implemented here if needed
        }
        finally {
            // Removed unused setForgotPasswordLoading
        }
    };
    const _submitForgotPassword = async (e) => {
        e.preventDefault();
        setForgotStatus('loading');
        setForgotMessage('');
        try {
            // TODO: Replace with real API call
            await new Promise(resolve => setTimeout(resolve, 1200));
            setForgotStatus('success');
            setForgotMessage('If this email is registered, a password reset link has been sent.');
        }
        catch (err) {
            setForgotStatus('error');
            setForgotMessage('Failed to send reset email. Please try again later.');
        }
    };
    const _closeForgotModal = () => {
        setShowForgotModal(false);
        setForgotStatus('idle');
        setForgotMessage('');
    };
    const _handleRequestAccess = () => {
        setAuthMode('request-access');
    };
    // Removed unused _handleBackToLogin
    const _handleAccessRequestSubmitted = () => {
        // Optionally switch back to login after successful request
        setTimeout(() => {
            setAuthMode('login');
        }, 3000);
    };
    const _handlePasswordChange = async (currentPassword, newPassword) => {
        await changePassword({
            userId: user?.id || '',
            oldPassword: currentPassword,
            newPassword,
        });
    };
    // Registration success handler
    // Removed unused _handleRegisterSuccess
    // Redirect to dashboard after login
    (0, react_1.useEffect)(() => {
        if (isAuthenticated && !requiresPasswordChange) {
            navigate('/', { replace: true });
        }
    }, [isAuthenticated, requiresPasswordChange, navigate]);
    // If authenticated and not in password change mode, render the simple UI dashboard
    if (isAuthenticated && !requiresPasswordChange) {
        return ((0, jsx_runtime_1.jsx)(react_1.default.Suspense, { fallback: (0, jsx_runtime_1.jsx)("div", { className: 'text-white p-8', children: "Loading dashboard..." }), children: (0, jsx_runtime_1.jsx)(UserFriendlyApp, {}) }));
    }
    // Otherwise, render the auth UI as before
    return ((0, jsx_runtime_1.jsxs)("div", { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4', children: [(0, jsx_runtime_1.jsx)("div", { className: 'absolute inset-0 bg-quantum-grid opacity-5' }), (0, jsx_runtime_1.jsxs)("div", { className: 'absolute inset-0 overflow-hidden', children: [(0, jsx_runtime_1.jsx)("div", { className: 'absolute -top-10 -left-10 w-80 h-80 bg-cyber-primary/10 rounded-full blur-3xl animate-pulse' }), (0, jsx_runtime_1.jsx)("div", { className: 'absolute -bottom-10 -right-10 w-80 h-80 bg-cyber-accent/10 rounded-full blur-3xl animate-pulse delay-1000' }), (0, jsx_runtime_1.jsx)("div", { className: 'absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-cyber-purple/5 rounded-full blur-3xl animate-pulse delay-2000' })] }), (0, jsx_runtime_1.jsxs)("div", { className: 'relative z-10 w-full max-w-md', children: [(0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, y: -20 }, animate: { opacity: 1, y: 0 }, className: 'text-center mb-8', children: [(0, jsx_runtime_1.jsx)("div", { className: 'inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-yellow-400 to-purple-500 rounded-2xl mb-6 shadow-lg shadow-yellow-400/25', children: (0, jsx_runtime_1.jsx)("span", { className: 'text-2xl font-bold text-slate-900', children: "PropOllama" }) }), (0, jsx_runtime_1.jsx)("h1", { className: 'text-3xl font-bold text-yellow-400 mb-2', children: "PropOllama" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-gray-400', children: "AI Prop Research & Analytics" })] }), authMode !== 'password-change' && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, transition: { delay: 0.2 }, className: 'flex justify-center mb-8', children: (0, jsx_runtime_1.jsxs)("div", { className: 'bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-lg p-1 flex', children: [(0, jsx_runtime_1.jsx)("button", { onClick: () => setAuthMode('login'), className: `px-4 py-2 rounded-md text-sm font-medium transition-all ${authMode === 'login'
                                        ? 'bg-cyber-primary text-slate-900'
                                        : 'text-gray-400 hover:text-white'}`, children: "Sign In" }), (0, jsx_runtime_1.jsx)("button", { onClick: () => setAuthMode('signup'), className: `px-4 py-2 rounded-md text-sm font-medium transition-all ${authMode === 'signup'
                                        ? 'bg-cyber-primary text-slate-900'
                                        : 'text-gray-400 hover:text-white'}`, children: "Sign Up" }), (0, jsx_runtime_1.jsx)("button", { onClick: () => setAuthMode('request-access'), className: `px-4 py-2 rounded-md text-sm font-medium transition-all ${authMode === 'request-access'
                                        ? 'bg-cyber-primary text-slate-900'
                                        : 'text-gray-400 hover:text-white'}`, children: "Request Access" })] }) })), (0, jsx_runtime_1.jsxs)(framer_motion_1.AnimatePresence, { mode: 'wait', children: [authMode === 'login' && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, x: -20 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: 20 }, transition: { duration: 0.3 }, children: (0, jsx_runtime_1.jsx)(LoginForm_1.default, { onLogin: _handleLogin, onForgotPassword: _handleForgotPassword, onRequestAccess: _handleRequestAccess, loading: loading, error: error ?? undefined }) }, 'login')), authMode === 'signup' && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -20 }, transition: { duration: 0.3 }, children: (0, jsx_runtime_1.jsx)(Register_1.default, {}) }, 'signup')), authMode === 'request-access' && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -20 }, transition: { duration: 0.3 }, children: (0, jsx_runtime_1.jsx)(AccessRequestForm_1.default, { onRequestSubmitted: _handleAccessRequestSubmitted }) }, 'request-access')), authMode === 'password-change' && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, exit: { opacity: 0, y: -20 }, transition: { duration: 0.3 }, children: (0, jsx_runtime_1.jsx)(PasswordChangeForm_1.default, { onPasswordChange: _handlePasswordChange, loading: loading, error: error ?? undefined, userEmail: user?.email }) }, 'password-change'))] }), (0, jsx_runtime_1.jsx)(framer_motion_1.AnimatePresence, { children: showForgotModal && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, scale: 0.95 }, animate: { opacity: 1, scale: 1 }, exit: { opacity: 0, scale: 0.95 }, className: 'fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm', children: (0, jsx_runtime_1.jsxs)("div", { className: 'bg-slate-900 rounded-xl shadow-lg p-8 w-full max-w-sm relative', children: [(0, jsx_runtime_1.jsx)("button", { className: 'absolute top-2 right-2 text-gray-400 hover:text-white text-xl', onClick: _closeForgotModal, "aria-label": 'Close', children: "\u00D7" }), (0, jsx_runtime_1.jsx)("h2", { className: 'text-xl font-bold text-white mb-2', children: "Forgot Password" }), (0, jsx_runtime_1.jsx)("p", { className: 'text-gray-400 mb-4', children: "Enter your email address and we'll send you a password reset link." }), (0, jsx_runtime_1.jsxs)("form", { onSubmit: _submitForgotPassword, className: 'space-y-4', children: [(0, jsx_runtime_1.jsx)("input", { type: 'email', className: 'w-full px-4 py-2 rounded-md bg-slate-800 text-white border border-slate-700 focus:outline-none focus:ring-2 focus:ring-cyber-primary', placeholder: 'Email address', value: forgotEmail, onChange: e => setForgotEmail(e.target.value), required: true }), (0, jsx_runtime_1.jsx)("button", { type: 'submit', className: 'w-full py-2 rounded-md bg-cyber-primary text-slate-900 font-semibold hover:bg-cyber-accent transition-colors disabled:opacity-60', disabled: forgotStatus === 'loading', children: forgotStatus === 'loading' ? 'Sending...' : 'Send Reset Link' })] }), forgotMessage && ((0, jsx_runtime_1.jsx)("div", { className: `mt-4 text-sm ${forgotStatus === 'success' ? 'text-green-400' : 'text-red-400'}`, children: forgotMessage }))] }) })) }), (0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, transition: { delay: 0.4 }, className: 'mt-8 text-center', children: [(0, jsx_runtime_1.jsx)("p", { className: 'text-xs text-gray-500', children: "\u00A9 2025 PropOllama. All rights reserved." }), (0, jsx_runtime_1.jsxs)("div", { className: 'flex justify-center space-x-4 mt-2', children: [(0, jsx_runtime_1.jsx)("button", { type: 'button', className: 'text-xs text-gray-500 hover:text-gray-400 transition-colors bg-transparent border-none p-0 cursor-pointer', children: "Terms" }), (0, jsx_runtime_1.jsx)("button", { type: 'button', className: 'text-xs text-gray-500 hover:text-gray-400 transition-colors bg-transparent border-none p-0 cursor-pointer', children: "Privacy" }), (0, jsx_runtime_1.jsx)("button", { type: 'button', className: 'text-xs text-gray-500 hover:text-gray-400 transition-colors bg-transparent border-none p-0 cursor-pointer', children: "Support" })] })] })] })] }));
};
exports.default = _AuthPage;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxiY21hZFxcRG93bmxvYWRzXFxBMUJldHRpbmc3LTEzLjJcXGZyb250ZW5kXFxzcmNcXGNvbXBvbmVudHNcXGF1dGhcXEF1dGhQYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpREFBd0Q7QUFDeEQsK0NBQW1EO0FBQ25ELHVEQUErQztBQUMvQyw0REFBcUQ7QUFDckQsNkRBQTBEO0FBRTFELDJEQUFtQztBQUNuQyw0RUFBb0Q7QUFDcEQsNERBQW9DO0FBQ3BDLDhFQUFzRDtBQUN0RCwrREFBK0Q7QUFDL0QsTUFBTSxlQUFlLEdBQUcsZUFBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FDdEMsa0RBQU8sa0NBQWtDLElBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUN6RixDQUFDO0FBSUYsTUFBTSxTQUFTLEdBQWEsR0FBRyxFQUFFO0lBQy9CLE1BQU0sUUFBUSxHQUFHLElBQUEsOEJBQVcsR0FBRSxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFXLE9BQU8sQ0FBQyxDQUFDO0lBQzVELE1BQU0sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxzQkFBc0IsRUFBRSxHQUM1RixJQUFBLHFCQUFPLEdBQUUsQ0FBQztJQUVaLHdCQUF3QjtJQUN4Qiw2Q0FBNkM7SUFFN0MsOEJBQThCO0lBQzlCLE1BQU0sQ0FBQyxlQUFlLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUQsTUFBTSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsRUFBRSxDQUFDLENBQUM7SUFDbkQsTUFB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QVMsRUFBQyxrQkFBa0IsYUFFNUIsOEJBQUcsU0FBUyxFQUFDLHVCQUF1Qiw2REFBNEMsRUFDaEYsaUNBQUssU0FBUyxFQUFDLG9DQUFvQyxhQUNqRCxtQ0FDRSxJQUFJLEVBQUMsUUFBUSxFQUNiLFNBQVMsRUFBQywyR0FBMkcsc0JBRzlHLEVBQ1QsbUNBQ0UsSUFBSSxFQUFDLFFBQVEsRUFDYixTQUFTLEVBQUMsMkdBQTJHLHdCQUc5RyxFQUNULG1DQUNFLElBQUksRUFBQyxRQUFRLEVBQ2IsU0FBUyxFQUFDLDJHQUEyRyx3QkFHOUcsSUFDTCxJQUNLLElBQ1QsSUFDRixDQUNQLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixrQkFBZSxTQUFTLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxiY21hZFxcRG93bmxvYWRzXFxBMUJldHRpbmc3LTEzLjJcXGZyb250ZW5kXFxzcmNcXGNvbXBvbmVudHNcXGF1dGhcXEF1dGhQYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmltYXRlUHJlc2VuY2UsIG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uLy4uL2NvbnRleHRzL0F1dGhDb250ZXh0JztcclxuaW1wb3J0IHsgZ2V0QmFja2VuZFVybCB9IGZyb20gJy4uLy4uL3V0aWxzL2dldEJhY2tlbmRVcmwnO1xyXG5cclxuaW1wb3J0IFJlZ2lzdGVyIGZyb20gJy4uL1JlZ2lzdGVyJztcclxuaW1wb3J0IEFjY2Vzc1JlcXVlc3RGb3JtIGZyb20gJy4vQWNjZXNzUmVxdWVzdEZvcm0nO1xyXG5pbXBvcnQgTG9naW5Gb3JtIGZyb20gJy4vTG9naW5Gb3JtJztcclxuaW1wb3J0IFBhc3N3b3JkQ2hhbmdlRm9ybSBmcm9tICcuL1Bhc3N3b3JkQ2hhbmdlRm9ybSc7XHJcbi8vIEltcG9ydCB0aGUgc2ltcGxlIHVzZXItZnJpZW5kbHkgYXBwIGFzIHRoZSBkZWZhdWx0IGRhc2hib2FyZFxyXG5jb25zdCBVc2VyRnJpZW5kbHlBcHAgPSBSZWFjdC5sYXp5KCgpID0+XHJcbiAgaW1wb3J0KCcuLi91c2VyLWZyaWVuZGx5L1VzZXJGcmllbmRseUFwcCcpLnRoZW4obW9kdWxlID0+ICh7IGRlZmF1bHQ6IG1vZHVsZS5kZWZhdWx0IH0pKVxyXG4pO1xyXG5cclxudHlwZSBBdXRoTW9kZSA9ICdsb2dpbicgfCAnc2lnbnVwJyB8ICdyZXF1ZXN0LWFjY2VzcycgfCAncGFzc3dvcmQtY2hhbmdlJztcclxuXHJcbmNvbnN0IF9BdXRoUGFnZTogUmVhY3QuRkMgPSAoKSA9PiB7XHJcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xyXG4gIGNvbnN0IFthdXRoTW9kZSwgc2V0QXV0aE1vZGVdID0gdXNlU3RhdGU8QXV0aE1vZGU+KCdsb2dpbicpO1xyXG4gIGNvbnN0IHsgbG9naW4sIGNoYW5nZVBhc3N3b3JkLCBsb2FkaW5nLCBlcnJvciwgdXNlciwgaXNBdXRoZW50aWNhdGVkLCByZXF1aXJlc1Bhc3N3b3JkQ2hhbmdlIH0gPVxyXG4gICAgdXNlQXV0aCgpO1xyXG5cclxuICAvLyBGb3Jnb3QgcGFzc3dvcmQgc3RhdGVcclxuICAvLyBSZW1vdmVkIHVudXNlZCBmb3Jnb3RQYXNzd29yZExvYWRpbmcgc3RhdGVcclxuXHJcbiAgLy8gRm9yZ290IHBhc3N3b3JkIG1vZGFsIHN0YXRlXHJcbiAgY29uc3QgW3Nob3dGb3Jnb3RNb2RhbCwgc2V0U2hvd0ZvcmdvdE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZm9yZ290RW1haWwsIHNldEZvcmdvdEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbZm9yZ290U3RhdHVzLCBzZXRGb3Jnb3RTdGF0dXNdID0gdXNlU3RhdGU8J2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ3N1Y2Nlc3MnIHwgJ2Vycm9yJz4oXHJcbiAgICAnaWRsZSdcclxuICApO1xyXG4gIGNvbnN0IFtmb3Jnb3RNZXNzYWdlLCBzZXRGb3Jnb3RNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuXHJcbiAgLy8gUmVkaXJlY3QgdG8gcGFzc3dvcmQgY2hhbmdlIGlmIHJlcXVpcmVkXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQgJiYgcmVxdWlyZXNQYXNzd29yZENoYW5nZSkge1xyXG4gICAgICBzZXRBdXRoTW9kZSgncGFzc3dvcmQtY2hhbmdlJyk7XHJcbiAgICB9XHJcbiAgfSwgW2lzQXV0aGVudGljYXRlZCwgcmVxdWlyZXNQYXNzd29yZENoYW5nZV0pO1xyXG5cclxuICBjb25zdCBfaGFuZGxlTG9naW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xyXG4gICAgYXdhaXQgbG9naW4oZW1haWwsIHBhc3N3b3JkKTtcclxuICB9O1xyXG5cclxuICAvLyBGb3Jnb3QgcGFzc3dvcmQgaGFuZGxlclxyXG4gIGNvbnN0IF9oYW5kbGVGb3Jnb3RQYXNzd29yZCA9IGFzeW5jIChlbWFpbDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyBSZW1vdmVkIHVudXNlZCBzZXRGb3Jnb3RQYXNzd29yZExvYWRpbmdcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENhbGwgYmFja2VuZCBlbmRwb2ludFxyXG4gICAgICBhd2FpdCBmZXRjaChnZXRCYWNrZW5kVXJsKCkgKyAnL2FwaS9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGVtYWlsIH0pLFxyXG4gICAgICB9KTtcclxuICAgICAgLy8gU3VjY2VzcyBhbmQgZXJyb3IgaGFuZGxpbmcgY2FuIGJlIGltcGxlbWVudGVkIGhlcmUgaWYgbmVlZGVkXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBOZXR3b3JrIGVycm9yIGhhbmRsaW5nIGNhbiBiZSBpbXBsZW1lbnRlZCBoZXJlIGlmIG5lZWRlZFxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgLy8gUmVtb3ZlZCB1bnVzZWQgc2V0Rm9yZ290UGFzc3dvcmRMb2FkaW5nXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX3N1Ym1pdEZvcmdvdFBhc3N3b3JkID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2V0Rm9yZ290U3RhdHVzKCdsb2FkaW5nJyk7XHJcbiAgICBzZXRGb3Jnb3RNZXNzYWdlKCcnKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFRPRE86IFJlcGxhY2Ugd2l0aCByZWFsIEFQSSBjYWxsXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMjAwKSk7XHJcbiAgICAgIHNldEZvcmdvdFN0YXR1cygnc3VjY2VzcycpO1xyXG4gICAgICBzZXRGb3Jnb3RNZXNzYWdlKCdJZiB0aGlzIGVtYWlsIGlzIHJlZ2lzdGVyZWQsIGEgcGFzc3dvcmQgcmVzZXQgbGluayBoYXMgYmVlbiBzZW50LicpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHNldEZvcmdvdFN0YXR1cygnZXJyb3InKTtcclxuICAgICAgc2V0Rm9yZ290TWVzc2FnZSgnRmFpbGVkIHRvIHNlbmQgcmVzZXQgZW1haWwuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgX2Nsb3NlRm9yZ290TW9kYWwgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93Rm9yZ290TW9kYWwoZmFsc2UpO1xyXG4gICAgc2V0Rm9yZ290U3RhdHVzKCdpZGxlJyk7XHJcbiAgICBzZXRGb3Jnb3RNZXNzYWdlKCcnKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBfaGFuZGxlUmVxdWVzdEFjY2VzcyA9ICgpID0+IHtcclxuICAgIHNldEF1dGhNb2RlKCdyZXF1ZXN0LWFjY2VzcycpO1xyXG4gIH07XHJcblxyXG4gIC8vIFJlbW92ZWQgdW51c2VkIF9oYW5kbGVCYWNrVG9Mb2dpblxyXG5cclxuICBjb25zdCBfaGFuZGxlQWNjZXNzUmVxdWVzdFN1Ym1pdHRlZCA9ICgpID0+IHtcclxuICAgIC8vIE9wdGlvbmFsbHkgc3dpdGNoIGJhY2sgdG8gbG9naW4gYWZ0ZXIgc3VjY2Vzc2Z1bCByZXF1ZXN0XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2V0QXV0aE1vZGUoJ2xvZ2luJyk7XHJcbiAgICB9LCAzMDAwKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBfaGFuZGxlUGFzc3dvcmRDaGFuZ2UgPSBhc3luYyAoY3VycmVudFBhc3N3b3JkOiBzdHJpbmcsIG5ld1Bhc3N3b3JkOiBzdHJpbmcpID0+IHtcclxuICAgIGF3YWl0IGNoYW5nZVBhc3N3b3JkKHtcclxuICAgICAgdXNlcklkOiB1c2VyPy5pZCB8fCAnJyxcclxuICAgICAgb2xkUGFzc3dvcmQ6IGN1cnJlbnRQYXNzd29yZCxcclxuICAgICAgbmV3UGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBSZWdpc3RyYXRpb24gc3VjY2VzcyBoYW5kbGVyXHJcbiAgLy8gUmVtb3ZlZCB1bnVzZWQgX2hhbmRsZVJlZ2lzdGVyU3VjY2Vzc1xyXG5cclxuICAvLyBSZWRpcmVjdCB0byBkYXNoYm9hcmQgYWZ0ZXIgbG9naW5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCAmJiAhcmVxdWlyZXNQYXNzd29yZENoYW5nZSkge1xyXG4gICAgICBuYXZpZ2F0ZSgnLycsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuICB9LCBbaXNBdXRoZW50aWNhdGVkLCByZXF1aXJlc1Bhc3N3b3JkQ2hhbmdlLCBuYXZpZ2F0ZV0pO1xyXG5cclxuICAvLyBJZiBhdXRoZW50aWNhdGVkIGFuZCBub3QgaW4gcGFzc3dvcmQgY2hhbmdlIG1vZGUsIHJlbmRlciB0aGUgc2ltcGxlIFVJIGRhc2hib2FyZFxyXG4gIGlmIChpc0F1dGhlbnRpY2F0ZWQgJiYgIXJlcXVpcmVzUGFzc3dvcmRDaGFuZ2UpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxSZWFjdC5TdXNwZW5zZSBmYWxsYmFjaz17PGRpdiBjbGFzc05hbWU9J3RleHQtd2hpdGUgcC04Jz5Mb2FkaW5nIGRhc2hib2FyZC4uLjwvZGl2Pn0+XHJcbiAgICAgICAgPFVzZXJGcmllbmRseUFwcCAvPlxyXG4gICAgICA8L1JlYWN0LlN1c3BlbnNlPlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIE90aGVyd2lzZSwgcmVuZGVyIHRoZSBhdXRoIFVJIGFzIGJlZm9yZVxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT0nbWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2xhdGUtOTAwIHZpYS1zbGF0ZS04MDAgdG8tc2xhdGUtOTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCc+XHJcbiAgICAgIHsvKiBCYWNrZ3JvdW5kIFBhdHRlcm4gKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdhYnNvbHV0ZSBpbnNldC0wIGJnLXF1YW50dW0tZ3JpZCBvcGFjaXR5LTUnIC8+XHJcbiAgICAgIHsvKiBBbmltYXRlZCBCYWNrZ3JvdW5kIE9yYnMgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdhYnNvbHV0ZSBpbnNldC0wIG92ZXJmbG93LWhpZGRlbic+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Fic29sdXRlIC10b3AtMTAgLWxlZnQtMTAgdy04MCBoLTgwIGJnLWN5YmVyLXByaW1hcnkvMTAgcm91bmRlZC1mdWxsIGJsdXItM3hsIGFuaW1hdGUtcHVsc2UnIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Fic29sdXRlIC1ib3R0b20tMTAgLXJpZ2h0LTEwIHctODAgaC04MCBiZy1jeWJlci1hY2NlbnQvMTAgcm91bmRlZC1mdWxsIGJsdXItM3hsIGFuaW1hdGUtcHVsc2UgZGVsYXktMTAwMCcgLz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWJzb2x1dGUgdG9wLTEvMiBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiAtdHJhbnNsYXRlLXktMS8yIHctOTYgaC05NiBiZy1jeWJlci1wdXJwbGUvNSByb3VuZGVkLWZ1bGwgYmx1ci0zeGwgYW5pbWF0ZS1wdWxzZSBkZWxheS0yMDAwJyAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9J3JlbGF0aXZlIHotMTAgdy1mdWxsIG1heC13LW1kJz5cclxuICAgICAgICB7LyogSGVhZGVyICovfVxyXG4gICAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IC0yMCB9fVxyXG4gICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XHJcbiAgICAgICAgICBjbGFzc05hbWU9J3RleHQtY2VudGVyIG1iLTgnXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LTIwIGgtMjAgYmctZ3JhZGllbnQtdG8tciBmcm9tLXllbGxvdy00MDAgdG8tcHVycGxlLTUwMCByb3VuZGVkLTJ4bCBtYi02IHNoYWRvdy1sZyBzaGFkb3cteWVsbG93LTQwMC8yNSc+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwJz5Qcm9wT2xsYW1hPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPSd0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC15ZWxsb3ctNDAwIG1iLTInPlByb3BPbGxhbWE8L2gxPlxyXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LWdyYXktNDAwJz5BSSBQcm9wIFJlc2VhcmNoICYgQW5hbHl0aWNzPC9wPlxyXG4gICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICB7LyogQXV0aCBNb2RlIFRvZ2dsZSAtIE9ubHkgc2hvdyBpZiBub3QgaW4gcGFzc3dvcmQgY2hhbmdlIG1vZGUgKi99XHJcbiAgICAgICAge2F1dGhNb2RlICE9PSAncGFzc3dvcmQtY2hhbmdlJyAmJiAoXHJcbiAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cclxuICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuMiB9fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9J2ZsZXgganVzdGlmeS1jZW50ZXIgbWItOCdcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JnLXNsYXRlLTgwMC81MCBiYWNrZHJvcC1ibHVyLWxnIGJvcmRlciBib3JkZXItc2xhdGUtNzAwLzUwIHJvdW5kZWQtbGcgcC0xIGZsZXgnPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEF1dGhNb2RlKCdsb2dpbicpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0yIHJvdW5kZWQtbWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCAke1xyXG4gICAgICAgICAgICAgICAgICBhdXRoTW9kZSA9PT0gJ2xvZ2luJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLWN5YmVyLXByaW1hcnkgdGV4dC1zbGF0ZS05MDAnXHJcbiAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlJ1xyXG4gICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgU2lnbiBJblxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEF1dGhNb2RlKCdzaWdudXAnKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgJHtcclxuICAgICAgICAgICAgICAgICAgYXV0aE1vZGUgPT09ICdzaWdudXAnXHJcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctY3liZXItcHJpbWFyeSB0ZXh0LXNsYXRlLTkwMCdcclxuICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtd2hpdGUnXHJcbiAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBTaWduIFVwXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QXV0aE1vZGUoJ3JlcXVlc3QtYWNjZXNzJyl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgcm91bmRlZC1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsICR7XHJcbiAgICAgICAgICAgICAgICAgIGF1dGhNb2RlID09PSAncmVxdWVzdC1hY2Nlc3MnXHJcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctY3liZXItcHJpbWFyeSB0ZXh0LXNsYXRlLTkwMCdcclxuICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtd2hpdGUnXHJcbiAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBSZXF1ZXN0IEFjY2Vzc1xyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICApfVxyXG4gICAgICAgIHsvKiBBdXRoIEZvcm1zICovfVxyXG4gICAgICAgIDxBbmltYXRlUHJlc2VuY2UgbW9kZT0nd2FpdCc+XHJcbiAgICAgICAgICB7YXV0aE1vZGUgPT09ICdsb2dpbicgJiYgKFxyXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICAgIGtleT0nbG9naW4nXHJcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB4OiAtMjAgfX1cclxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHg6IDAgfX1cclxuICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHg6IDIwIH19XHJcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8TG9naW5Gb3JtXHJcbiAgICAgICAgICAgICAgICBvbkxvZ2luPXtfaGFuZGxlTG9naW59XHJcbiAgICAgICAgICAgICAgICBvbkZvcmdvdFBhc3N3b3JkPXtfaGFuZGxlRm9yZ290UGFzc3dvcmR9XHJcbiAgICAgICAgICAgICAgICBvblJlcXVlc3RBY2Nlc3M9e19oYW5kbGVSZXF1ZXN0QWNjZXNzfVxyXG4gICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgICAgICAgIGVycm9yPXtlcnJvciA/PyB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHthdXRoTW9kZSA9PT0gJ3NpZ251cCcgJiYgKFxyXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICAgIGtleT0nc2lnbnVwJ1xyXG4gICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeDogMjAgfX1cclxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHg6IDAgfX1cclxuICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHg6IC0yMCB9fVxyXG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMyB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgey8qIEludGVncmF0ZSBSZWdpc3RlciBmb3JtLCBwYXNzIEF1dGhDb250ZXh0IHJlZ2lzdGVyIGFuZCBzdWNjZXNzIGhhbmRsZXIgKi99XHJcblxyXG4gICAgICAgICAgICAgIDxSZWdpc3RlciAvPlxyXG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgICAge2F1dGhNb2RlID09PSAncmVxdWVzdC1hY2Nlc3MnICYmIChcclxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgICAgICBrZXk9J3JlcXVlc3QtYWNjZXNzJ1xyXG4gICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeDogMjAgfX1cclxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHg6IDAgfX1cclxuICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHg6IC0yMCB9fVxyXG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMyB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEFjY2Vzc1JlcXVlc3RGb3JtIG9uUmVxdWVzdFN1Ym1pdHRlZD17X2hhbmRsZUFjY2Vzc1JlcXVlc3RTdWJtaXR0ZWR9IC8+XHJcbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICB7YXV0aE1vZGUgPT09ICdwYXNzd29yZC1jaGFuZ2UnICYmIChcclxuICAgICAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgICAgICBrZXk9J3Bhc3N3b3JkLWNoYW5nZSdcclxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XHJcbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XHJcbiAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCB5OiAtMjAgfX1cclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxQYXNzd29yZENoYW5nZUZvcm1cclxuICAgICAgICAgICAgICAgIG9uUGFzc3dvcmRDaGFuZ2U9e19oYW5kbGVQYXNzd29yZENoYW5nZX1cclxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgICBlcnJvcj17ZXJyb3IgPz8gdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgdXNlckVtYWlsPXt1c2VyPy5lbWFpbH1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxyXG4gICAgICAgIHsvKiBGb3Jnb3QgUGFzc3dvcmQgTW9kYWwgKi99XHJcbiAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cclxuICAgICAgICAgIHtzaG93Rm9yZ290TW9kYWwgJiYgKFxyXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgc2NhbGU6IDAuOTUgfX1cclxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHNjYWxlOiAxIH19XHJcbiAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSB9fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzYwIGJhY2tkcm9wLWJsdXItc20nXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmctc2xhdGUtOTAwIHJvdW5kZWQteGwgc2hhZG93LWxnIHAtOCB3LWZ1bGwgbWF4LXctc20gcmVsYXRpdmUnPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2Fic29sdXRlIHRvcC0yIHJpZ2h0LTIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRleHQteGwnXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e19jbG9zZUZvcmdvdE1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSdDbG9zZSdcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgJnRpbWVzO1xyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSd0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTInPkZvcmdvdCBQYXNzd29yZDwvaDI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtZ3JheS00MDAgbWItNCc+XHJcbiAgICAgICAgICAgICAgICAgIEVudGVyIHlvdXIgZW1haWwgYWRkcmVzcyBhbmQgd2UnbGwgc2VuZCB5b3UgYSBwYXNzd29yZCByZXNldCBsaW5rLlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e19zdWJtaXRGb3Jnb3RQYXNzd29yZH0gY2xhc3NOYW1lPSdzcGFjZS15LTQnPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPSdlbWFpbCdcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3ctZnVsbCBweC00IHB5LTIgcm91bmRlZC1tZCBiZy1zbGF0ZS04MDAgdGV4dC13aGl0ZSBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctY3liZXItcHJpbWFyeSdcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nRW1haWwgYWRkcmVzcydcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9yZ290RW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0Rm9yZ290RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICB0eXBlPSdzdWJtaXQnXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LWZ1bGwgcHktMiByb3VuZGVkLW1kIGJnLWN5YmVyLXByaW1hcnkgdGV4dC1zbGF0ZS05MDAgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1jeWJlci1hY2NlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS02MCdcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Zm9yZ290U3RhdHVzID09PSAnbG9hZGluZyd9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7Zm9yZ290U3RhdHVzID09PSAnbG9hZGluZycgPyAnU2VuZGluZy4uLicgOiAnU2VuZCBSZXNldCBMaW5rJ31cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICB7Zm9yZ290TWVzc2FnZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtdC00IHRleHQtc20gJHtcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcmdvdFN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZ3JlZW4tNDAwJyA6ICd0ZXh0LXJlZC00MDAnXHJcbiAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7Zm9yZ290TWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxyXG4gICAgICAgIHsvKiBGb290ZXIgKi99XHJcbiAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxyXG4gICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XHJcbiAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjQgfX1cclxuICAgICAgICAgIGNsYXNzTmFtZT0nbXQtOCB0ZXh0LWNlbnRlcidcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ncmF5LTUwMCc+wqkgMjAyNSBQcm9wT2xsYW1hLiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGp1c3RpZnktY2VudGVyIHNwYWNlLXgtNCBtdC0yJz5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNDAwIHRyYW5zaXRpb24tY29sb3JzIGJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIHAtMCBjdXJzb3ItcG9pbnRlcidcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIFRlcm1zXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT0nYnV0dG9uJ1xyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS00MDAgdHJhbnNpdGlvbi1jb2xvcnMgYmctdHJhbnNwYXJlbnQgYm9yZGVyLW5vbmUgcC0wIGN1cnNvci1wb2ludGVyJ1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgUHJpdmFjeVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNDAwIHRyYW5zaXRpb24tY29sb3JzIGJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIHAtMCBjdXJzb3ItcG9pbnRlcidcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIFN1cHBvcnRcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9BdXRoUGFnZTtcclxuIl0sInZlcnNpb24iOjN9