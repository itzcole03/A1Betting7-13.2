{"version":3,"names":["getEnvVar","name","fallback","maybeImportMeta","globalThis","importMeta","__import_meta__","env","e","process","isDev","v","NODE_ENV","isProd"],"sources":["getEnv.ts"],"sourcesContent":["// Safe environment accessor for both Vite (import.meta.env) and Node/Jest (process.env)\r\nexport function getEnvVar(name: string, fallback?: string): string | undefined {\r\n  // Try Vite style import.meta.env if available via globalThis shim\r\n  try {\r\n    // Some test environments or bundlers expose a shimmed object on globalThis\r\n    const maybeImportMeta = (globalThis as any).importMeta ?? (globalThis as any).__import_meta__;\r\n    if (maybeImportMeta && maybeImportMeta.env) {\r\n      return maybeImportMeta.env[name] ?? fallback;\r\n    }\r\n  } catch (e) {\r\n    // ignore - not available\r\n  }\r\n\r\n  // Fallback to process.env for Jest/Node\r\n  if (typeof process !== 'undefined' && process.env) {\r\n    return process.env[name] ?? fallback;\r\n  }\r\n\r\n  return fallback;\r\n}\r\n\r\nexport function isDev(): boolean {\r\n  const v = getEnvVar('VITE_DEV') ?? getEnvVar('DEV');\r\n  if (typeof v === 'string') return v === 'true' || v === '1';\r\n  if (typeof process !== 'undefined') return process.env.NODE_ENV === 'development';\r\n  return false;\r\n}\r\n\r\nexport function isProd(): boolean {\r\n  const v = getEnvVar('VITE_PROD') ?? getEnvVar('PROD');\r\n  if (typeof v === 'string') return v === 'true' || v === '1';\r\n  if (typeof process !== 'undefined') return process.env.NODE_ENV === 'production';\r\n  return false;\r\n}\r\n"],"mappings":";;;;;;;;AAAA;AACO,SAASA,SAASA,CAACC,IAAY,EAAEC,QAAiB,EAAsB;EAC7E;EACA,IAAI;IACF;IACA,MAAMC,eAAe,GAAIC,UAAU,CAASC,UAAU,IAAKD,UAAU,CAASE,eAAe;IAC7F,IAAIH,eAAe,IAAIA,eAAe,CAACI,GAAG,EAAE;MAC1C,OAAOJ,eAAe,CAACI,GAAG,CAACN,IAAI,CAAC,IAAIC,QAAQ;IAC9C;EACF,CAAC,CAAC,OAAOM,CAAC,EAAE;IACV;EAAA;;EAGF;EACA,IAAI,OAAOC,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACF,GAAG,EAAE;IACjD,OAAOE,OAAO,CAACF,GAAG,CAACN,IAAI,CAAC,IAAIC,QAAQ;EACtC;EAEA,OAAOA,QAAQ;AACjB;AAEO,SAASQ,KAAKA,CAAA,EAAY;EAC/B,MAAMC,CAAC,GAAGX,SAAS,CAAC,UAAU,CAAC,IAAIA,SAAS,CAAC,KAAK,CAAC;EACnD,IAAI,OAAOW,CAAC,KAAK,QAAQ,EAAE,OAAOA,CAAC,KAAK,MAAM,IAAIA,CAAC,KAAK,GAAG;EAC3D,IAAI,OAAOF,OAAO,KAAK,WAAW,EAAE,OAAOA,OAAO,CAACF,GAAG,CAACK,QAAQ,KAAK,aAAa;EACjF,OAAO,KAAK;AACd;AAEO,SAASC,MAAMA,CAAA,EAAY;EAChC,MAAMF,CAAC,GAAGX,SAAS,CAAC,WAAW,CAAC,IAAIA,SAAS,CAAC,MAAM,CAAC;EACrD,IAAI,OAAOW,CAAC,KAAK,QAAQ,EAAE,OAAOA,CAAC,KAAK,MAAM,IAAIA,CAAC,KAAK,GAAG;EAC3D,IAAI,OAAOF,OAAO,KAAK,WAAW,EAAE,OAAOA,OAAO,CAACF,GAAG,CAACK,QAAQ,KAAK,YAAY;EAChF,OAAO,KAAK;AACd","ignoreList":[]}