f52d17e86ff1a4b6907b24d65f76c2a0
"use strict";

var _metricsAccessors = require("../metricsAccessors");
/**
 * @jest-environment jsdom
 */

describe('metricsAccessors', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  afterEach(() => {
    jest.restoreAllMocks();
  });
  describe('getTotalRequests', () => {
    it('should return canonical cache.total_requests', () => {
      const data = {
        cache: {
          total_requests: 500
        },
        cache_performance: {
          total_requests: 300
        } // should not be used
      };
      expect((0, _metricsAccessors.getTotalRequests)(data)).toBe(500);
    });
    it('should fallback to legacy cache_performance.total_requests', () => {
      const consoleSpy = jest.spyOn(console, 'debug').mockImplementation(() => {});
      process.env.NODE_ENV = 'development';
      const data = {
        cache_performance: {
          total_requests: 300
        }
      };
      expect((0, _metricsAccessors.getTotalRequests)(data)).toBe(300);
      expect(consoleSpy).toHaveBeenCalledWith('[MetricsCompat] Using legacy cache_performance.total_requests, consider migrating to cache.total_requests');
      consoleSpy.mockRestore();
      delete process.env.NODE_ENV;
    });
    it('should fallback to flat total_requests', () => {
      const data = {
        total_requests: 200
      };
      expect((0, _metricsAccessors.getTotalRequests)(data)).toBe(200);
    });
    it('should return 0 for null/undefined input', () => {
      expect((0, _metricsAccessors.getTotalRequests)(null)).toBe(0);
      expect((0, _metricsAccessors.getTotalRequests)(undefined)).toBe(0);
      expect((0, _metricsAccessors.getTotalRequests)({})).toBe(0);
    });
  });
  describe('getApiTotalRequests', () => {
    it('should return canonical api.total_requests', () => {
      const data = {
        api: {
          total_requests: 1000
        }
      };
      expect((0, _metricsAccessors.getApiTotalRequests)(data)).toBe(1000);
    });
    it('should aggregate from legacy api_performance', () => {
      const data = {
        api_performance: {
          '/health': {
            total_calls: 100
          },
          '/mlb/games': {
            total_calls: 200,
            total_requests: 50
          },
          // total_calls takes precedence
          '/ml/predict': {
            total_requests: 150
          }
        }
      };
      expect((0, _metricsAccessors.getApiTotalRequests)(data)).toBe(450); // 100 + 200 + 150
    });
    it('should return 0 when no API data available', () => {
      expect((0, _metricsAccessors.getApiTotalRequests)({})).toBe(0);
    });
  });
  describe('getErrorRequests', () => {
    it('should return canonical api.error_requests', () => {
      const data = {
        api: {
          error_requests: 25
        }
      };
      expect((0, _metricsAccessors.getErrorRequests)(data)).toBe(25);
    });
    it('should aggregate errors from legacy api_performance', () => {
      const data = {
        api_performance: {
          '/health': {
            errors: 2
          },
          '/mlb/games': {
            errors: 1
          },
          '/ml/predict': {
            errors: 0
          }
        }
      };
      expect((0, _metricsAccessors.getErrorRequests)(data)).toBe(3);
    });
  });
  describe('getApiErrorRate', () => {
    it('should calculate error rate correctly', () => {
      const data = {
        api: {
          total_requests: 1000,
          error_requests: 50
        }
      };
      expect((0, _metricsAccessors.getApiErrorRate)(data)).toBe(5.0); // 50/1000 * 100
    });
    it('should return 0 when no total requests', () => {
      const data = {
        api: {
          total_requests: 0,
          error_requests: 5
        }
      };
      expect((0, _metricsAccessors.getApiErrorRate)(data)).toBe(0);
    });
    it('should work with aggregated legacy data', () => {
      const data = {
        api_performance: {
          '/health': {
            total_calls: 100,
            errors: 2
          },
          '/mlb/games': {
            total_calls: 200,
            errors: 3
          }
        }
      };
      expect((0, _metricsAccessors.getApiErrorRate)(data)).toBeCloseTo(1.67, 2); // 5/300 * 100
    });
  });
  describe('getSuccessRequests', () => {
    it('should return canonical api.success_requests', () => {
      const data = {
        api: {
          success_requests: 950
        }
      };
      expect((0, _metricsAccessors.getSuccessRequests)(data)).toBe(950);
    });
    it('should calculate from total - errors when success not available', () => {
      const data = {
        api: {
          total_requests: 1000,
          error_requests: 50
        }
      };
      expect((0, _metricsAccessors.getSuccessRequests)(data)).toBe(950);
    });
    it('should return 0 when no API data', () => {
      expect((0, _metricsAccessors.getSuccessRequests)({})).toBe(0);
    });
  });
  describe('getAverageLatencyMs', () => {
    it('should return canonical api.avg_latency_ms', () => {
      const data = {
        api: {
          avg_latency_ms: 125.5
        }
      };
      expect((0, _metricsAccessors.getAverageLatencyMs)(data)).toBe(125.5);
    });
    it('should average from legacy api_performance', () => {
      const data = {
        api_performance: {
          '/health': {
            avg_time_ms: 100
          },
          '/mlb/games': {
            avg_time_ms: 200
          },
          '/ml/predict': {
            avg_latency_ms: 300
          } // different field name
        }
      };
      expect((0, _metricsAccessors.getAverageLatencyMs)(data)).toBe(200); // (100 + 200 + 300) / 3
    });
    it('should return 0 when no latency data', () => {
      expect((0, _metricsAccessors.getAverageLatencyMs)({})).toBe(0);
    });
  });
  describe('getCacheHits', () => {
    it('should return canonical cache.hits', () => {
      const data = {
        cache: {
          hits: 800
        },
        cache_performance: {
          hits: 600
        } // should not be used
      };
      expect((0, _metricsAccessors.getCacheHits)(data)).toBe(800);
    });
    it('should fallback to legacy cache_performance.hits with warning', () => {
      const consoleSpy = jest.spyOn(console, 'debug').mockImplementation(() => {});
      process.env.NODE_ENV = 'development';
      const data = {
        cache_performance: {
          hits: 600
        }
      };
      expect((0, _metricsAccessors.getCacheHits)(data)).toBe(600);
      expect(consoleSpy).toHaveBeenCalledWith('[MetricsCompat] Using legacy cache_performance.hits, consider migrating to cache.hits');
      consoleSpy.mockRestore();
      delete process.env.NODE_ENV;
    });
  });
  describe('getCacheMisses', () => {
    it('should return canonical cache.misses', () => {
      const data = {
        cache: {
          misses: 100
        }
      };
      expect((0, _metricsAccessors.getCacheMisses)(data)).toBe(100);
    });
    it('should fallback to legacy cache_performance.misses', () => {
      const data = {
        cache_performance: {
          misses: 150
        }
      };
      expect((0, _metricsAccessors.getCacheMisses)(data)).toBe(150);
    });
  });
  describe('getCacheErrors', () => {
    it('should return canonical cache.errors', () => {
      const data = {
        cache: {
          errors: 5
        }
      };
      expect((0, _metricsAccessors.getCacheErrors)(data)).toBe(5);
    });
    it('should fallback to legacy cache_performance.errors with warning', () => {
      const consoleSpy = jest.spyOn(console, 'debug').mockImplementation(() => {});
      process.env.NODE_ENV = 'development';
      const data = {
        cache_performance: {
          errors: 8
        }
      };
      expect((0, _metricsAccessors.getCacheErrors)(data)).toBe(8);
      expect(consoleSpy).toHaveBeenCalledWith('[MetricsCompat] Using legacy cache_performance.errors, consider migrating to cache.errors');
      consoleSpy.mockRestore();
      delete process.env.NODE_ENV;
    });
  });
  describe('one-time warning behavior', () => {
    it('should only warn once per accessor type across multiple calls', () => {
      // Note: This test may not work reliably due to module-level state
      // The warning flags are module-scoped and may have been set by previous tests
      const consoleSpy = jest.spyOn(console, 'debug').mockImplementation(() => {});
      const originalEnv = process.env.NODE_ENV;
      process.env.NODE_ENV = 'development';
      const data = {
        cache_performance: {
          total_requests: 100
        }
      };

      // Call multiple times
      (0, _metricsAccessors.getTotalRequests)(data);
      (0, _metricsAccessors.getTotalRequests)(data);
      (0, _metricsAccessors.getTotalRequests)(data);

      // Warning should be called at most once (may be 0 if already warned in other tests)
      expect(consoleSpy.mock.calls.length).toBeLessThanOrEqual(1);
      consoleSpy.mockRestore();
      process.env.NODE_ENV = originalEnv;
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbWV0cmljc0FjY2Vzc29ycyIsInJlcXVpcmUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJqZXN0IiwiY2xlYXJBbGxNb2NrcyIsImFmdGVyRWFjaCIsInJlc3RvcmVBbGxNb2NrcyIsIml0IiwiZGF0YSIsImNhY2hlIiwidG90YWxfcmVxdWVzdHMiLCJjYWNoZV9wZXJmb3JtYW5jZSIsImV4cGVjdCIsImdldFRvdGFsUmVxdWVzdHMiLCJ0b0JlIiwiY29uc29sZVNweSIsInNweU9uIiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja1Jlc3RvcmUiLCJ1bmRlZmluZWQiLCJhcGkiLCJnZXRBcGlUb3RhbFJlcXVlc3RzIiwiYXBpX3BlcmZvcm1hbmNlIiwidG90YWxfY2FsbHMiLCJlcnJvcl9yZXF1ZXN0cyIsImdldEVycm9yUmVxdWVzdHMiLCJlcnJvcnMiLCJnZXRBcGlFcnJvclJhdGUiLCJ0b0JlQ2xvc2VUbyIsInN1Y2Nlc3NfcmVxdWVzdHMiLCJnZXRTdWNjZXNzUmVxdWVzdHMiLCJhdmdfbGF0ZW5jeV9tcyIsImdldEF2ZXJhZ2VMYXRlbmN5TXMiLCJhdmdfdGltZV9tcyIsImhpdHMiLCJnZXRDYWNoZUhpdHMiLCJtaXNzZXMiLCJnZXRDYWNoZU1pc3NlcyIsImdldENhY2hlRXJyb3JzIiwib3JpZ2luYWxFbnYiLCJtb2NrIiwiY2FsbHMiLCJsZW5ndGgiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIl0sInNvdXJjZXMiOlsibWV0cmljc0FjY2Vzc29ycy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgZ2V0VG90YWxSZXF1ZXN0cyxcclxuICBnZXRTdWNjZXNzUmVxdWVzdHMsXHJcbiAgZ2V0RXJyb3JSZXF1ZXN0cyxcclxuICBnZXRBcGlFcnJvclJhdGUsXHJcbiAgZ2V0QXBpVG90YWxSZXF1ZXN0cyxcclxuICBnZXRBdmVyYWdlTGF0ZW5jeU1zLFxyXG4gIGdldENhY2hlSGl0cyxcclxuICBnZXRDYWNoZU1pc3NlcyxcclxuICBnZXRDYWNoZUVycm9ycyxcclxufSBmcm9tICcuLi9tZXRyaWNzQWNjZXNzb3JzJztcclxuXHJcbmRlc2NyaWJlKCdtZXRyaWNzQWNjZXNzb3JzJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LnJlc3RvcmVBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0VG90YWxSZXF1ZXN0cycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNhbm9uaWNhbCBjYWNoZS50b3RhbF9yZXF1ZXN0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBjYWNoZTogeyB0b3RhbF9yZXF1ZXN0czogNTAwIH0sXHJcbiAgICAgICAgY2FjaGVfcGVyZm9ybWFuY2U6IHsgdG90YWxfcmVxdWVzdHM6IDMwMCB9LCAvLyBzaG91bGQgbm90IGJlIHVzZWRcclxuICAgICAgfTtcclxuICAgICAgZXhwZWN0KGdldFRvdGFsUmVxdWVzdHMoZGF0YSkpLnRvQmUoNTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmFsbGJhY2sgdG8gbGVnYWN5IGNhY2hlX3BlcmZvcm1hbmNlLnRvdGFsX3JlcXVlc3RzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZGVidWcnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xyXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGNhY2hlX3BlcmZvcm1hbmNlOiB7IHRvdGFsX3JlcXVlc3RzOiAzMDAgfSxcclxuICAgICAgfTtcclxuICAgICAgZXhwZWN0KGdldFRvdGFsUmVxdWVzdHMoZGF0YSkpLnRvQmUoMzAwKTtcclxuICAgICAgZXhwZWN0KGNvbnNvbGVTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICdbTWV0cmljc0NvbXBhdF0gVXNpbmcgbGVnYWN5IGNhY2hlX3BlcmZvcm1hbmNlLnRvdGFsX3JlcXVlc3RzLCBjb25zaWRlciBtaWdyYXRpbmcgdG8gY2FjaGUudG90YWxfcmVxdWVzdHMnXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XHJcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmFsbGJhY2sgdG8gZmxhdCB0b3RhbF9yZXF1ZXN0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICB0b3RhbF9yZXF1ZXN0czogMjAwLFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0VG90YWxSZXF1ZXN0cyhkYXRhKSkudG9CZSgyMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gMCBmb3IgbnVsbC91bmRlZmluZWQgaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChnZXRUb3RhbFJlcXVlc3RzKG51bGwpKS50b0JlKDApO1xyXG4gICAgICBleHBlY3QoZ2V0VG90YWxSZXF1ZXN0cyh1bmRlZmluZWQpKS50b0JlKDApO1xyXG4gICAgICBleHBlY3QoZ2V0VG90YWxSZXF1ZXN0cyh7fSkpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldEFwaVRvdGFsUmVxdWVzdHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjYW5vbmljYWwgYXBpLnRvdGFsX3JlcXVlc3RzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGFwaTogeyB0b3RhbF9yZXF1ZXN0czogMTAwMCB9LFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0QXBpVG90YWxSZXF1ZXN0cyhkYXRhKSkudG9CZSgxMDAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYWdncmVnYXRlIGZyb20gbGVnYWN5IGFwaV9wZXJmb3JtYW5jZScsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBhcGlfcGVyZm9ybWFuY2U6IHtcclxuICAgICAgICAgICcvaGVhbHRoJzogeyB0b3RhbF9jYWxsczogMTAwIH0sXHJcbiAgICAgICAgICAnL21sYi9nYW1lcyc6IHsgdG90YWxfY2FsbHM6IDIwMCwgdG90YWxfcmVxdWVzdHM6IDUwIH0sIC8vIHRvdGFsX2NhbGxzIHRha2VzIHByZWNlZGVuY2VcclxuICAgICAgICAgICcvbWwvcHJlZGljdCc6IHsgdG90YWxfcmVxdWVzdHM6IDE1MCB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGV4cGVjdChnZXRBcGlUb3RhbFJlcXVlc3RzKGRhdGEpKS50b0JlKDQ1MCk7IC8vIDEwMCArIDIwMCArIDE1MFxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gMCB3aGVuIG5vIEFQSSBkYXRhIGF2YWlsYWJsZScsICgpID0+IHtcclxuICAgICAgZXhwZWN0KGdldEFwaVRvdGFsUmVxdWVzdHMoe30pKS50b0JlKDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRFcnJvclJlcXVlc3RzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY2Fub25pY2FsIGFwaS5lcnJvcl9yZXF1ZXN0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBhcGk6IHsgZXJyb3JfcmVxdWVzdHM6IDI1IH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGV4cGVjdChnZXRFcnJvclJlcXVlc3RzKGRhdGEpKS50b0JlKDI1KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYWdncmVnYXRlIGVycm9ycyBmcm9tIGxlZ2FjeSBhcGlfcGVyZm9ybWFuY2UnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgYXBpX3BlcmZvcm1hbmNlOiB7XHJcbiAgICAgICAgICAnL2hlYWx0aCc6IHsgZXJyb3JzOiAyIH0sXHJcbiAgICAgICAgICAnL21sYi9nYW1lcyc6IHsgZXJyb3JzOiAxIH0sXHJcbiAgICAgICAgICAnL21sL3ByZWRpY3QnOiB7IGVycm9yczogMCB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGV4cGVjdChnZXRFcnJvclJlcXVlc3RzKGRhdGEpKS50b0JlKDMpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRBcGlFcnJvclJhdGUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBlcnJvciByYXRlIGNvcnJlY3RseScsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBhcGk6IHtcclxuICAgICAgICAgIHRvdGFsX3JlcXVlc3RzOiAxMDAwLFxyXG4gICAgICAgICAgZXJyb3JfcmVxdWVzdHM6IDUwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGV4cGVjdChnZXRBcGlFcnJvclJhdGUoZGF0YSkpLnRvQmUoNS4wKTsgLy8gNTAvMTAwMCAqIDEwMFxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gMCB3aGVuIG5vIHRvdGFsIHJlcXVlc3RzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGFwaToge1xyXG4gICAgICAgICAgdG90YWxfcmVxdWVzdHM6IDAsXHJcbiAgICAgICAgICBlcnJvcl9yZXF1ZXN0czogNSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0QXBpRXJyb3JSYXRlKGRhdGEpKS50b0JlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggYWdncmVnYXRlZCBsZWdhY3kgZGF0YScsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBhcGlfcGVyZm9ybWFuY2U6IHtcclxuICAgICAgICAgICcvaGVhbHRoJzogeyB0b3RhbF9jYWxsczogMTAwLCBlcnJvcnM6IDIgfSxcclxuICAgICAgICAgICcvbWxiL2dhbWVzJzogeyB0b3RhbF9jYWxsczogMjAwLCBlcnJvcnM6IDMgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0QXBpRXJyb3JSYXRlKGRhdGEpKS50b0JlQ2xvc2VUbygxLjY3LCAyKTsgLy8gNS8zMDAgKiAxMDBcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0U3VjY2Vzc1JlcXVlc3RzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY2Fub25pY2FsIGFwaS5zdWNjZXNzX3JlcXVlc3RzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGFwaTogeyBzdWNjZXNzX3JlcXVlc3RzOiA5NTAgfSxcclxuICAgICAgfTtcclxuICAgICAgZXhwZWN0KGdldFN1Y2Nlc3NSZXF1ZXN0cyhkYXRhKSkudG9CZSg5NTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgZnJvbSB0b3RhbCAtIGVycm9ycyB3aGVuIHN1Y2Nlc3Mgbm90IGF2YWlsYWJsZScsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBhcGk6IHtcclxuICAgICAgICAgIHRvdGFsX3JlcXVlc3RzOiAxMDAwLFxyXG4gICAgICAgICAgZXJyb3JfcmVxdWVzdHM6IDUwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGV4cGVjdChnZXRTdWNjZXNzUmVxdWVzdHMoZGF0YSkpLnRvQmUoOTUwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDAgd2hlbiBubyBBUEkgZGF0YScsICgpID0+IHtcclxuICAgICAgZXhwZWN0KGdldFN1Y2Nlc3NSZXF1ZXN0cyh7fSkpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldEF2ZXJhZ2VMYXRlbmN5TXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjYW5vbmljYWwgYXBpLmF2Z19sYXRlbmN5X21zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGFwaTogeyBhdmdfbGF0ZW5jeV9tczogMTI1LjUgfSxcclxuICAgICAgfTtcclxuICAgICAgZXhwZWN0KGdldEF2ZXJhZ2VMYXRlbmN5TXMoZGF0YSkpLnRvQmUoMTI1LjUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBhdmVyYWdlIGZyb20gbGVnYWN5IGFwaV9wZXJmb3JtYW5jZScsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBhcGlfcGVyZm9ybWFuY2U6IHtcclxuICAgICAgICAgICcvaGVhbHRoJzogeyBhdmdfdGltZV9tczogMTAwIH0sXHJcbiAgICAgICAgICAnL21sYi9nYW1lcyc6IHsgYXZnX3RpbWVfbXM6IDIwMCB9LFxyXG4gICAgICAgICAgJy9tbC9wcmVkaWN0JzogeyBhdmdfbGF0ZW5jeV9tczogMzAwIH0sIC8vIGRpZmZlcmVudCBmaWVsZCBuYW1lXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgZXhwZWN0KGdldEF2ZXJhZ2VMYXRlbmN5TXMoZGF0YSkpLnRvQmUoMjAwKTsgLy8gKDEwMCArIDIwMCArIDMwMCkgLyAzXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiAwIHdoZW4gbm8gbGF0ZW5jeSBkYXRhJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZ2V0QXZlcmFnZUxhdGVuY3lNcyh7fSkpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldENhY2hlSGl0cycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNhbm9uaWNhbCBjYWNoZS5oaXRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGNhY2hlOiB7IGhpdHM6IDgwMCB9LFxyXG4gICAgICAgIGNhY2hlX3BlcmZvcm1hbmNlOiB7IGhpdHM6IDYwMCB9LCAvLyBzaG91bGQgbm90IGJlIHVzZWRcclxuICAgICAgfTtcclxuICAgICAgZXhwZWN0KGdldENhY2hlSGl0cyhkYXRhKSkudG9CZSg4MDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBmYWxsYmFjayB0byBsZWdhY3kgY2FjaGVfcGVyZm9ybWFuY2UuaGl0cyB3aXRoIHdhcm5pbmcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdkZWJ1ZycpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XHJcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ2RldmVsb3BtZW50JztcclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgY2FjaGVfcGVyZm9ybWFuY2U6IHsgaGl0czogNjAwIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIGV4cGVjdChnZXRDYWNoZUhpdHMoZGF0YSkpLnRvQmUoNjAwKTtcclxuICAgICAgZXhwZWN0KGNvbnNvbGVTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICdbTWV0cmljc0NvbXBhdF0gVXNpbmcgbGVnYWN5IGNhY2hlX3BlcmZvcm1hbmNlLmhpdHMsIGNvbnNpZGVyIG1pZ3JhdGluZyB0byBjYWNoZS5oaXRzJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xyXG4gICAgICBkZWxldGUgcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldENhY2hlTWlzc2VzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY2Fub25pY2FsIGNhY2hlLm1pc3NlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBjYWNoZTogeyBtaXNzZXM6IDEwMCB9LFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVNaXNzZXMoZGF0YSkpLnRvQmUoMTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmFsbGJhY2sgdG8gbGVnYWN5IGNhY2hlX3BlcmZvcm1hbmNlLm1pc3NlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBjYWNoZV9wZXJmb3JtYW5jZTogeyBtaXNzZXM6IDE1MCB9LFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVNaXNzZXMoZGF0YSkpLnRvQmUoMTUwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0Q2FjaGVFcnJvcnMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjYW5vbmljYWwgY2FjaGUuZXJyb3JzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGNhY2hlOiB7IGVycm9yczogNSB9LFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVFcnJvcnMoZGF0YSkpLnRvQmUoNSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGZhbGxiYWNrIHRvIGxlZ2FjeSBjYWNoZV9wZXJmb3JtYW5jZS5lcnJvcnMgd2l0aCB3YXJuaW5nJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZGVidWcnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xyXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGNhY2hlX3BlcmZvcm1hbmNlOiB7IGVycm9yczogOCB9LFxyXG4gICAgICB9O1xyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVFcnJvcnMoZGF0YSkpLnRvQmUoOCk7XHJcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAnW01ldHJpY3NDb21wYXRdIFVzaW5nIGxlZ2FjeSBjYWNoZV9wZXJmb3JtYW5jZS5lcnJvcnMsIGNvbnNpZGVyIG1pZ3JhdGluZyB0byBjYWNoZS5lcnJvcnMnXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XHJcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnb25lLXRpbWUgd2FybmluZyBiZWhhdmlvcicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgb25seSB3YXJuIG9uY2UgcGVyIGFjY2Vzc29yIHR5cGUgYWNyb3NzIG11bHRpcGxlIGNhbGxzJywgKCkgPT4ge1xyXG4gICAgICAvLyBOb3RlOiBUaGlzIHRlc3QgbWF5IG5vdCB3b3JrIHJlbGlhYmx5IGR1ZSB0byBtb2R1bGUtbGV2ZWwgc3RhdGVcclxuICAgICAgLy8gVGhlIHdhcm5pbmcgZmxhZ3MgYXJlIG1vZHVsZS1zY29wZWQgYW5kIG1heSBoYXZlIGJlZW4gc2V0IGJ5IHByZXZpb3VzIHRlc3RzXHJcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdkZWJ1ZycpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsRW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XHJcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ2RldmVsb3BtZW50JztcclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB7IGNhY2hlX3BlcmZvcm1hbmNlOiB7IHRvdGFsX3JlcXVlc3RzOiAxMDAgfSB9O1xyXG5cclxuICAgICAgLy8gQ2FsbCBtdWx0aXBsZSB0aW1lc1xyXG4gICAgICBnZXRUb3RhbFJlcXVlc3RzKGRhdGEpO1xyXG4gICAgICBnZXRUb3RhbFJlcXVlc3RzKGRhdGEpO1xyXG4gICAgICBnZXRUb3RhbFJlcXVlc3RzKGRhdGEpO1xyXG5cclxuICAgICAgLy8gV2FybmluZyBzaG91bGQgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZSAobWF5IGJlIDAgaWYgYWxyZWFkeSB3YXJuZWQgaW4gb3RoZXIgdGVzdHMpXHJcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5Lm1vY2suY2FsbHMubGVuZ3RoKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xyXG5cclxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xyXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9IG9yaWdpbmFsRW52O1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFJQSxJQUFBQSxpQkFBQSxHQUFBQyxPQUFBO0FBSkE7QUFDQTtBQUNBOztBQWNBQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtFQUNqQ0MsVUFBVSxDQUFDLE1BQU07SUFDZkMsSUFBSSxDQUFDQyxhQUFhLENBQUMsQ0FBQztFQUN0QixDQUFDLENBQUM7RUFFRkMsU0FBUyxDQUFDLE1BQU07SUFDZEYsSUFBSSxDQUFDRyxlQUFlLENBQUMsQ0FBQztFQUN4QixDQUFDLENBQUM7RUFFRkwsUUFBUSxDQUFDLGtCQUFrQixFQUFF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