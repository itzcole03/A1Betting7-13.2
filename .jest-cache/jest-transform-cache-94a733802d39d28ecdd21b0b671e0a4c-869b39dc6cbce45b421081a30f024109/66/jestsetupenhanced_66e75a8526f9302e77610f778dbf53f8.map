{"version":3,"names":["global","importMeta","env","import","meta","MODE","DEV","PROD","VITE_API_URL","window","URL","createObjectURL","loc","location","assign","Object","defineProperty","configurable","writable","value","reload","e","BroadcastChannel","MockBroadcastChannel","constructor","name","onmessage","postMessage","msg","close","addEventListener","removeEventListener","err","TransformStream","readable","getReader","read","Promise","resolve","done","undefined","getWriter","write"],"sources":["jest.setup.enhanced.js"],"sourcesContent":["// Jest setup for enhanced config â€” plain JS to avoid TypeScript parsing issues\r\n/* eslint-disable no-undef */\r\n// Provide import.meta.env shim for components that read it\r\nif (typeof global.importMeta === 'undefined') {\r\n  global.importMeta = { env: {} };\r\n}\r\nif (typeof global.import === 'undefined') {\r\n  global.import = global.import || function () {};\r\n}\r\n// Ensure modules can read import.meta.env\r\nif (typeof global.import !== 'undefined' && typeof global.import.meta === 'undefined') {\r\n  global.import.meta = { env: { MODE: 'test', DEV: false, PROD: false, VITE_API_URL: 'http://localhost:8000' } };\r\n}\r\n// Also set window.import.meta for browser code\r\nif (typeof window !== 'undefined' && typeof window.import === 'undefined') {\r\n  window.import = window.import || {};\r\n  window.import.meta = window.import.meta || { env: { MODE: 'test', DEV: false, PROD: false } };\r\n}\r\n\r\n// Stub URL.createObjectURL used by components\r\nif (typeof window !== 'undefined' && !window.URL.createObjectURL) {\r\n  window.URL.createObjectURL = function () { return 'blob:mock'; };\r\n}\r\n\r\n// No-op for navigation methods that jsdom doesn't implement\r\nif (typeof window !== 'undefined') {\r\n  try {\r\n    const loc = window.location || {};\r\n    if (loc && typeof loc.assign !== 'function') {\r\n      Object.defineProperty(window.location, 'assign', {\r\n        configurable: true,\r\n        writable: true,\r\n        value: () => {},\r\n      });\r\n    }\r\n    if (loc && typeof loc.reload !== 'function') {\r\n      Object.defineProperty(window.location, 'reload', {\r\n        configurable: true,\r\n        writable: true,\r\n        value: () => {},\r\n      });\r\n    }\r\n  } catch (e) {\r\n    // Some environments lock window.location; ignore if we cannot redefine\r\n  }\r\n\r\n  // Polyfill BroadcastChannel for msw/node or other libraries that expect it\r\n  if (typeof global.BroadcastChannel === 'undefined') {\r\n    class MockBroadcastChannel {\r\n      constructor(name) {\r\n        this.name = name;\r\n        this.onmessage = null;\r\n      }\r\n      postMessage(msg) {\r\n        // no-op\r\n      }\r\n      close() {\r\n        // no-op\r\n      }\r\n      addEventListener() {\r\n        // no-op\r\n      }\r\n      removeEventListener() {\r\n        // no-op\r\n      }\r\n    }\r\n    global.BroadcastChannel = MockBroadcastChannel;\r\n  }\r\n\r\n  // Hoist manual mocks so modules see them before being imported in tests\r\n  try {\r\n    // Mock unifiedApiService so components that import it get the manual mock\r\n    // NOTE: Do not hoist module mocks for `unifiedApiService` or `axios` here.\r\n    // Tests and MSW handlers should register these mocks explicitly so test\r\n    // scenarios (empty-state, error-state, etc.) can control responses.\r\n  } catch (err) {\r\n    // If jest isn't available in this environment, ignore\r\n  }\r\n\r\n  // Minimal TransformStream polyfill for environments that don't provide it (nodejs test env)\r\n  if (typeof TransformStream === 'undefined') {\r\n    // eslint-disable-next-line no-global-assign\r\n    global.TransformStream = class {\r\n      constructor() {\r\n        this.readable = new (class {\r\n          getReader() {\r\n            return { read: () => Promise.resolve({ done: true, value: undefined }) };\r\n          }\r\n        })();\r\n        this.writable = new (class {\r\n          getWriter() {\r\n            return { write: () => Promise.resolve(), close: () => Promise.resolve() };\r\n          }\r\n        })();\r\n      }\r\n    };\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}