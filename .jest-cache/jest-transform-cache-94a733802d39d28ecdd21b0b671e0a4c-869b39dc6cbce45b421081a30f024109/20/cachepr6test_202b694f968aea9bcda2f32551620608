43625e4c3ba1a3fae360230e0d532a0d
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
require("@testing-library/jest-dom");
var _useCacheStats = require("../cache/useCacheStats");
var _CacheStatsPanel = _interopRequireDefault(require("../diagnostics/CacheStatsPanel"));
var _jsxRuntime = require("react/jsx-runtime");
/**
 * Frontend Component Tests for PR6 Cache Observability
 * 
 * Test Coverage:
 * - useCacheStats hook: polling, error handling, retry logic, environment detection
 * - CacheStatsPanel component: rendering, error states, interactions
 * - formatCacheStats utility functions
 * 
 * Run with: npm test -- --testPathPattern=cache-pr6
 */

// Mock fetch for testing
const mockFetch = jest.fn();
global.fetch = mockFetch;

// Import components and hooks to test

// Mock data for tests
const mockCacheStats = {
  cache_version: "v1",
  total_keys: 1500,
  hit_count: 850,
  miss_count: 150,
  hit_ratio: 0.85,
  average_get_latency_ms: 2.3,
  total_operations: 1000,
  rebuild_events: 12,
  stampede_preventions: 3,
  namespaced_counts: {
    "user:profile": 450,
    "game:data": 680,
    "api:responses": 370
  },
  tier_breakdown: {
    "raw_provider": {
      "total": 500,
      "active": 450
    },
    "analytics": {
      "total": 750,
      "active": 600
    },
    "temp": {
      "total": 250,
      "active": 150
    }
  },
  latency_percentiles: {
    p50: 1.8,
    p90: 4.2,
    p95: 6.1,
    p99: 12.5
  },
  uptime_seconds: 86400,
  active_locks: 2,
  timestamp: new Date().toISOString()
};
const mockCacheHealth = {
  healthy: true,
  operations: {
    get: true,
    set: true,
    delete: true
  },
  stats_snapshot: {
    total_operations: 1000,
    hit_ratio: 0.85
  }
};
describe('formatCacheStats Utility Functions', () => {
  it('should format hit ratio correctly', () => {
    expect(_useCacheStats.formatCacheStats.hitRatio(0.856)).toBe('85.6%');
    expect(_useCacheStats.formatCacheStats.hitRatio(1.0)).toBe('100.0%');
    expect(_useCacheStats.formatCacheStats.hitRatio(0)).toBe('0.0%');
  });
  it('should format latency with appropriate units', () => {
    expect(_useCacheStats.formatCacheStats.latency(0.5)).toBe('500Î¼s');
    expect(_useCacheStats.formatCacheStats.latency(2.3)).toBe('2.3ms');
    expect(_useCacheStats.formatCacheStats.latency(1500)).toBe('1.5s');
  });
  it('should format uptime duration', () => {
    expect(_useCacheStats.formatCacheStats.uptime(3661)).toBe('1h 1m'); // 1 hour, 1 minute, 1 second
    expect(_useCacheStats.formatCacheStats.uptime(90061)).toBe('1d 1h 1m'); // 1 day, 1 hour, 1 minute
    expect(_useCacheStats.formatCacheStats.uptime(3600)).toBe('1h 0m'); // exactly 1 hour
    expect(_useCacheStats.formatCacheStats.uptime(300)).toBe('5m'); // 5 minutes
  });
  it('should format large numbers with appropriate units', () => {
    expect(_useCacheStats.formatCacheStats.count(999)).toBe('999');
    expect(_useCacheStats.formatCacheStats.count(1500)).toBe('1.5K');
    expect(_useCacheStats.formatCacheStats.count(1500000)).toBe('1.5M');
  });
});
describe('CacheStatsPanel Component', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  it('should render loading state initially', () => {
    mockFetch.mockImplementation(() => new Promise(() => {})); // Never resolves

    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {}));
    expect(_react2.screen.getByText('Loading cache statistics...')).toBeInTheDocument();
  });
  it('should render cache statistics when data is loaded', async () => {
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {}));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Cache Statistics')).toBeInTheDocument();
    });

    // Check key metrics are displayed - use getAllByText for multiple instances
    expect(_react2.screen.getAllByText('85.0%')[0]).toBeInTheDocument(); // Hit ratio
    expect(_react2.screen.getByText('1.5K')).toBeInTheDocument(); // Total keys
    expect(_react2.screen.getByText('2.3ms')).toBeInTheDocument(); // Latency
  });
  it('should render error state with retry button', async () => {
    mockFetch.mockRejectedValueOnce(new Error('API Error'));
    const onError = jest.fn();
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      onError: onError
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Failed to load cache statistics')).toBeInTheDocument();
    });
    expect(_react2.screen.getByText('API Error')).toBeInTheDocument();
    expect(_react2.screen.getByRole('button', {
      name: 'Retry'
    })).toBeInTheDocument();
  });
  it('should handle retry button click', async () => {
    mockFetch.mockRejectedValueOnce(new Error('First error')).mockRejectedValueOnce(new Error('Health error')).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {}));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Failed to load cache statistics')).toBeInTheDocument();
    });

    // Click retry button
    const retryButton = _react2.screen.getByRole('button', {
      name: 'Retry'
    });
    _react2.fireEvent.click(retryButton);
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Cache Statistics')).toBeInTheDocument();
    });

    // Allow for additional retry attempts from exponential backoff - just check it's called at least 4 times
    expect(mockFetch.mock.calls.length).toBeGreaterThanOrEqual(4);
  });
  it('should render namespace breakdown table', async () => {
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      showNamespaceBreakdown: true
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Namespace Breakdown')).toBeInTheDocument();
    });

    // Check namespace entries are displayed
    expect(_react2.screen.getByText('user:profile')).toBeInTheDocument();
    expect(_react2.screen.getByText('game:data')).toBeInTheDocument();
    expect(_react2.screen.getByText('api:responses')).toBeInTheDocument();
  });
  it('should render latency metrics when enabled', async () => {
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      showLatencyMetrics: true
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Latency Percentiles')).toBeInTheDocument();
    });

    // Check percentile labels
    expect(_react2.screen.getByText('P50 (Median)')).toBeInTheDocument();
    expect(_react2.screen.getByText('P90')).toBeInTheDocument();
    expect(_react2.screen.getByText('P95')).toBeInTheDocument();
    expect(_react2.screen.getByText('P99')).toBeInTheDocument();
  });
  it('should show health indicator when enabled', async () => {
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      showHealthIndicator: true
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Healthy')).toBeInTheDocument();
    });
  });
  it('should call onStatsUpdate when stats are received', async () => {
    const onStatsUpdate = jest.fn();
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      onStatsUpdate: onStatsUpdate
    }));
    await (0, _react2.waitFor)(() => {
      expect(onStatsUpdate).toHaveBeenCalledWith(mockCacheStats);
    });
  });
  it('should handle namespace table sorting', async () => {
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      showNamespaceBreakdown: true
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Namespace Breakdown')).toBeInTheDocument();
    });

    // Click on the Keys column header to sort - use getAllByText to get the table header
    const keysHeaders = _react2.screen.getAllByText(/Keys/);
    const tableKeysHeader = keysHeaders.find(el => el.tagName === 'TH');
    if (tableKeysHeader) {
      _react2.fireEvent.click(tableKeysHeader);
    }

    // Should re-render with sorted data (testing interaction works)
    expect(_react2.screen.getByText('user:profile')).toBeInTheDocument();
  });
  it('should respect custom className prop', async () => {
    const customClass = 'custom-cache-panel';
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    const {
      container
    } = (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      className: customClass
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Cache Statistics')).toBeInTheDocument();
    });
    expect(container.firstChild).toHaveClass(customClass);
  });
  it('should disable features based on props', async () => {
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      showNamespaceBreakdown: false,
      showLatencyMetrics: false,
      showHealthIndicator: false
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Cache Statistics')).toBeInTheDocument();
    });

    // These sections should not be rendered
    expect(_react2.screen.queryByText('Namespace Breakdown')).not.toBeInTheDocument();
    expect(_react2.screen.queryByText('Latency Percentiles')).not.toBeInTheDocument();
    expect(_react2.screen.queryByText('Healthy')).not.toBeInTheDocument();
  });
  it('should handle complete cache stats workflow', async () => {
    // Mock successful stats and health responses
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheStats
    }).mockResolvedValueOnce({
      ok: true,
      json: async () => mockCacheHealth
    });
    const onStatsUpdate = jest.fn();
    const onError = jest.fn();
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_CacheStatsPanel.default, {
      onStatsUpdate: onStatsUpdate,
      onError: onError,
      refreshInterval: 1000,
      showNamespaceBreakdown: true,
      showLatencyMetrics: true,
      showHealthIndicator: true
    }));

    // Wait for initial load
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Cache Statistics')).toBeInTheDocument();
    });

    // Verify all sections are rendered
    expect(_react2.screen.getByText('Cache Statistics')).toBeInTheDocument();
    expect(_react2.screen.getByText('Namespace Breakdown')).toBeInTheDocument();
    expect(_react2.screen.getByText('Latency Percentiles')).toBeInTheDocument();
    expect(_react2.screen.getByText('Healthy')).toBeInTheDocument();

    // Verify callbacks were called
    expect(onStatsUpdate).toHaveBeenCalledWith(mockCacheStats);

    // Verify key metrics are displayed correctly - use getAllByText for multiple instances
    expect(_react2.screen.getAllByText('85.0%')[0]).toBeInTheDocument(); // Hit ratio
    expect(_react2.screen.getByText('1.5K')).toBeInTheDocument(); // Total keys formatted
    expect(_react2.screen.getByText('2.3ms')).toBeInTheDocument(); // Latency formatted

    // Verify cache version is displayed
    expect(_react2.screen.getByText(/Cache Version: v1/)).toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdDIiLCJfdXNlQ2FjaGVTdGF0cyIsIl9DYWNoZVN0YXRzUGFuZWwiLCJfanN4UnVudGltZSIsIm1vY2tGZXRjaCIsImplc3QiLCJmbiIsImdsb2JhbCIsImZldGNoIiwibW9ja0NhY2hlU3RhdHMiLCJjYWNoZV92ZXJzaW9uIiwidG90YWxfa2V5cyIsImhpdF9jb3VudCIsIm1pc3NfY291bnQiLCJoaXRfcmF0aW8iLCJhdmVyYWdlX2dldF9sYXRlbmN5X21zIiwidG90YWxfb3BlcmF0aW9ucyIsInJlYnVpbGRfZXZlbnRzIiwic3RhbXBlZGVfcHJldmVudGlvbnMiLCJuYW1lc3BhY2VkX2NvdW50cyIsInRpZXJfYnJlYWtkb3duIiwibGF0ZW5jeV9wZXJjZW50aWxlcyIsInA1MCIsInA5MCIsInA5NSIsInA5OSIsInVwdGltZV9zZWNvbmRzIiwiYWN0aXZlX2xvY2tzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibW9ja0NhY2hlSGVhbHRoIiwiaGVhbHRoeSIsIm9wZXJhdGlvbnMiLCJnZXQiLCJzZXQiLCJkZWxldGUiLCJzdGF0c19zbmFwc2hvdCIsImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJmb3JtYXRDYWNoZVN0YXRzIiwiaGl0UmF0aW8iLCJ0b0JlIiwibGF0ZW5jeSIsInVwdGltZSIsImNvdW50IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJQcm9taXNlIiwicmVuZGVyIiwianN4IiwiZGVmYXVsdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwib2siLCJqc29uIiwid2FpdEZvciIsImdldEFsbEJ5VGV4dCIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwib25FcnJvciIsImdldEJ5Um9sZSIsIm5hbWUiLCJyZXRyeUJ1dHRvbiIsImZpcmVFdmVudCIsImNsaWNrIiwibW9jayIsImNhbGxzIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInNob3dOYW1lc3BhY2VCcmVha2Rvd24iLCJzaG93TGF0ZW5jeU1ldHJpY3MiLCJzaG93SGVhbHRoSW5kaWNhdG9yIiwib25TdGF0c1VwZGF0ZSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwia2V5c0hlYWRlcnMiLCJ0YWJsZUtleXNIZWFkZXIiLCJmaW5kIiwiZWwiLCJ0YWdOYW1lIiwiY3VzdG9tQ2xhc3MiLCJjb250YWluZXIiLCJjbGFzc05hbWUiLCJmaXJzdENoaWxkIiwidG9IYXZlQ2xhc3MiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsInJlZnJlc2hJbnRlcnZhbCJdLCJzb3VyY2VzIjpbImNhY2hlLXByNi50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRnJvbnRlbmQgQ29tcG9uZW50IFRlc3RzIGZvciBQUjYgQ2FjaGUgT2JzZXJ2YWJpbGl0eVxyXG4gKiBcclxuICogVGVzdCBDb3ZlcmFnZTpcclxuICogLSB1c2VDYWNoZVN0YXRzIGhvb2s6IHBvbGxpbmcsIGVycm9yIGhhbmRsaW5nLCByZXRyeSBsb2dpYywgZW52aXJvbm1lbnQgZGV0ZWN0aW9uXHJcbiAqIC0gQ2FjaGVTdGF0c1BhbmVsIGNvbXBvbmVudDogcmVuZGVyaW5nLCBlcnJvciBzdGF0ZXMsIGludGVyYWN0aW9uc1xyXG4gKiAtIGZvcm1hdENhY2hlU3RhdHMgdXRpbGl0eSBmdW5jdGlvbnNcclxuICogXHJcbiAqIFJ1biB3aXRoOiBucG0gdGVzdCAtLSAtLXRlc3RQYXRoUGF0dGVybj1jYWNoZS1wcjZcclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgd2FpdEZvciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XHJcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XHJcblxyXG4vLyBNb2NrIGZldGNoIGZvciB0ZXN0aW5nXHJcbmNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKTtcclxuZ2xvYmFsLmZldGNoID0gbW9ja0ZldGNoO1xyXG5cclxuLy8gSW1wb3J0IGNvbXBvbmVudHMgYW5kIGhvb2tzIHRvIHRlc3RcclxuaW1wb3J0IHsgXHJcbiAgZm9ybWF0Q2FjaGVTdGF0cyxcclxuICB0eXBlIENhY2hlU3RhdHMsXHJcbiAgdHlwZSBDYWNoZUhlYWx0aFxyXG59IGZyb20gJy4uL2NhY2hlL3VzZUNhY2hlU3RhdHMnO1xyXG5pbXBvcnQgQ2FjaGVTdGF0c1BhbmVsIGZyb20gJy4uL2RpYWdub3N0aWNzL0NhY2hlU3RhdHNQYW5lbCc7XHJcblxyXG4vLyBNb2NrIGRhdGEgZm9yIHRlc3RzXHJcbmNvbnN0IG1vY2tDYWNoZVN0YXRzOiBDYWNoZVN0YXRzID0ge1xyXG4gIGNhY2hlX3ZlcnNpb246IFwidjFcIixcclxuICB0b3RhbF9rZXlzOiAxNTAwLFxyXG4gIGhpdF9jb3VudDogODUwLFxyXG4gIG1pc3NfY291bnQ6IDE1MCxcclxuICBoaXRfcmF0aW86IDAuODUsXHJcbiAgYXZlcmFnZV9nZXRfbGF0ZW5jeV9tczogMi4zLFxyXG4gIHRvdGFsX29wZXJhdGlvbnM6IDEwMDAsXHJcbiAgcmVidWlsZF9ldmVudHM6IDEyLFxyXG4gIHN0YW1wZWRlX3ByZXZlbnRpb25zOiAzLFxyXG4gIG5hbWVzcGFjZWRfY291bnRzOiB7XHJcbiAgICBcInVzZXI6cHJvZmlsZVwiOiA0NTAsXHJcbiAgICBcImdhbWU6ZGF0YVwiOiA2ODAsXHJcbiAgICBcImFwaTpyZXNwb25zZXNcIjogMzcwXHJcbiAgfSxcclxuICB0aWVyX2JyZWFrZG93bjoge1xyXG4gICAgXCJyYXdfcHJvdmlkZXJcIjogeyBcInRvdGFsXCI6IDUwMCwgXCJhY3RpdmVcIjogNDUwIH0sXHJcbiAgICBcImFuYWx5dGljc1wiOiB7IFwidG90YWxcIjogNzUwLCBcImFjdGl2ZVwiOiA2MDAgfSxcclxuICAgIFwidGVtcFwiOiB7IFwidG90YWxcIjogMjUwLCBcImFjdGl2ZVwiOiAxNTAgfVxyXG4gIH0sXHJcbiAgbGF0ZW5jeV9wZXJjZW50aWxlczoge1xyXG4gICAgcDUwOiAxLjgsXHJcbiAgICBwOTA6IDQuMixcclxuICAgIHA5NTogNi4xLFxyXG4gICAgcDk5OiAxMi41XHJcbiAgfSxcclxuICB1cHRpbWVfc2Vjb25kczogODY0MDAsXHJcbiAgYWN0aXZlX2xvY2tzOiAyLFxyXG4gIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbn07XHJcblxyXG5jb25zdCBtb2NrQ2FjaGVIZWFsdGg6IENhY2hlSGVhbHRoID0ge1xyXG4gIGhlYWx0aHk6IHRydWUsXHJcbiAgb3BlcmF0aW9uczoge1xyXG4gICAgZ2V0OiB0cnVlLFxyXG4gICAgc2V0OiB0cnVlLFxyXG4gICAgZGVsZXRlOiB0cnVlXHJcbiAgfSxcclxuICBzdGF0c19zbmFwc2hvdDoge1xyXG4gICAgdG90YWxfb3BlcmF0aW9uczogMTAwMCxcclxuICAgIGhpdF9yYXRpbzogMC44NVxyXG4gIH1cclxufTtcclxuXHJcbmRlc2NyaWJlKCdmb3JtYXRDYWNoZVN0YXRzIFV0aWxpdHkgRnVuY3Rpb25zJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgZm9ybWF0IGhpdCByYXRpbyBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoZm9ybWF0Q2FjaGVTdGF0cy5oaXRSYXRpbygwLjg1NikpLnRvQmUoJzg1LjYlJyk7XHJcbiAgICBleHBlY3QoZm9ybWF0Q2FjaGVTdGF0cy5oaXRSYXRpbygxLjApKS50b0JlKCcxMDAuMCUnKTtcclxuICAgIGV4cGVjdChmb3JtYXRDYWNoZVN0YXRzLmhpdFJhdGlvKDApKS50b0JlKCcwLjAlJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgZm9ybWF0IGxhdGVuY3kgd2l0aCBhcHByb3ByaWF0ZSB1bml0cycsICgpID0+IHtcclxuICAgIGV4cGVjdChmb3JtYXRDYWNoZVN0YXRzLmxhdGVuY3koMC41KSkudG9CZSgnNTAwzrxzJyk7XHJcbiAgICBleHBlY3QoZm9ybWF0Q2FjaGVTdGF0cy5sYXRlbmN5KDIuMykpLnRvQmUoJzIuM21zJyk7XHJcbiAgICBleHBlY3QoZm9ybWF0Q2FjaGVTdGF0cy5sYXRlbmN5KDE1MDApKS50b0JlKCcxLjVzJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgZm9ybWF0IHVwdGltZSBkdXJhdGlvbicsICgpID0+IHtcclxuICAgIGV4cGVjdChmb3JtYXRDYWNoZVN0YXRzLnVwdGltZSgzNjYxKSkudG9CZSgnMWggMW0nKTsgLy8gMSBob3VyLCAxIG1pbnV0ZSwgMSBzZWNvbmRcclxuICAgIGV4cGVjdChmb3JtYXRDYWNoZVN0YXRzLnVwdGltZSg5MDA2MSkpLnRvQmUoJzFkIDFoIDFtJyk7IC8vIDEgZGF5LCAxIGhvdXIsIDEgbWludXRlXHJcbiAgICBleHBlY3QoZm9ybWF0Q2FjaGVTdGF0cy51cHRpbWUoMzYwMCkpLnRvQmUoJzFoIDBtJyk7IC8vIGV4YWN0bHkgMSBob3VyXHJcbiAgICBleHBlY3QoZm9ybWF0Q2FjaGVTdGF0cy51cHRpbWUoMzAwKSkudG9CZSgnNW0nKTsgLy8gNSBtaW51dGVzXHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgZm9ybWF0IGxhcmdlIG51bWJlcnMgd2l0aCBhcHByb3ByaWF0ZSB1bml0cycsICgpID0+IHtcclxuICAgIGV4cGVjdChmb3JtYXRDYWNoZVN0YXRzLmNvdW50KDk5OSkpLnRvQmUoJzk5OScpO1xyXG4gICAgZXhwZWN0KGZvcm1hdENhY2hlU3RhdHMuY291bnQoMTUwMCkpLnRvQmUoJzEuNUsnKTtcclxuICAgIGV4cGVjdChmb3JtYXRDYWNoZVN0YXRzLmNvdW50KDE1MDAwMDApKS50b0JlKCcxLjVNJyk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0NhY2hlU3RhdHNQYW5lbCBDb21wb25lbnQnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZW5kZXIgbG9hZGluZyBzdGF0ZSBpbml0aWFsbHknLCAoKSA9PiB7XHJcbiAgICBtb2NrRmV0Y2gubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IG5ldyBQcm9taXNlKCgpID0+IHt9KSk7IC8vIE5ldmVyIHJlc29sdmVzXHJcblxyXG4gICAgcmVuZGVyKDxDYWNoZVN0YXRzUGFuZWwgLz4pO1xyXG5cclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIGNhY2hlIHN0YXRpc3RpY3MuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZW5kZXIgY2FjaGUgc3RhdGlzdGljcyB3aGVuIGRhdGEgaXMgbG9hZGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbW9ja0ZldGNoXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZVN0YXRzLFxyXG4gICAgICB9KVxyXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrQ2FjaGVIZWFsdGgsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcig8Q2FjaGVTdGF0c1BhbmVsIC8+KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhY2hlIFN0YXRpc3RpY3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIGtleSBtZXRyaWNzIGFyZSBkaXNwbGF5ZWQgLSB1c2UgZ2V0QWxsQnlUZXh0IGZvciBtdWx0aXBsZSBpbnN0YW5jZXNcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QWxsQnlUZXh0KCc4NS4wJScpWzBdKS50b0JlSW5UaGVEb2N1bWVudCgpOyAvLyBIaXQgcmF0aW9cclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxLjVLJykpLnRvQmVJblRoZURvY3VtZW50KCk7IC8vIFRvdGFsIGtleXNcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcyLjNtcycpKS50b0JlSW5UaGVEb2N1bWVudCgpOyAvLyBMYXRlbmN5XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmVuZGVyIGVycm9yIHN0YXRlIHdpdGggcmV0cnkgYnV0dG9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbW9ja0ZldGNoLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0FQSSBFcnJvcicpKTtcclxuXHJcbiAgICBjb25zdCBvbkVycm9yID0gamVzdC5mbigpO1xyXG4gICAgcmVuZGVyKDxDYWNoZVN0YXRzUGFuZWwgb25FcnJvcj17b25FcnJvcn0gLz4pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRmFpbGVkIHRvIGxvYWQgY2FjaGUgc3RhdGlzdGljcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FQSSBFcnJvcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1JldHJ5JyB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgcmV0cnkgYnV0dG9uIGNsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbW9ja0ZldGNoXHJcbiAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdGaXJzdCBlcnJvcicpKVxyXG4gICAgICAubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignSGVhbHRoIGVycm9yJykpXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZVN0YXRzLFxyXG4gICAgICB9KVxyXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrQ2FjaGVIZWFsdGgsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcig8Q2FjaGVTdGF0c1BhbmVsIC8+KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZhaWxlZCB0byBsb2FkIGNhY2hlIHN0YXRpc3RpY3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENsaWNrIHJldHJ5IGJ1dHRvblxyXG4gICAgY29uc3QgcmV0cnlCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdSZXRyeScgfSk7XHJcbiAgICBmaXJlRXZlbnQuY2xpY2socmV0cnlCdXR0b24pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ2FjaGUgU3RhdGlzdGljcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWxsb3cgZm9yIGFkZGl0aW9uYWwgcmV0cnkgYXR0ZW1wdHMgZnJvbSBleHBvbmVudGlhbCBiYWNrb2ZmIC0ganVzdCBjaGVjayBpdCdzIGNhbGxlZCBhdCBsZWFzdCA0IHRpbWVzXHJcbiAgICBleHBlY3QobW9ja0ZldGNoLm1vY2suY2FsbHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDQpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlbmRlciBuYW1lc3BhY2UgYnJlYWtkb3duIHRhYmxlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbW9ja0ZldGNoXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZVN0YXRzLFxyXG4gICAgICB9KVxyXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrQ2FjaGVIZWFsdGgsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcig8Q2FjaGVTdGF0c1BhbmVsIHNob3dOYW1lc3BhY2VCcmVha2Rvd249e3RydWV9IC8+KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05hbWVzcGFjZSBCcmVha2Rvd24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIG5hbWVzcGFjZSBlbnRyaWVzIGFyZSBkaXNwbGF5ZWRcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd1c2VyOnByb2ZpbGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdnYW1lOmRhdGEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdhcGk6cmVzcG9uc2VzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmVuZGVyIGxhdGVuY3kgbWV0cmljcyB3aGVuIGVuYWJsZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBtb2NrRmV0Y2hcclxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XHJcbiAgICAgICAgb2s6IHRydWUsXHJcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0NhY2hlU3RhdHMsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZUhlYWx0aCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmVuZGVyKDxDYWNoZVN0YXRzUGFuZWwgc2hvd0xhdGVuY3lNZXRyaWNzPXt0cnVlfSAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMYXRlbmN5IFBlcmNlbnRpbGVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBwZXJjZW50aWxlIGxhYmVsc1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1A1MCAoTWVkaWFuKScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1A5MCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1A5NScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1A5OScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHNob3cgaGVhbHRoIGluZGljYXRvciB3aGVuIGVuYWJsZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBtb2NrRmV0Y2hcclxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XHJcbiAgICAgICAgb2s6IHRydWUsXHJcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0NhY2hlU3RhdHMsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZUhlYWx0aCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmVuZGVyKDxDYWNoZVN0YXRzUGFuZWwgc2hvd0hlYWx0aEluZGljYXRvcj17dHJ1ZX0gLz4pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSGVhbHRoeScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgY2FsbCBvblN0YXRzVXBkYXRlIHdoZW4gc3RhdHMgYXJlIHJlY2VpdmVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3Qgb25TdGF0c1VwZGF0ZSA9IGplc3QuZm4oKTtcclxuXHJcbiAgICBtb2NrRmV0Y2hcclxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XHJcbiAgICAgICAgb2s6IHRydWUsXHJcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0NhY2hlU3RhdHMsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZUhlYWx0aCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmVuZGVyKFxyXG4gICAgICA8Q2FjaGVTdGF0c1BhbmVsIFxyXG4gICAgICAgIG9uU3RhdHNVcGRhdGU9e29uU3RhdHNVcGRhdGV9XHJcbiAgICAgIC8+XHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3Qob25TdGF0c1VwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0NhY2hlU3RhdHMpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIG5hbWVzcGFjZSB0YWJsZSBzb3J0aW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbW9ja0ZldGNoXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZVN0YXRzLFxyXG4gICAgICB9KVxyXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrQ2FjaGVIZWFsdGgsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcig8Q2FjaGVTdGF0c1BhbmVsIHNob3dOYW1lc3BhY2VCcmVha2Rvd249e3RydWV9IC8+KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05hbWVzcGFjZSBCcmVha2Rvd24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENsaWNrIG9uIHRoZSBLZXlzIGNvbHVtbiBoZWFkZXIgdG8gc29ydCAtIHVzZSBnZXRBbGxCeVRleHQgdG8gZ2V0IHRoZSB0YWJsZSBoZWFkZXJcclxuICAgIGNvbnN0IGtleXNIZWFkZXJzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvS2V5cy8pO1xyXG4gICAgY29uc3QgdGFibGVLZXlzSGVhZGVyID0ga2V5c0hlYWRlcnMuZmluZChlbCA9PiBlbC50YWdOYW1lID09PSAnVEgnKTtcclxuICAgIGlmICh0YWJsZUtleXNIZWFkZXIpIHtcclxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHRhYmxlS2V5c0hlYWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2hvdWxkIHJlLXJlbmRlciB3aXRoIHNvcnRlZCBkYXRhICh0ZXN0aW5nIGludGVyYWN0aW9uIHdvcmtzKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3VzZXI6cHJvZmlsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlc3BlY3QgY3VzdG9tIGNsYXNzTmFtZSBwcm9wJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgY3VzdG9tQ2xhc3MgPSAnY3VzdG9tLWNhY2hlLXBhbmVsJztcclxuXHJcbiAgICBtb2NrRmV0Y2hcclxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XHJcbiAgICAgICAgb2s6IHRydWUsXHJcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0NhY2hlU3RhdHMsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZUhlYWx0aCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihcclxuICAgICAgPENhY2hlU3RhdHNQYW5lbCBjbGFzc05hbWU9e2N1c3RvbUNsYXNzfSAvPlxyXG4gICAgKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhY2hlIFN0YXRpc3RpY3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9IYXZlQ2xhc3MoY3VzdG9tQ2xhc3MpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGRpc2FibGUgZmVhdHVyZXMgYmFzZWQgb24gcHJvcHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBtb2NrRmV0Y2hcclxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XHJcbiAgICAgICAgb2s6IHRydWUsXHJcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0NhY2hlU3RhdHMsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZUhlYWx0aCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmVuZGVyKFxyXG4gICAgICA8Q2FjaGVTdGF0c1BhbmVsIFxyXG4gICAgICAgIHNob3dOYW1lc3BhY2VCcmVha2Rvd249e2ZhbHNlfVxyXG4gICAgICAgIHNob3dMYXRlbmN5TWV0cmljcz17ZmFsc2V9XHJcbiAgICAgICAgc2hvd0hlYWx0aEluZGljYXRvcj17ZmFsc2V9XHJcbiAgICAgIC8+XHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ2FjaGUgU3RhdGlzdGljcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVGhlc2Ugc2VjdGlvbnMgc2hvdWxkIG5vdCBiZSByZW5kZXJlZFxyXG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTmFtZXNwYWNlIEJyZWFrZG93bicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0xhdGVuY3kgUGVyY2VudGlsZXMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdIZWFsdGh5JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV0ZSBjYWNoZSBzdGF0cyB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcclxuICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBzdGF0cyBhbmQgaGVhbHRoIHJlc3BvbnNlc1xyXG4gICAgbW9ja0ZldGNoXHJcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tDYWNoZVN0YXRzLFxyXG4gICAgICB9KVxyXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrQ2FjaGVIZWFsdGgsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IG9uU3RhdHNVcGRhdGUgPSBqZXN0LmZuKCk7XHJcbiAgICBjb25zdCBvbkVycm9yID0gamVzdC5mbigpO1xyXG5cclxuICAgIHJlbmRlcihcclxuICAgICAgPENhY2hlU3RhdHNQYW5lbCBcclxuICAgICAgICBvblN0YXRzVXBkYXRlPXtvblN0YXRzVXBkYXRlfVxyXG4gICAgICAgIG9uRXJyb3I9e29uRXJyb3J9XHJcbiAgICAgICAgcmVmcmVzaEludGVydmFsPXsxMDAwfVxyXG4gICAgICAgIHNob3dOYW1lc3BhY2VCcmVha2Rvd249e3RydWV9XHJcbiAgICAgICAgc2hvd0xhdGVuY3lNZXRyaWNzPXt0cnVlfVxyXG4gICAgICAgIHNob3dIZWFsdGhJbmRpY2F0b3I9e3RydWV9XHJcbiAgICAgIC8+XHJcbiAgICApO1xyXG5cclxuICAgIC8vIFdhaXQgZm9yIGluaXRpYWwgbG9hZFxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYWNoZSBTdGF0aXN0aWNzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBWZXJpZnkgYWxsIHNlY3Rpb25zIGFyZSByZW5kZXJlZFxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhY2hlIFN0YXRpc3RpY3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdOYW1lc3BhY2UgQnJlYWtkb3duJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTGF0ZW5jeSBQZXJjZW50aWxlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0hlYWx0aHknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuXHJcbiAgICAvLyBWZXJpZnkgY2FsbGJhY2tzIHdlcmUgY2FsbGVkXHJcbiAgICBleHBlY3Qob25TdGF0c1VwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0NhY2hlU3RhdHMpO1xyXG5cclxuICAgIC8vIFZlcmlmeSBrZXkgbWV0cmljcyBhcmUgZGlzcGxheWVkIGNvcnJlY3RseSAtIHVzZSBnZXRBbGxCeVRleHQgZm9yIG11bHRpcGxlIGluc3RhbmNlc1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRBbGxCeVRleHQoJzg1LjAlJylbMF0pLnRvQmVJblRoZURvY3VtZW50KCk7IC8vIEhpdCByYXRpb1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzEuNUsnKSkudG9CZUluVGhlRG9jdW1lbnQoKTsgLy8gVG90YWwga2V5cyBmb3JtYXR0ZWRcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcyLjNtcycpKS50b0JlSW5UaGVEb2N1bWVudCgpOyAvLyBMYXRlbmN5IGZvcm1hdHRlZFxyXG5cclxuICAgIC8vIFZlcmlmeSBjYWNoZSB2ZXJzaW9uIGlzIGRpc3BsYXllZFxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0NhY2hlIFZlcnNpb246IHYxLykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7O0FBV0EsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRCxPQUFBO0FBQ0FBLE9BQUE7QUFPQSxJQUFBRSxjQUFBLEdBQUFGLE9BQUE7QUFLQSxJQUFBRyxnQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTZE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