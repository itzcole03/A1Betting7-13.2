{"file":"C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\frontend\\src\\components\\auth\\AccessRequestForm.tsx","mappings":"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","names":[],"sources":["C:\\Users\\bcmad\\Downloads\\A1Betting7-13.2\\frontend\\src\\components\\auth\\AccessRequestForm.tsx"],"sourcesContent":["import { motion } from 'framer-motion';\r\nimport { AlertCircle, CheckCircle, Info, Mail, Send } from 'lucide-react';\r\nimport React, { useState } from 'react';\r\nimport { _accessRequestService, AccessRequestResponse } from '../../services/AccessRequestService';\r\nimport { getLocation } from '../../utils/location';\r\n\r\ninterface AccessRequestFormProps {\r\n  onRequestSubmitted?: (response: AccessRequestResponse) => void;\r\n}\r\n\r\nconst _AccessRequestForm: React.FC<AccessRequestFormProps> = ({ onRequestSubmitted }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [response, setResponse] = useState<AccessRequestResponse | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n\r\n  const _handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    // Validation\r\n    if (!email.trim()) {\r\n      setError('Email address is required');\r\n      return;\r\n    }\r\n\r\n    if (!_accessRequestService.isValidEmail(email)) {\r\n      setError('Please enter a valid email address');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Check for existing request first\r\n\r\n      const existingRequest = await _accessRequestService.checkExistingRequest(email);\r\n      if (existingRequest) {\r\n        setError(\r\n          `You already have a ${existingRequest.status} access request. Please check your email or contact support.`\r\n        );\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // Submit new request\r\n      const requestResponse = await _accessRequestService.submitAccessRequest({\r\n        email: email.trim(),\r\n        message: message.trim() || undefined,\r\n      });\r\n\r\n      setResponse(requestResponse);\r\n      setShowSuccess(true);\r\n\r\n      // Reset form\r\n      setEmail('');\r\n      setMessage('');\r\n\r\n      // Notify parent component\r\n      if (onRequestSubmitted) {\r\n        onRequestSubmitted(requestResponse);\r\n      }\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to submit access request');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setShowSuccess(false);\r\n    setResponse(null);\r\n    setError(null);\r\n    setEmail('');\r\n    setMessage('');\r\n  };\r\n\r\n  if (showSuccess && response?.success) {\r\n    return (\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        className='max-w-md mx-auto'\r\n      >\r\n        <div className='bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-xl p-8 text-center'>\r\n          <div className='w-16 h-16 mx-auto mb-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center'>\r\n            <CheckCircle className='w-8 h-8 text-white' />\r\n          </div>\r\n          <p className='text-gray-300 mb-6 leading-relaxed'>{response.message}</p>\r\n          <div className='text-left'>\r\n            <p className='text-blue-300 font-medium text-sm'>What happens next?</p>\r\n            <ul className='text-blue-200/80 text-xs mt-2 space-y-1'>\r\n              <li>• Your request will be reviewed by the admin team</li>\r\n              <li>• You'll receive an email notification with the decision</li>\r\n              <li>• Check your spam folder if you don't see our email</li>\r\n            </ul>\r\n          </div>\r\n          <button\r\n            onClick={resetForm}\r\n            className='px-6 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white transition-colors'\r\n          >\r\n            Submit Another Request\r\n          </button>\r\n        </div>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className='max-w-md mx-auto'\r\n    >\r\n      <div className='bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-xl p-8'>\r\n        <div className='text-center mb-8'>\r\n          <div className='w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-cyber-primary to-cyber-accent rounded-full flex items-center justify-center'>\r\n            <Mail className='w-8 h-8 text-white' />\r\n          </div>\r\n          <h2 className='text-2xl font-bold text-white mb-2'>Request Access</h2>\r\n          <p className='text-gray-400'>\r\n            Enter your email to request access to the A1 Betting platform\r\n          </p>\r\n        </div>\r\n\r\n        <form onSubmit={_handleSubmit} className='space-y-6'>\r\n          {error && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              className='bg-red-500/10 border border-red-500/50 rounded-lg p-4'\r\n            >\r\n              <div className='flex items-center space-x-3'>\r\n                <AlertCircle className='w-5 h-5 text-red-400 flex-shrink-0' />\r\n                <p className='text-red-300 text-sm'>{error}</p>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          <div>\r\n            <label htmlFor='email' className='block text-sm font-medium text-gray-300 mb-2'>\r\n              Email Address <span className='text-red-400'>*</span>\r\n            </label>\r\n            <input\r\n              id='email'\r\n              type='email'\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n              placeholder='your.email@company.com'\r\n              className='w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyber-primary focus:ring-2 focus:ring-cyber-primary/20 transition-all'\r\n              disabled={isSubmitting}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor='message' className='block text-sm font-medium text-gray-300 mb-2'>\r\n              Additional Message <span className='text-gray-500'>(optional)</span>\r\n            </label>\r\n            <textarea\r\n              id='message'\r\n              value={message}\r\n              onChange={e => setMessage(e.target.value)}\r\n              placeholder='Tell us about your intended use case or any additional context...'\r\n              rows={3}\r\n              className='w-full px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-cyber-primary focus:ring-2 focus:ring-cyber-primary/20 transition-all resize-none'\r\n              disabled={isSubmitting}\r\n              maxLength={500}\r\n            />\r\n            <p className='text-xs text-gray-500 mt-1'>{message.length}/500 characters</p>\r\n          </div>\r\n\r\n          <div className='bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4'>\r\n            <div className='flex items-start space-x-3'>\r\n              <Info className='w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0' />\r\n              <div>\r\n                <p className='text-yellow-300 font-medium text-sm'>Access Review Process</p>\r\n                <p className='text-yellow-200/80 text-xs mt-1'>\r\n                  All access requests are manually reviewed. You'll receive an email notification\r\n                  with the decision, typically within 24-48 hours.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            type='submit'\r\n            disabled={isSubmitting || !email.trim()}\r\n            className='w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-cyber-primary to-cyber-accent hover:from-cyber-secondary hover:to-cyber-primary rounded-lg text-slate-900 font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed'\r\n          >\r\n            {isSubmitting ? (\r\n              <>\r\n                <div className='w-5 h-5 border-2 border-slate-900/30 border-t-slate-900 rounded-full animate-spin' />\r\n                <span>Submitting Request...</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Send className='w-5 h-5' />\r\n                <span>Submit Access Request</span>\r\n              </>\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        <div className='mt-6 pt-6 border-t border-slate-700/50 text-center'>\r\n          <p className='text-xs text-gray-500'>\r\n            Already have access?{' '}\r\n            <button\r\n              onClick={() => getLocation().assign('/login')}\r\n              className='text-cyber-primary hover:text-cyber-secondary transition-colors'\r\n            >\r\n              Sign in here\r\n            </button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default _AccessRequestForm;\r\n"],"version":3}