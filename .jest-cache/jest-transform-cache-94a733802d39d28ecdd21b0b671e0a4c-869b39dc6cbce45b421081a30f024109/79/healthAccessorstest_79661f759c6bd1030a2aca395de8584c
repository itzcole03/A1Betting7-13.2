153e465ce86131379b90df1fc20b8360
"use strict";

var _healthAccessors = require("../healthAccessors");
var _ensureHealthShape = require("../ensureHealthShape");
/**
 * Regression tests for hit_rate runtime error fixes
 * Ensures unified accessors handle various hit_rate data structures safely
 */

// Suppress console warnings during tests and mock NODE_ENV
let consoleWarnSpy;
const originalNodeEnv = process.env.NODE_ENV;
beforeEach(() => {
  consoleWarnSpy = jest.spyOn(console, 'warn').mockImplementation(() => {});
  // Set NODE_ENV to development for warning tests
  process.env.NODE_ENV = 'development';
});
afterEach(() => {
  consoleWarnSpy.mockRestore();
  process.env.NODE_ENV = originalNodeEnv;
});
describe('getCacheHitRate', () => {
  describe('Priority 1: Canonical cache_hit_rate', () => {
    it('should return cache_hit_rate when present', () => {
      const health = {
        performance: {
          cache_hit_rate: 85.5
        }
      };
      expect((0, _healthAccessors.getCacheHitRate)(health)).toBe(85.5);
      expect(consoleWarnSpy).not.toHaveBeenCalled();
    });
  });
  describe('Priority 2: Legacy performance.hit_rate', () => {
    it('should return performance.hit_rate and warn when cache_hit_rate missing', () => {
      const health = {
        performance: {
          hit_rate: 72.3
        }
      };
      expect((0, _healthAccessors.getCacheHitRate)(health)).toBe(72.3);
      expect(consoleWarnSpy).toHaveBeenCalledWith('[HealthCompat] Using legacy performance.hit_rate, consider migrating to cache_hit_rate');
    });
    it('should prefer cache_hit_rate over hit_rate when both exist', () => {
      const health = {
        performance: {
          cache_hit_rate: 90.5,
          hit_rate: 75.2
        }
      };
      expect((0, _healthAccessors.getCacheHitRate)(health)).toBe(90.5);
      expect(consoleWarnSpy).not.toHaveBeenCalled();
    });
  });
  describe('Priority 3: Phase 3 infrastructure structure', () => {
    it('should return infrastructure.cache.hit_rate_percent and warn', () => {
      const health = {
        infrastructure: {
          cache: {
            hit_rate_percent: 88.7
          }
        }
      };
      expect((0, _healthAccessors.getCacheHitRate)(health)).toBe(88.7);
      expect(consoleWarnSpy).toHaveBeenCalledWith('[HealthCompat] Using infrastructure.cache.hit_rate_percent, consider migrating to performance.cache_hit_rate');
    });
  });
  describe('Priority 4: Metrics structure', () => {
    it('should return cache_performance.hit_rate', () => {
      const health = {
        cache_performance: {
          hit_rate: 92.1
        }
      };
      expect((0, _healthAccessors.getCacheHitRate)(health)).toBe(92.1);
      expect(consoleWarnSpy).not.toHaveBeenCalled();
    });
  });
  describe('Priority 5: Flat legacy structure', () => {
    it('should return flat hit_rate and warn', () => {
      const health = {
        hit_rate: 78.9
      };
      expect((0, _healthAccessors.getCacheHitRate)(health)).toBe(78.9);
      expect(consoleWarnSpy).toHaveBeenCalledWith('[HealthCompat] Using flat hit_rate, consider migrating to performance.cache_hit_rate');
    });
  });
  describe('Default cases', () => {
    it('should return 0 for null/undefined', () => {
      expect((0, _healthAccessors.getCacheHitRate)(null)).toBe(0);
      expect((0, _healthAccessors.getCacheHitRate)(undefined)).toBe(0);
      expect(consoleWarnSpy).not.toHaveBeenCalled();
    });
    it('should return 0 when no hit_rate fields present', () => {
      const health = {
        performance: {
          uptime: 3600
        }
      };
      expect((0, _healthAccessors.getCacheHitRate)(health)).toBe(0);
      expect(consoleWarnSpy).not.toHaveBeenCalled();
    });
  });
});
describe('hasPerformanceSection', () => {
  it('should return true for canonical performance section', () => {
    const health = {
      performance: {
        cache_hit_rate: 85
      }
    };
    expect((0, _healthAccessors.hasPerformanceSection)(health)).toBe(true);
  });
  it('should return true for infrastructure section', () => {
    const health = {
      infrastructure: {
        cache: {
          hit_rate_percent: 90
        }
      }
    };
    expect((0, _healthAccessors.hasPerformanceSection)(health)).toBe(true);
  });
  it('should return true for cache_performance section', () => {
    const health = {
      cache_performance: {
        hit_rate: 88
      }
    };
    expect((0, _healthAccessors.hasPerformanceSection)(health)).toBe(true);
  });
  it('should return true for flat hit_rate', () => {
    const health = {
      hit_rate: 75
    };
    expect((0, _healthAccessors.hasPerformanceSection)(health)).toBe(true);
  });
  it('should return false for empty objects', () => {
    expect((0, _healthAccessors.hasPerformanceSection)({})).toBe(false);
    expect((0, _healthAccessors.hasPerformanceSection)(null)).toBe(false);
    expect((0, _healthAccessors.hasPerformanceSection)(undefined)).toBe(false);
  });
});
describe('safeIterateCacheMetrics', () => {
  it('should filter valid metrics and return mapped results', () => {
    const metrics = [{
      hit_rate: 85.5,
      type: 'memory'
    }, {
      hit_rate: 92.1,
      type: 'redis'
    }, {
      invalid: 'data'
    }, null];
    const result = (0, _healthAccessors.safeIterateCacheMetrics)(metrics, m => m.type);
    expect(result).toEqual(['memory', 'redis']);
  });
  it('should return empty array for null/undefined input', () => {
    expect((0, _healthAccessors.safeIterateCacheMetrics)(null, m => m)).toEqual([]);
    expect((0, _healthAccessors.safeIterateCacheMetrics)(undefined, m => m)).toEqual([]);
  });
  it('should return empty array for non-array input', () => {
    expect((0, _healthAccessors.safeIterateCacheMetrics)('not-array', m => m)).toEqual([]);
    expect((0, _healthAccessors.safeIterateCacheMetrics)({}, m => m)).toEqual([]);
  });
});
describe('Integration with ensureHealthShape', () => {
  it('should work with ensureHealthShape output', () => {
    const messyHealth = {
      performance: {
        hit_rate: 78.9
      }
    };
    const normalizedHealth = (0, _ensureHealthShape.ensureHealthShape)(messyHealth);
    const result = (0, _healthAccessors.getCacheHitRate)(normalizedHealth);
    expect(result).toBe(78.9);
  });
});
describe('getCacheType', () => {
  it('should return performance.cache_type when present', () => {
    const health = {
      performance: {
        cache_type: 'Redis'
      }
    };
    expect((0, _healthAccessors.getCacheType)(health)).toBe('Redis');
  });
  it('should return flat cache_type when performance missing', () => {
    const health = {
      cache_type: 'Memory'
    };
    expect((0, _healthAccessors.getCacheType)(health)).toBe('Memory');
  });
  it('should prefer performance.cache_type over flat cache_type', () => {
    const health = {
      performance: {
        cache_type: 'Redis'
      },
      cache_type: 'Memory'
    };
    expect((0, _healthAccessors.getCacheType)(health)).toBe('Redis');
  });
  it('should return "Unknown" for null/undefined', () => {
    expect((0, _healthAccessors.getCacheType)(null)).toBe('Unknown');
    expect((0, _healthAccessors.getCacheType)(undefined)).toBe('Unknown');
  });
  it('should return "Unknown" when no cache_type fields present', () => {
    const health = {
      performance: {
        cache_hit_rate: 85
      }
    };
    expect((0, _healthAccessors.getCacheType)(health)).toBe('Unknown');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaGVhbHRoQWNjZXNzb3JzIiwicmVxdWlyZSIsIl9lbnN1cmVIZWFsdGhTaGFwZSIsImNvbnNvbGVXYXJuU3B5Iiwib3JpZ2luYWxOb2RlRW52IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiYmVmb3JlRWFjaCIsImplc3QiLCJzcHlPbiIsImNvbnNvbGUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJhZnRlckVhY2giLCJtb2NrUmVzdG9yZSIsImRlc2NyaWJlIiwiaXQiLCJoZWFsdGgiLCJwZXJmb3JtYW5jZSIsImNhY2hlX2hpdF9yYXRlIiwiZXhwZWN0IiwiZ2V0Q2FjaGVIaXRSYXRlIiwidG9CZSIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJoaXRfcmF0ZSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiaW5mcmFzdHJ1Y3R1cmUiLCJjYWNoZSIsImhpdF9yYXRlX3BlcmNlbnQiLCJjYWNoZV9wZXJmb3JtYW5jZSIsInVuZGVmaW5lZCIsInVwdGltZSIsImhhc1BlcmZvcm1hbmNlU2VjdGlvbiIsIm1ldHJpY3MiLCJ0eXBlIiwiaW52YWxpZCIsInJlc3VsdCIsInNhZmVJdGVyYXRlQ2FjaGVNZXRyaWNzIiwibSIsInRvRXF1YWwiLCJtZXNzeUhlYWx0aCIsIm5vcm1hbGl6ZWRIZWFsdGgiLCJlbnN1cmVIZWFsdGhTaGFwZSIsImNhY2hlX3R5cGUiLCJnZXRDYWNoZVR5cGUiXSwic291cmNlcyI6WyJoZWFsdGhBY2Nlc3NvcnMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmVncmVzc2lvbiB0ZXN0cyBmb3IgaGl0X3JhdGUgcnVudGltZSBlcnJvciBmaXhlc1xyXG4gKiBFbnN1cmVzIHVuaWZpZWQgYWNjZXNzb3JzIGhhbmRsZSB2YXJpb3VzIGhpdF9yYXRlIGRhdGEgc3RydWN0dXJlcyBzYWZlbHlcclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRDYWNoZUhpdFJhdGUsIGhhc1BlcmZvcm1hbmNlU2VjdGlvbiwgc2FmZUl0ZXJhdGVDYWNoZU1ldHJpY3MsIGRlYnVnSGVhbHRoU3RydWN0dXJlLCBnZXRDYWNoZVR5cGUgfSBmcm9tICcuLi9oZWFsdGhBY2Nlc3NvcnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVIZWFsdGhTaGFwZSB9IGZyb20gJy4uL2Vuc3VyZUhlYWx0aFNoYXBlJztcclxuXHJcbi8vIFN1cHByZXNzIGNvbnNvbGUgd2FybmluZ3MgZHVyaW5nIHRlc3RzIGFuZCBtb2NrIE5PREVfRU5WXHJcbmxldCBjb25zb2xlV2FyblNweTogamVzdC5TcHlJbnN0YW5jZTtcclxuY29uc3Qgb3JpZ2luYWxOb2RlRW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XHJcblxyXG5iZWZvcmVFYWNoKCgpID0+IHtcclxuICBjb25zb2xlV2FyblNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ3dhcm4nKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xyXG4gIC8vIFNldCBOT0RFX0VOViB0byBkZXZlbG9wbWVudCBmb3Igd2FybmluZyB0ZXN0c1xyXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ2RldmVsb3BtZW50JztcclxufSk7XHJcblxyXG5hZnRlckVhY2goKCkgPT4ge1xyXG4gIGNvbnNvbGVXYXJuU3B5Lm1vY2tSZXN0b3JlKCk7XHJcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSBvcmlnaW5hbE5vZGVFbnY7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ2dldENhY2hlSGl0UmF0ZScsICgpID0+IHtcclxuICBkZXNjcmliZSgnUHJpb3JpdHkgMTogQ2Fub25pY2FsIGNhY2hlX2hpdF9yYXRlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY2FjaGVfaGl0X3JhdGUgd2hlbiBwcmVzZW50JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoZWFsdGggPSB7XHJcbiAgICAgICAgcGVyZm9ybWFuY2U6IHsgY2FjaGVfaGl0X3JhdGU6IDg1LjUgfSxcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnZXRDYWNoZUhpdFJhdGUoaGVhbHRoKSkudG9CZSg4NS41KTtcclxuICAgICAgZXhwZWN0KGNvbnNvbGVXYXJuU3B5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQcmlvcml0eSAyOiBMZWdhY3kgcGVyZm9ybWFuY2UuaGl0X3JhdGUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwZXJmb3JtYW5jZS5oaXRfcmF0ZSBhbmQgd2FybiB3aGVuIGNhY2hlX2hpdF9yYXRlIG1pc3NpbmcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IHtcclxuICAgICAgICBwZXJmb3JtYW5jZTogeyBoaXRfcmF0ZTogNzIuMyB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVIaXRSYXRlKGhlYWx0aCkpLnRvQmUoNzIuMyk7XHJcbiAgICAgIGV4cGVjdChjb25zb2xlV2FyblNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ1tIZWFsdGhDb21wYXRdIFVzaW5nIGxlZ2FjeSBwZXJmb3JtYW5jZS5oaXRfcmF0ZSwgY29uc2lkZXIgbWlncmF0aW5nIHRvIGNhY2hlX2hpdF9yYXRlJ1xyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBwcmVmZXIgY2FjaGVfaGl0X3JhdGUgb3ZlciBoaXRfcmF0ZSB3aGVuIGJvdGggZXhpc3QnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IHtcclxuICAgICAgICBwZXJmb3JtYW5jZTogeyBcclxuICAgICAgICAgIGNhY2hlX2hpdF9yYXRlOiA5MC41LCBcclxuICAgICAgICAgIGhpdF9yYXRlOiA3NS4yIFxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGV4cGVjdChnZXRDYWNoZUhpdFJhdGUoaGVhbHRoKSkudG9CZSg5MC41KTtcclxuICAgICAgZXhwZWN0KGNvbnNvbGVXYXJuU3B5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQcmlvcml0eSAzOiBQaGFzZSAzIGluZnJhc3RydWN0dXJlIHN0cnVjdHVyZScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGluZnJhc3RydWN0dXJlLmNhY2hlLmhpdF9yYXRlX3BlcmNlbnQgYW5kIHdhcm4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IHtcclxuICAgICAgICBpbmZyYXN0cnVjdHVyZToge1xyXG4gICAgICAgICAgY2FjaGU6IHsgaGl0X3JhdGVfcGVyY2VudDogODguNyB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZXhwZWN0KGdldENhY2hlSGl0UmF0ZShoZWFsdGgpKS50b0JlKDg4LjcpO1xyXG4gICAgICBleHBlY3QoY29uc29sZVdhcm5TcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICdbSGVhbHRoQ29tcGF0XSBVc2luZyBpbmZyYXN0cnVjdHVyZS5jYWNoZS5oaXRfcmF0ZV9wZXJjZW50LCBjb25zaWRlciBtaWdyYXRpbmcgdG8gcGVyZm9ybWFuY2UuY2FjaGVfaGl0X3JhdGUnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1ByaW9yaXR5IDQ6IE1ldHJpY3Mgc3RydWN0dXJlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY2FjaGVfcGVyZm9ybWFuY2UuaGl0X3JhdGUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IHtcclxuICAgICAgICBjYWNoZV9wZXJmb3JtYW5jZTogeyBoaXRfcmF0ZTogOTIuMSB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVIaXRSYXRlKGhlYWx0aCkpLnRvQmUoOTIuMSk7XHJcbiAgICAgIGV4cGVjdChjb25zb2xlV2FyblNweSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUHJpb3JpdHkgNTogRmxhdCBsZWdhY3kgc3RydWN0dXJlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmxhdCBoaXRfcmF0ZSBhbmQgd2FybicsICgpID0+IHtcclxuICAgICAgY29uc3QgaGVhbHRoID0ge1xyXG4gICAgICAgIGhpdF9yYXRlOiA3OC45XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVIaXRSYXRlKGhlYWx0aCkpLnRvQmUoNzguOSk7XHJcbiAgICAgIGV4cGVjdChjb25zb2xlV2FyblNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ1tIZWFsdGhDb21wYXRdIFVzaW5nIGZsYXQgaGl0X3JhdGUsIGNvbnNpZGVyIG1pZ3JhdGluZyB0byBwZXJmb3JtYW5jZS5jYWNoZV9oaXRfcmF0ZSdcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRGVmYXVsdCBjYXNlcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDAgZm9yIG51bGwvdW5kZWZpbmVkJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVIaXRSYXRlKG51bGwpKS50b0JlKDApO1xyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVIaXRSYXRlKHVuZGVmaW5lZCkpLnRvQmUoMCk7XHJcbiAgICAgIGV4cGVjdChjb25zb2xlV2FyblNweSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDAgd2hlbiBubyBoaXRfcmF0ZSBmaWVsZHMgcHJlc2VudCcsICgpID0+IHtcclxuICAgICAgY29uc3QgaGVhbHRoID0ge1xyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7IHVwdGltZTogMzYwMCB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QoZ2V0Q2FjaGVIaXRSYXRlKGhlYWx0aCkpLnRvQmUoMCk7XHJcbiAgICAgIGV4cGVjdChjb25zb2xlV2FyblNweSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdoYXNQZXJmb3JtYW5jZVNlY3Rpb24nLCAoKSA9PiB7XHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgY2Fub25pY2FsIHBlcmZvcm1hbmNlIHNlY3Rpb24nLCAoKSA9PiB7XHJcbiAgICBjb25zdCBoZWFsdGggPSB7IHBlcmZvcm1hbmNlOiB7IGNhY2hlX2hpdF9yYXRlOiA4NSB9IH07XHJcbiAgICBleHBlY3QoaGFzUGVyZm9ybWFuY2VTZWN0aW9uKGhlYWx0aCkpLnRvQmUodHJ1ZSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIGluZnJhc3RydWN0dXJlIHNlY3Rpb24nLCAoKSA9PiB7XHJcbiAgICBjb25zdCBoZWFsdGggPSB7IGluZnJhc3RydWN0dXJlOiB7IGNhY2hlOiB7IGhpdF9yYXRlX3BlcmNlbnQ6IDkwIH0gfSB9O1xyXG4gICAgZXhwZWN0KGhhc1BlcmZvcm1hbmNlU2VjdGlvbihoZWFsdGgpKS50b0JlKHRydWUpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIGZvciBjYWNoZV9wZXJmb3JtYW5jZSBzZWN0aW9uJywgKCkgPT4ge1xyXG4gICAgY29uc3QgaGVhbHRoID0geyBjYWNoZV9wZXJmb3JtYW5jZTogeyBoaXRfcmF0ZTogODggfSB9O1xyXG4gICAgZXhwZWN0KGhhc1BlcmZvcm1hbmNlU2VjdGlvbihoZWFsdGgpKS50b0JlKHRydWUpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIGZvciBmbGF0IGhpdF9yYXRlJywgKCkgPT4ge1xyXG4gICAgY29uc3QgaGVhbHRoID0geyBoaXRfcmF0ZTogNzUgfTtcclxuICAgIGV4cGVjdChoYXNQZXJmb3JtYW5jZVNlY3Rpb24oaGVhbHRoKSkudG9CZSh0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIGVtcHR5IG9iamVjdHMnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoaGFzUGVyZm9ybWFuY2VTZWN0aW9uKHt9KSkudG9CZShmYWxzZSk7XHJcbiAgICBleHBlY3QoaGFzUGVyZm9ybWFuY2VTZWN0aW9uKG51bGwpKS50b0JlKGZhbHNlKTtcclxuICAgIGV4cGVjdChoYXNQZXJmb3JtYW5jZVNlY3Rpb24odW5kZWZpbmVkKSkudG9CZShmYWxzZSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ3NhZmVJdGVyYXRlQ2FjaGVNZXRyaWNzJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgZmlsdGVyIHZhbGlkIG1ldHJpY3MgYW5kIHJldHVybiBtYXBwZWQgcmVzdWx0cycsICgpID0+IHtcclxuICAgIGNvbnN0IG1ldHJpY3MgPSBbXHJcbiAgICAgIHsgaGl0X3JhdGU6IDg1LjUsIHR5cGU6ICdtZW1vcnknIH0sXHJcbiAgICAgIHsgaGl0X3JhdGU6IDkyLjEsIHR5cGU6ICdyZWRpcycgfSxcclxuICAgICAgeyBpbnZhbGlkOiAnZGF0YScgfSxcclxuICAgICAgbnVsbFxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBzYWZlSXRlcmF0ZUNhY2hlTWV0cmljcyhtZXRyaWNzLCAobSkgPT4gbS50eXBlKTtcclxuICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoWydtZW1vcnknLCAncmVkaXMnXSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IGZvciBudWxsL3VuZGVmaW5lZCBpbnB1dCcsICgpID0+IHtcclxuICAgIGV4cGVjdChzYWZlSXRlcmF0ZUNhY2hlTWV0cmljcyhudWxsLCAobSkgPT4gbSkpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHNhZmVJdGVyYXRlQ2FjaGVNZXRyaWNzKHVuZGVmaW5lZCwgKG0pID0+IG0pKS50b0VxdWFsKFtdKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gZW1wdHkgYXJyYXkgZm9yIG5vbi1hcnJheSBpbnB1dCcsICgpID0+IHtcclxuICAgIGV4cGVjdChzYWZlSXRlcmF0ZUNhY2hlTWV0cmljcygnbm90LWFycmF5JywgKG0pID0+IG0pKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdChzYWZlSXRlcmF0ZUNhY2hlTWV0cmljcyh7fSwgKG0pID0+IG0pKS50b0VxdWFsKFtdKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnSW50ZWdyYXRpb24gd2l0aCBlbnN1cmVIZWFsdGhTaGFwZScsICgpID0+IHtcclxuICBpdCgnc2hvdWxkIHdvcmsgd2l0aCBlbnN1cmVIZWFsdGhTaGFwZSBvdXRwdXQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBtZXNzeUhlYWx0aCA9IHtcclxuICAgICAgcGVyZm9ybWFuY2U6IHsgaGl0X3JhdGU6IDc4LjkgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc3Qgbm9ybWFsaXplZEhlYWx0aCA9IGVuc3VyZUhlYWx0aFNoYXBlKG1lc3N5SGVhbHRoKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGdldENhY2hlSGl0UmF0ZShub3JtYWxpemVkSGVhbHRoKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHJlc3VsdCkudG9CZSg3OC45KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnZ2V0Q2FjaGVUeXBlJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgcmV0dXJuIHBlcmZvcm1hbmNlLmNhY2hlX3R5cGUgd2hlbiBwcmVzZW50JywgKCkgPT4ge1xyXG4gICAgY29uc3QgaGVhbHRoID0ge1xyXG4gICAgICBwZXJmb3JtYW5jZTogeyBjYWNoZV90eXBlOiAnUmVkaXMnIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGV4cGVjdChnZXRDYWNoZVR5cGUoaGVhbHRoKSkudG9CZSgnUmVkaXMnKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gZmxhdCBjYWNoZV90eXBlIHdoZW4gcGVyZm9ybWFuY2UgbWlzc2luZycsICgpID0+IHtcclxuICAgIGNvbnN0IGhlYWx0aCA9IHtcclxuICAgICAgY2FjaGVfdHlwZTogJ01lbW9yeSdcclxuICAgIH07XHJcbiAgICBcclxuICAgIGV4cGVjdChnZXRDYWNoZVR5cGUoaGVhbHRoKSkudG9CZSgnTWVtb3J5Jyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcHJlZmVyIHBlcmZvcm1hbmNlLmNhY2hlX3R5cGUgb3ZlciBmbGF0IGNhY2hlX3R5cGUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBoZWFsdGggPSB7XHJcbiAgICAgIHBlcmZvcm1hbmNlOiB7IGNhY2hlX3R5cGU6ICdSZWRpcycgfSxcclxuICAgICAgY2FjaGVfdHlwZTogJ01lbW9yeSdcclxuICAgIH07XHJcbiAgICBcclxuICAgIGV4cGVjdChnZXRDYWNoZVR5cGUoaGVhbHRoKSkudG9CZSgnUmVkaXMnKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gXCJVbmtub3duXCIgZm9yIG51bGwvdW5kZWZpbmVkJywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KGdldENhY2hlVHlwZShudWxsKSkudG9CZSgnVW5rbm93bicpO1xyXG4gICAgZXhwZWN0KGdldENhY2hlVHlwZSh1bmRlZmluZWQpKS50b0JlKCdVbmtub3duJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmV0dXJuIFwiVW5rbm93blwiIHdoZW4gbm8gY2FjaGVfdHlwZSBmaWVsZHMgcHJlc2VudCcsICgpID0+IHtcclxuICAgIGNvbnN0IGhlYWx0aCA9IHtcclxuICAgICAgcGVyZm9ybWFuY2U6IHsgY2FjaGVfaGl0X3JhdGU6IDg1IH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGV4cGVjdChnZXRDYWNoZVR5cGUoaGVhbHRoKSkudG9CZSgnVW5r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