538d38511b2a9f5cc8ce708821abb420
"use strict";

var _userSettings = require("../userSettings");
describe('userSettings utils', () => {
  const LOCAL_STORAGE_KEY = 'a1betting-user-settings';
  const LOCAL_STORAGE_NAME_KEY = 'a1betting-user-name';
  const LOCAL_STORAGE_EMAIL_KEY = 'a1betting-user-email';
  let localStorageMock;
  beforeEach(() => {
    localStorageMock = {
      getItem: jest.fn(key => {
        if (key === LOCAL_STORAGE_KEY) return null;
        if (key === LOCAL_STORAGE_NAME_KEY) return null;
        if (key === LOCAL_STORAGE_EMAIL_KEY) return null;
        return null;
      }),
      setItem: jest.fn(),
      clear: jest.fn()
    };
    Object.defineProperty(window, 'localStorage', {
      value: localStorageMock,
      writable: true
    });
    // Mock document.documentElement and document.body for applySettings
    Object.defineProperty(document, 'documentElement', {
      value: {
        classList: {
          add: jest.fn(),
          remove: jest.fn()
        },
        style: {
          fontSize: ''
        }
      },
      writable: true
    });
    Object.defineProperty(document, 'body', {
      value: {
        style: {
          backgroundColor: ''
        }
      },
      writable: true
    });
    // Mock window.dispatchEvent
    jest.spyOn(window, 'dispatchEvent').mockImplementation(jest.fn());
  });
  afterEach(() => {
    jest.restoreAllMocks();
  });
  it('getUserSettings should return default settings if nothing in localStorage', () => {
    expect((0, _userSettings.getUserSettings)()).toEqual(_userSettings.DEFAULT_SETTINGS);
  });
  it('getUserSettings should return parsed settings from localStorage', () => {
    const customSettings = {
      ..._userSettings.DEFAULT_SETTINGS,
      display: {
        ..._userSettings.DEFAULT_SETTINGS.display,
        darkMode: false
      }
    };
    localStorageMock.getItem.mockReturnValueOnce(JSON.stringify(customSettings));
    expect((0, _userSettings.getUserSettings)()).toEqual(customSettings);
  });
  it('getUserSettings should merge saved settings with defaults', () => {
    const partialSettings = {
      profile: {
        name: 'Test User'
      },
      display: {
        compactView: true
      },
      notifications: {},
      betting: {},
      privacy: {}
    };
    const expectedSettings = {
      ..._userSettings.DEFAULT_SETTINGS,
      profile: {
        ..._userSettings.DEFAULT_SETTINGS.profile,
        ...(partialSettings.profile || {})
      },
      notifications: {
        ..._userSettings.DEFAULT_SETTINGS.notifications,
        ...(partialSettings.notifications || {})
      },
      display: {
        ..._userSettings.DEFAULT_SETTINGS.display,
        ...(partialSettings.display || {})
      },
      betting: {
        ..._userSettings.DEFAULT_SETTINGS.betting,
        ...(partialSettings.betting || {})
      },
      privacy: {
        ..._userSettings.DEFAULT_SETTINGS.privacy,
        ...(partialSettings.privacy || {})
      }
    };
    localStorageMock.getItem.mockReturnValueOnce(JSON.stringify(partialSettings));
    expect((0, _userSettings.getUserSettings)()).toEqual(expectedSettings);
  });
  it('applySettings should apply dark mode class and background color', () => {
    // Test dark mode true
    const settingsDark = {
      ..._userSettings.DEFAULT_SETTINGS,
      display: {
        ..._userSettings.DEFAULT_SETTINGS.display,
        darkMode: true
      }
    };
    (0, _userSettings.applySettings)(settingsDark);
    expect(document.documentElement.classList.add).toHaveBeenCalledWith('dark');
    expect(document.documentElement.classList.remove).not.toHaveBeenCalledWith('dark');
    expect(document.body.style.backgroundColor).toBe('#0f172a');

    // Reset mocks for the next assertion within the same test
    document.documentElement.classList.add.mockClear();
    document.documentElement.classList.remove.mockClear();

    // Test dark mode false
    const settingsLight = {
      ..._userSettings.DEFAULT_SETTINGS,
      display: {
        ..._userSettings.DEFAULT_SETTINGS.display,
        darkMode: false
      }
    };
    (0, _userSettings.applySettings)(settingsLight);
    expect(document.documentElement.classList.remove).toHaveBeenCalledWith('dark');
    expect(document.documentElement.classList.add).not.toHaveBeenCalledWith('dark');
    expect(document.body.style.backgroundColor).toBe('#ffffff');
  });
  it('applySettings should set font size', () => {
    const settings = {
      ..._userSettings.DEFAULT_SETTINGS,
      display: {
        ..._userSettings.DEFAULT_SETTINGS.display,
        fontSize: 18
      }
    };
    (0, _userSettings.applySettings)(settings);
    expect(document.documentElement.style.fontSize).toBe('18px');
  });
  it('saveUserSettings should save settings to localStorage and apply them', () => {
    const customSettings = {
      ..._userSettings.DEFAULT_SETTINGS,
      profile: {
        ..._userSettings.DEFAULT_SETTINGS.profile,
        name: 'New Name'
      }
    };
    (0, _userSettings.saveUserSettings)(customSettings);
    expect(localStorageMock.setItem).toHaveBeenCalledWith(LOCAL_STORAGE_KEY, JSON.stringify(customSettings));
    expect(localStorageMock.setItem).toHaveBeenCalledWith(LOCAL_STORAGE_NAME_KEY, 'New Name');
    expect(localStorageMock.setItem).toHaveBeenCalledWith(LOCAL_STORAGE_EMAIL_KEY, _userSettings.DEFAULT_SETTINGS.profile.email);
    // Check if applySettings was called
    expect(document.documentElement.classList.add).toHaveBeenCalled(); // Dark mode applied
    expect(window.dispatchEvent).toHaveBeenCalledTimes(1);
    expect(window.dispatchEvent).toHaveBeenCalledWith(new CustomEvent('settingsChanged', {
      detail: customSettings
    }));
  });
  it('getUserDisplayName should return name from localStorage if available', () => {
    localStorageMock.getItem.mockReturnValueOnce('User From Storage');
    expect((0, _userSettings.getUserDisplayName)()).toBe('User From Storage');
  });
  it('getUserDisplayName should return name from settings if not in localStorage', () => {
    localStorageMock.getItem.mockImplementation(key => {
      if (key === LOCAL_STORAGE_KEY) return JSON.stringify({
        profile: {
          name: 'Name From Settings'
        }
      });
      return null;
    });
    expect((0, _userSettings.getUserDisplayName)()).toBe('Name From Settings');
  });
  it('getUserDisplayName should return default if no name found', () => {
    localStorageMock.getItem.mockReturnValue(null);
    expect((0, _userSettings.getUserDisplayName)()).toBe(_userSettings.DEFAULT_SETTINGS.profile.name);
  });
  it('getUserEmail should return email from localStorage if available', () => {
    localStorageMock.getItem.mockReturnValueOnce('email@storage.com');
    expect((0, _userSettings.getUserEmail)()).toBe('email@storage.com');
  });
  it('getUserEmail should return email from settings if not in localStorage', () => {
    localStorageMock.getItem.mockImplementation(key => {
      if (key === LOCAL_STORAGE_KEY) return JSON.stringify({
        profile: {
          email: 'email@settings.com'
        }
      });
      return null;
    });
    expect((0, _userSettings.getUserEmail)()).toBe('email@settings.com');
  });
  it('getUserEmail should return default if no email found', () => {
    localStorageMock.getItem.mockReturnValue(null);
    expect((0, _userSettings.getUserEmail)()).toBe(_userSettings.DEFAULT_SETTINGS.profile.email);
  });
  it('isDarkMode should return dark mode setting', () => {
    localStorageMock.getItem.mockReturnValueOnce(JSON.stringify({
      display: {
        darkMode: true
      }
    }));
    expect((0, _userSettings.isDarkMode)()).toBe(true);
    localStorageMock.getItem.mockReturnValueOnce(JSON.stringify({
      display: {
        darkMode: false
      }
    }));
    expect((0, _userSettings.isDarkMode)()).toBe(false);
  });
  it('isDarkMode should return default if settings not found', () => {
    localStorageMock.getItem.mockReturnValue(null);
    expect((0, _userSettings.isDarkMode)()).toBe(_userSettings.DEFAULT_SETTINGS.display.darkMode);
  });
  it('initializeSettings should get and apply settings', () => {
    const settingsToApply = {
      ..._userSettings.DEFAULT_SETTINGS,
      display: {
        ..._userSettings.DEFAULT_SETTINGS.display,
        darkMode: false
      }
    };
    localStorageMock.getItem.mockReturnValueOnce(JSON.stringify(settingsToApply));
    (0, _userSettings.initializeSettings)();

    // Verify settings were fetched and applied
    expect(document.documentElement.classList.remove).toHaveBeenCalledWith('dark');
    expect(document.body.style.backgroundColor).toBe('#ffffff');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlclNldHRpbmdzIiwicmVxdWlyZSIsImRlc2NyaWJlIiwiTE9DQUxfU1RPUkFHRV9LRVkiLCJMT0NBTF9TVE9SQUdFX05BTUVfS0VZIiwiTE9DQUxfU1RPUkFHRV9FTUFJTF9LRVkiLCJsb2NhbFN0b3JhZ2VNb2NrIiwiYmVmb3JlRWFjaCIsImdldEl0ZW0iLCJqZXN0IiwiZm4iLCJrZXkiLCJzZXRJdGVtIiwiY2xlYXIiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsInZhbHVlIiwid3JpdGFibGUiLCJkb2N1bWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInN0eWxlIiwiZm9udFNpemUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzcHlPbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImFmdGVyRWFjaCIsInJlc3RvcmVBbGxNb2NrcyIsIml0IiwiZXhwZWN0IiwiZ2V0VXNlclNldHRpbmdzIiwidG9FcXVhbCIsIkRFRkFVTFRfU0VUVElOR1MiLCJjdXN0b21TZXR0aW5ncyIsImRpc3BsYXkiLCJkYXJrTW9kZSIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJKU09OIiwic3RyaW5naWZ5IiwicGFydGlhbFNldHRpbmdzIiwicHJvZmlsZSIsIm5hbWUiLCJjb21wYWN0VmlldyIsIm5vdGlmaWNhdGlvbnMiLCJiZXR0aW5nIiwicHJpdmFjeSIsImV4cGVjdGVkU2V0dGluZ3MiLCJzZXR0aW5nc0RhcmsiLCJhcHBseVNldHRpbmdzIiwiZG9jdW1lbnRFbGVtZW50IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJub3QiLCJib2R5IiwidG9CZSIsIm1vY2tDbGVhciIsInNldHRpbmdzTGlnaHQiLCJzZXR0aW5ncyIsInNhdmVVc2VyU2V0dGluZ3MiLCJlbWFpbCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJkaXNwYXRjaEV2ZW50IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJnZXRVc2VyRGlzcGxheU5hbWUiLCJtb2NrUmV0dXJuVmFsdWUiLCJnZXRVc2VyRW1haWwiLCJpc0RhcmtNb2RlIiwic2V0dGluZ3NUb0FwcGx5IiwiaW5pdGlhbGl6ZVNldHRpbmdzIl0sInNvdXJjZXMiOlsidXNlclNldHRpbmdzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBhcHBseVNldHRpbmdzLFxyXG4gIERFRkFVTFRfU0VUVElOR1MsXHJcbiAgZ2V0VXNlckRpc3BsYXlOYW1lLFxyXG4gIGdldFVzZXJFbWFpbCxcclxuICBnZXRVc2VyU2V0dGluZ3MsXHJcbiAgaW5pdGlhbGl6ZVNldHRpbmdzLFxyXG4gIGlzRGFya01vZGUsXHJcbiAgc2F2ZVVzZXJTZXR0aW5ncyxcclxuICBVc2VyU2V0dGluZ3MsXHJcbn0gZnJvbSAnLi4vdXNlclNldHRpbmdzJztcclxuXHJcbmRlc2NyaWJlKCd1c2VyU2V0dGluZ3MgdXRpbHMnLCAoKSA9PiB7XHJcbiAgY29uc3QgTE9DQUxfU1RPUkFHRV9LRVkgPSAnYTFiZXR0aW5nLXVzZXItc2V0dGluZ3MnO1xyXG4gIGNvbnN0IExPQ0FMX1NUT1JBR0VfTkFNRV9LRVkgPSAnYTFiZXR0aW5nLXVzZXItbmFtZSc7XHJcbiAgY29uc3QgTE9DQUxfU1RPUkFHRV9FTUFJTF9LRVkgPSAnYTFiZXR0aW5nLXVzZXItZW1haWwnO1xyXG5cclxuICBsZXQgbG9jYWxTdG9yYWdlTW9jazoge1xyXG4gICAgZ2V0SXRlbTogamVzdC5Nb2NrO1xyXG4gICAgc2V0SXRlbTogamVzdC5Nb2NrO1xyXG4gICAgY2xlYXI6IGplc3QuTW9jaztcclxuICB9O1xyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2sgPSB7XHJcbiAgICAgIGdldEl0ZW06IGplc3QuZm4oKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gTE9DQUxfU1RPUkFHRV9LRVkpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmIChrZXkgPT09IExPQ0FMX1NUT1JBR0VfTkFNRV9LRVkpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmIChrZXkgPT09IExPQ0FMX1NUT1JBR0VfRU1BSUxfS0VZKSByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfSksXHJcbiAgICAgIHNldEl0ZW06IGplc3QuZm4oKSxcclxuICAgICAgY2xlYXI6IGplc3QuZm4oKSxcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xyXG4gICAgICB2YWx1ZTogbG9jYWxTdG9yYWdlTW9jayxcclxuICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICB9KTtcclxuICAgIC8vIE1vY2sgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IGFuZCBkb2N1bWVudC5ib2R5IGZvciBhcHBseVNldHRpbmdzXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICdkb2N1bWVudEVsZW1lbnQnLCB7XHJcbiAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgY2xhc3NMaXN0OiB7IGFkZDogamVzdC5mbigpLCByZW1vdmU6IGplc3QuZm4oKSB9LFxyXG4gICAgICAgIHN0eWxlOiB7IGZvbnRTaXplOiAnJyB9LFxyXG4gICAgICB9LFxyXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAnYm9keScsIHtcclxuICAgICAgdmFsdWU6IHsgc3R5bGU6IHsgYmFja2dyb3VuZENvbG9yOiAnJyB9IH0sXHJcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICAvLyBNb2NrIHdpbmRvdy5kaXNwYXRjaEV2ZW50XHJcbiAgICBqZXN0LnNweU9uKHdpbmRvdywgJ2Rpc3BhdGNoRXZlbnQnKS5tb2NrSW1wbGVtZW50YXRpb24oamVzdC5mbigpKTtcclxuICB9KTtcclxuXHJcbiAgYWZ0ZXJFYWNoKCgpID0+IHtcclxuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdnZXRVc2VyU2V0dGluZ3Mgc2hvdWxkIHJldHVybiBkZWZhdWx0IHNldHRpbmdzIGlmIG5vdGhpbmcgaW4gbG9jYWxTdG9yYWdlJywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KGdldFVzZXJTZXR0aW5ncygpKS50b0VxdWFsKERFRkFVTFRfU0VUVElOR1MpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZ2V0VXNlclNldHRpbmdzIHNob3VsZCByZXR1cm4gcGFyc2VkIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlJywgKCkgPT4ge1xyXG4gICAgY29uc3QgY3VzdG9tU2V0dGluZ3MgPSB7XHJcbiAgICAgIC4uLkRFRkFVTFRfU0VUVElOR1MsXHJcbiAgICAgIGRpc3BsYXk6IHsgLi4uREVGQVVMVF9TRVRUSU5HUy5kaXNwbGF5LCBkYXJrTW9kZTogZmFsc2UgfSxcclxuICAgIH07XHJcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlT25jZShKU09OLnN0cmluZ2lmeShjdXN0b21TZXR0aW5ncykpO1xyXG4gICAgZXhwZWN0KGdldFVzZXJTZXR0aW5ncygpKS50b0VxdWFsKGN1c3RvbVNldHRpbmdzKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2dldFVzZXJTZXR0aW5ncyBzaG91bGQgbWVyZ2Ugc2F2ZWQgc2V0dGluZ3Mgd2l0aCBkZWZhdWx0cycsICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnRpYWxTZXR0aW5nczogUGFydGlhbDxVc2VyU2V0dGluZ3M+ID0ge1xyXG4gICAgICBwcm9maWxlOiB7IG5hbWU6ICdUZXN0IFVzZXInIH0gYXMgYW55LFxyXG4gICAgICBkaXNwbGF5OiB7IGNvbXBhY3RWaWV3OiB0cnVlIH0gYXMgYW55LFxyXG4gICAgICBub3RpZmljYXRpb25zOiB7fSBhcyBhbnksXHJcbiAgICAgIGJldHRpbmc6IHt9IGFzIGFueSxcclxuICAgICAgcHJpdmFjeToge30gYXMgYW55LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGV4cGVjdGVkU2V0dGluZ3MgPSB7XHJcbiAgICAgIC4uLkRFRkFVTFRfU0VUVElOR1MsXHJcbiAgICAgIHByb2ZpbGU6IHsgLi4uREVGQVVMVF9TRVRUSU5HUy5wcm9maWxlLCAuLi4ocGFydGlhbFNldHRpbmdzLnByb2ZpbGUgfHwge30pIH0sXHJcbiAgICAgIG5vdGlmaWNhdGlvbnM6IHtcclxuICAgICAgICAuLi5ERUZBVUxUX1NFVFRJTkdTLm5vdGlmaWNhdGlvbnMsXHJcbiAgICAgICAgLi4uKHBhcnRpYWxTZXR0aW5ncy5ub3RpZmljYXRpb25zIHx8IHt9KSxcclxuICAgICAgfSxcclxuICAgICAgZGlzcGxheTogeyAuLi5ERUZBVUxUX1NFVFRJTkdTLmRpc3BsYXksIC4uLihwYXJ0aWFsU2V0dGluZ3MuZGlzcGxheSB8fCB7fSkgfSxcclxuICAgICAgYmV0dGluZzogeyAuLi5ERUZBVUxUX1NFVFRJTkdTLmJldHRpbmcsIC4uLihwYXJ0aWFsU2V0dGluZ3MuYmV0dGluZyB8fCB7fSkgfSxcclxuICAgICAgcHJpdmFjeTogeyAuLi5ERUZBVUxUX1NFVFRJTkdTLnByaXZhY3ksIC4uLihwYXJ0aWFsU2V0dGluZ3MucHJpdmFjeSB8fCB7fSkgfSxcclxuICAgIH07XHJcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlT25jZShKU09OLnN0cmluZ2lmeShwYXJ0aWFsU2V0dGluZ3MpKTtcclxuICAgIGV4cGVjdChnZXRVc2VyU2V0dGluZ3MoKSkudG9FcXVhbChleHBlY3RlZFNldHRpbmdzKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2FwcGx5U2V0dGluZ3Mgc2hvdWxkIGFwcGx5IGRhcmsgbW9kZSBjbGFzcyBhbmQgYmFja2dyb3VuZCBjb2xvcicsICgpID0+IHtcclxuICAgIC8vIFRlc3QgZGFyayBtb2RlIHRydWVcclxuICAgIGNvbnN0IHNldHRpbmdzRGFyayA9IHtcclxuICAgICAgLi4uREVGQVVMVF9TRVRUSU5HUyxcclxuICAgICAgZGlzcGxheTogeyAuLi5ERUZBVUxUX1NFVFRJTkdTLmRpc3BsYXksIGRhcmtNb2RlOiB0cnVlIH0sXHJcbiAgICB9O1xyXG4gICAgYXBwbHlTZXR0aW5ncyhzZXR0aW5nc0RhcmspO1xyXG4gICAgZXhwZWN0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGFyaycpO1xyXG4gICAgZXhwZWN0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2RhcmsnKTtcclxuICAgIGV4cGVjdChkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvcikudG9CZSgnIzBmMTcyYScpO1xyXG5cclxuICAgIC8vIFJlc2V0IG1vY2tzIGZvciB0aGUgbmV4dCBhc3NlcnRpb24gd2l0aGluIHRoZSBzYW1lIHRlc3RcclxuICAgIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCBhcyBqZXN0Lk1vY2spLm1vY2tDbGVhcigpO1xyXG4gICAgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlIGFzIGplc3QuTW9jaykubW9ja0NsZWFyKCk7XHJcblxyXG4gICAgLy8gVGVzdCBkYXJrIG1vZGUgZmFsc2VcclxuICAgIGNvbnN0IHNldHRpbmdzTGlnaHQgPSB7XHJcbiAgICAgIC4uLkRFRkFVTFRfU0VUVElOR1MsXHJcbiAgICAgIGRpc3BsYXk6IHsgLi4uREVGQVVMVF9TRVRUSU5HUy5kaXNwbGF5LCBkYXJrTW9kZTogZmFsc2UgfSxcclxuICAgIH07XHJcbiAgICBhcHBseVNldHRpbmdzKHNldHRpbmdzTGlnaHQpO1xyXG4gICAgZXhwZWN0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGFyaycpO1xyXG4gICAgZXhwZWN0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2RhcmsnKTtcclxuICAgIGV4cGVjdChkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvcikudG9CZSgnI2ZmZmZmZicpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnYXBwbHlTZXR0aW5ncyBzaG91bGQgc2V0IGZvbnQgc2l6ZScsICgpID0+IHtcclxuICAgIGNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgICAuLi5ERUZBVUxUX1NFVFRJTkdTLFxyXG4gICAgICBkaXNwbGF5OiB7IC4uLkRFRkFVTFRfU0VUVElOR1MuZGlzcGxheSwgZm9udFNpemU6IDE4IH0sXHJcbiAgICB9O1xyXG4gICAgYXBwbHlTZXR0aW5ncyhzZXR0aW5ncyk7XHJcbiAgICBleHBlY3QoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmZvbnRTaXplKS50b0JlKCcxOHB4Jyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzYXZlVXNlclNldHRpbmdzIHNob3VsZCBzYXZlIHNldHRpbmdzIHRvIGxvY2FsU3RvcmFnZSBhbmQgYXBwbHkgdGhlbScsICgpID0+IHtcclxuICAgIGNvbnN0IGN1c3RvbVNldHRpbmdzID0ge1xyXG4gICAgICAuLi5ERUZBVUxUX1NFVFRJTkdTLFxyXG4gICAgICBwcm9maWxlOiB7IC4uLkRFRkFVTFRfU0VUVElOR1MucHJvZmlsZSwgbmFtZTogJ05ldyBOYW1lJyB9LFxyXG4gICAgfTtcclxuICAgIHNhdmVVc2VyU2V0dGluZ3MoY3VzdG9tU2V0dGluZ3MpO1xyXG4gICAgZXhwZWN0KGxvY2FsU3RvcmFnZU1vY2suc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgIExPQ0FMX1NUT1JBR0VfS0VZLFxyXG4gICAgICBKU09OLnN0cmluZ2lmeShjdXN0b21TZXR0aW5ncylcclxuICAgICk7XHJcbiAgICBleHBlY3QobG9jYWxTdG9yYWdlTW9jay5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChMT0NBTF9TVE9SQUdFX05BTUVfS0VZLCAnTmV3IE5hbWUnKTtcclxuICAgIGV4cGVjdChsb2NhbFN0b3JhZ2VNb2NrLnNldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICBMT0NBTF9TVE9SQUdFX0VNQUlMX0tFWSxcclxuICAgICAgREVGQVVMVF9TRVRUSU5HUy5wcm9maWxlLmVtYWlsXHJcbiAgICApO1xyXG4gICAgLy8gQ2hlY2sgaWYgYXBwbHlTZXR0aW5ncyB3YXMgY2FsbGVkXHJcbiAgICBleHBlY3QoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQpLnRvSGF2ZUJlZW5DYWxsZWQoKTsgLy8gRGFyayBtb2RlIGFwcGxpZWRcclxuICAgIGV4cGVjdCh3aW5kb3cuZGlzcGF0Y2hFdmVudCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xyXG4gICAgZXhwZWN0KHdpbmRvdy5kaXNwYXRjaEV2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdzZXR0aW5nc0NoYW5nZWQnLCB7IGRldGFpbDogY3VzdG9tU2V0dGluZ3MgfSlcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdnZXRVc2VyRGlzcGxheU5hbWUgc2hvdWxkIHJldHVybiBuYW1lIGZyb20gbG9jYWxTdG9yYWdlIGlmIGF2YWlsYWJsZScsICgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWVPbmNlKCdVc2VyIEZyb20gU3RvcmFnZScpO1xyXG4gICAgZXhwZWN0KGdldFVzZXJEaXNwbGF5TmFtZSgpKS50b0JlKCdVc2VyIEZyb20gU3RvcmFnZScpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZ2V0VXNlckRpc3BsYXlOYW1lIHNob3VsZCByZXR1cm4gbmFtZSBmcm9tIHNldHRpbmdzIGlmIG5vdCBpbiBsb2NhbFN0b3JhZ2UnLCAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja0ltcGxlbWVudGF0aW9uKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICBpZiAoa2V5ID09PSBMT0NBTF9TVE9SQUdFX0tFWSlcclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyBwcm9maWxlOiB7IG5hbWU6ICdOYW1lIEZyb20gU2V0dGluZ3MnIH0gfSk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSk7XHJcbiAgICBleHBlY3QoZ2V0VXNlckRpc3BsYXlOYW1lKCkpLnRvQmUoJ05hbWUgRnJvbSBTZXR0aW5ncycpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZ2V0VXNlckRpc3BsYXlOYW1lIHNob3VsZCByZXR1cm4gZGVmYXVsdCBpZiBubyBuYW1lIGZvdW5kJywgKCkgPT4ge1xyXG4gICAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxuICAgIGV4cGVjdChnZXRVc2VyRGlzcGxheU5hbWUoKSkudG9CZShERUZBVUxUX1NFVFRJTkdTLnByb2ZpbGUubmFtZSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdnZXRVc2VyRW1haWwgc2hvdWxkIHJldHVybiBlbWFpbCBmcm9tIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGUnLCAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlT25jZSgnZW1haWxAc3RvcmFnZS5jb20nKTtcclxuICAgIGV4cGVjdChnZXRVc2VyRW1haWwoKSkudG9CZSgnZW1haWxAc3RvcmFnZS5jb20nKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2dldFVzZXJFbWFpbCBzaG91bGQgcmV0dXJuIGVtYWlsIGZyb20gc2V0dGluZ3MgaWYgbm90IGluIGxvY2FsU3RvcmFnZScsICgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrSW1wbGVtZW50YXRpb24oKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGlmIChrZXkgPT09IExPQ0FMX1NUT1JBR0VfS0VZKVxyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IHByb2ZpbGU6IHsgZW1haWw6ICdlbWFpbEBzZXR0aW5ncy5jb20nIH0gfSk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSk7XHJcbiAgICBleHBlY3QoZ2V0VXNlckVtYWlsKCkpLnRvQmUoJ2VtYWlsQHNldHRpbmdzLmNvbScpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZ2V0VXNlckVtYWlsIHNob3VsZCByZXR1cm4gZGVmYXVsdCBpZiBubyBlbWFpbCBmb3VuZCcsICgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgICBleHBlY3QoZ2V0VXNlckVtYWlsKCkpLnRvQmUoREVGQVVMVF9TRVRUSU5HUy5wcm9maWxlLmVtYWlsKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2lzRGFya01vZGUgc2hvdWxkIHJldHVybiBkYXJrIG1vZGUgc2V0dGluZycsICgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWVPbmNlKEpTT04uc3RyaW5naWZ5KHsgZGlzcGxheTogeyBkYXJrTW9kZTogdHJ1ZSB9IH0pKTtcclxuICAgIGV4cGVjdChpc0RhcmtNb2RlKCkpLnRvQmUodHJ1ZSk7XHJcblxyXG4gICAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZU9uY2UoSlNPTi5zdHJpbmdpZnkoeyBkaXNwbGF5OiB7IGRhcmtNb2RlOiBmYWxzZSB9IH0pKTtcclxuICAgIGV4cGVjdChpc0RhcmtNb2RlKCkpLnRvQmUoZmFsc2UpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnaXNEYXJrTW9kZSBzaG91bGQgcmV0dXJuIGRlZmF1bHQgaWYgc2V0dGluZ3Mgbm90IGZvdW5kJywgKCkgPT4ge1xyXG4gICAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxuICAgIGV4cGVjdChpc0RhcmtNb2RlKCkpLnRvQmUoREVGQVVMVF9TRVRUSU5HUy5kaXNwbGF5LmRhcmtNb2RlKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2luaXRpYWxpemVTZXR0aW5ncyBzaG91bGQgZ2V0IGFuZCBhcHBseSBzZXR0aW5ncycsICgpID0+IHtcclxuICAgIGNvbnN0IHNldHRpbmdzVG9BcHBseSA9IHtcclxuICAgICAgLi4uREVGQVVMVF9TRVRUSU5HUyxcclxuICAgICAgZGlzcGxheTogeyAuLi5ERUZBVUxUX1NFVFRJTkdTLmRpc3BsYXksIGRhcmtNb2RlOiBmYWxzZSB9LFxyXG4gICAgfTtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWVPbmNlKEpTT04uc3RyaW5naWZ5KHNldHRpbmdzVG9BcHBseSkpO1xyXG4gICAgaW5pdGlhbGl6ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgLy8gVmVyaWZ5IHNldHRpbmdzIHdlcmUgZmV0Y2hlZCBhbmQgYXBwbGllZFxyXG4gICAgZXhwZWN0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGFyaycpO1xyXG4gICAgZXhwZWN0KGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yKS50b0JlKCcjZmZmZmZmJyk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxPQUFBO0FBWUFDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNO0VBQ25DLE1BQU1DLGlCQUFpQixHQUFHLHlCQUF5QjtFQUNuRCxNQUFNQyxzQkFBc0IsR0FBRyxxQkFBcUI7RUFDcEQsTUFBTUMsdUJBQXVCLEdBQUcsc0JBQXNCO0VBRXRELElBQUlDLGdCQUlIO0VBRURDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZELGdCQUFnQixHQUFHO01BQ2pCRSxPQUFP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