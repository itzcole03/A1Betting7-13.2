{"version":3,"names":["_react","require","_SimplePropsService","useSimplePropOllamaData","state","actions","console","log","filters","selectedSport","fetchData","useCallback","isLoading","setIsLoading","setError","setLoadingMessage","sport","setProjections","props","fetchPropsSimple","limit","offset","length","convertedProps","map","prop","overOdds","underOdds","error","Error","message","useEffect","catch"],"sources":["useSimplePropOllamaData.ts"],"sourcesContent":["/**\r\n * Simple PropOllama Data Hook\r\n * Bypasses all complex services and managers for debugging\r\n */\r\n\r\nimport { useCallback, useEffect } from 'react';\r\nimport { fetchPropsSimple } from '../../services/SimplePropsService';\r\nimport { PropOllamaActions, PropOllamaState } from './usePropOllamaState';\r\n\r\ninterface UseSimplePropOllamaDataProps {\r\n  state: PropOllamaState;\r\n  actions: PropOllamaActions;\r\n}\r\n\r\nexport function useSimplePropOllamaData({ state, actions }: UseSimplePropOllamaDataProps) {\r\n  console.log(\r\n    '[useSimplePropOllamaData] Hook initialized with sport:',\r\n    state.filters.selectedSport\r\n  );\r\n\r\n  const fetchData = useCallback(async () => {\r\n    if (state.isLoading) return; // Prevent multiple concurrent requests\r\n\r\n    console.log('[useSimplePropOllamaData] Starting data fetch...');\r\n    actions.setIsLoading(true);\r\n    actions.setError(null);\r\n    actions.setLoadingMessage('Fetching props...');\r\n\r\n    try {\r\n      const sport = state.filters.selectedSport;\r\n\r\n      // Skip fetching for 'All' sport\r\n      if (sport === 'All') {\r\n        actions.setProjections([]);\r\n        return;\r\n      }\r\n\r\n      console.log('[useSimplePropOllamaData] Fetching props for sport:', sport);\r\n\r\n      const props = await fetchPropsSimple(sport, 'player', {\r\n        limit: 20, // Start with smaller number for testing\r\n        offset: 0,\r\n      });\r\n\r\n      console.log('[useSimplePropOllamaData] ✅ Fetched props:', props.length);\r\n\r\n      // Convert SimpleFeaturedProp to the format expected by the state\r\n      const convertedProps = props.map(prop => ({\r\n        ...prop,\r\n        overOdds: prop.overOdds,\r\n        underOdds: prop.underOdds,\r\n      }));\r\n\r\n      actions.setProjections(convertedProps as any);\r\n      actions.setLoadingMessage('Complete!');\r\n    } catch (error) {\r\n      console.error('[useSimplePropOllamaData] ❌ Error:', error);\r\n      actions.setError(error instanceof Error ? error.message : 'Failed to fetch props');\r\n    } finally {\r\n      actions.setIsLoading(false);\r\n      actions.setLoadingMessage('');\r\n    }\r\n  }, [state.filters.selectedSport, state.isLoading, actions]);\r\n\r\n  // Effect to trigger data fetching when sport changes\n  useEffect(() => {\n    console.log('[useSimplePropOllamaData] Sport changed to:', state.filters.selectedSport);\n    fetchData().catch(error => {\n      console.error('[useSimplePropOllamaData] useEffect fetchData failed:', error);\n    });\n  }, [state.filters.selectedSport, fetchData]);\r\n\r\n  return {\r\n    fetchData,\r\n  };\r\n}\n"],"mappings":";;;;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAD,OAAA;AANA;AACA;AACA;AACA;;AAWO,SAASE,uBAAuBA,CAAC;EAAEC,KAAK;EAAEC;AAAsC,CAAC,EAAE;EACxFC,OAAO,CAACC,GAAG,CACT,wDAAwD,EACxDH,KAAK,CAACI,OAAO,CAACC,aAChB,CAAC;EAED,MAAMC,SAAS,GAAG,IAAAC,kBAAW,EAAC,YAAY;IACxC,IAAIP,KAAK,CAACQ,SAAS,EAAE,OAAO,CAAC;;IAE7BN,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;IAC/DF,OAAO,CAACQ,YAAY,CAAC,IAAI,CAAC;IAC1BR,OAAO,CAACS,QAAQ,CAAC,IAAI,CAAC;IACtBT,OAAO,CAACU,iBAAiB,CAAC,mBAAmB,CAAC;IAE9C,IAAI;MACF,MAAMC,KAAK,GAAGZ,KAAK,CAACI,OAAO,CAACC,aAAa;;MAEzC;MACA,IAAIO,KAAK,KAAK,KAAK,EAAE;QACnBX,OAAO,CAACY,cAAc,CAAC,EAAE,CAAC;QAC1B;MACF;MAEAX,OAAO,CAACC,GAAG,CAAC,qDAAqD,EAAES,KAAK,CAAC;MAEzE,MAAME,KAAK,GAAG,MAAM,IAAAC,oCAAgB,EAACH,KAAK,EAAE,QAAQ,EAAE;QACpDI,KAAK,EAAE,EAAE;QAAE;QACXC,MAAM,EAAE;MACV,CAAC,CAAC;MAEFf,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEW,KAAK,CAACI,MAAM,CAAC;;MAEvE;MACA,MAAMC,cAAc,GAAGL,KAAK,CAACM,GAAG,CAACC,IAAI,KAAK;QACxC,GAAGA,IAAI;QACPC,QAAQ,EAAED,IAAI,CAACC,QAAQ;QACvBC,SAAS,EAAEF,IAAI,CAACE;MAClB,CAAC,CAAC,CAAC;MAEHtB,OAAO,CAACY,cAAc,CAACM,cAAqB,CAAC;MAC7ClB,OAAO,CAACU,iBAAiB,CAAC,WAAW,CAAC;IACxC,CAAC,CAAC,OAAOa,KAAK,EAAE;MACdtB,OAAO,CAACsB,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1DvB,OAAO,CAACS,QAAQ,CAACc,KAAK,YAAYC,KAAK,GAAGD,KAAK,CAACE,OAAO,GAAG,uBAAuB,CAAC;IACpF,CAAC,SAAS;MACRzB,OAAO,CAACQ,YAAY,CAAC,KAAK,CAAC;MAC3BR,OAAO,CAACU,iBAAiB,CAAC,EAAE,CAAC;IAC/B;EACF,CAAC,EAAE,CAACX,KAAK,CAACI,OAAO,CAACC,aAAa,EAAEL,KAAK,CAACQ,SAAS,EAAEP,OAAO,CAAC,CAAC;;EAE3D;EACA,IAAA0B,gBAAS,EAAC,MAAM;IACdzB,OAAO,CAACC,GAAG,CAAC,6CAA6C,EAAEH,KAAK,CAACI,OAAO,CAACC,aAAa,CAAC;IACvFC,SAAS,CAAC,CAAC,CAACsB,KAAK,CAACJ,KAAK,IAAI;MACzBtB,OAAO,CAACsB,KAAK,CAAC,uDAAuD,EAAEA,KAAK,CAAC;IAC/E,CAAC,CAAC;EACJ,CAAC,EAAE,CAACxB,KAAK,CAACI,OAAO,CAACC,aAAa,EAAEC,SAAS,CAAC,CAAC;EAE5C,OAAO;IACLA;EACF,CAAC;AACH","ignoreList":[]}