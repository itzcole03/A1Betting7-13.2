{"version":3,"names":["UnifiedConfig","constructor","config","defaults","api","baseUrl","process","env","VITE_API_BASE_URL","window","__VITE_ENV__","e","timeout","retries","cache","defaultTTL","maxSize","logging","level","maxEntries","features","realTimeUpdates","analytics","notifications","getInstance","instance","get","key","defaultValue","_keys","split","value","_k","set","current","i","length","has","delete","reset","getAll","merge","newConfig","deepMerge","target","source","result","_key","Array","isArray","getApiUrl","exports","_UnifiedConfig","_unifiedConfig"],"sources":["UnifiedConfig.ts"],"sourcesContent":["interface ConfigStore {\r\n  [key: string]: unknown;\r\n}\r\n\r\nexport class UnifiedConfig {\r\n  private static instance: UnifiedConfig;\r\n  private config: ConfigStore = {};\r\n  private defaults: ConfigStore = {\r\n    api: {\r\n      // Use getEnvVar for robust env access\r\n      baseUrl: (() => {\n        try {\n          // Use environment variables with fallback\n          if (typeof process !== 'undefined' && process.env?.VITE_API_BASE_URL) {\n            return process.env.VITE_API_BASE_URL;\n          }\n          if (typeof window !== 'undefined' && (window as any).__VITE_ENV__?.VITE_API_BASE_URL) {\n            return (window as any).__VITE_ENV__.VITE_API_BASE_URL;\n          }\n          return 'http://localhost:8000'; // Updated default port\n        } catch (e) {\n          return 'http://localhost:8000';\n        }\r\n      })(),\r\n      timeout: 10000,\r\n      retries: 3,\r\n    },\r\n    cache: {\r\n      defaultTTL: 300000, // 5 minutes\r\n      maxSize: 1000,\r\n    },\r\n    logging: {\r\n      level: 'info',\r\n      maxEntries: 1000,\r\n    },\r\n    features: {\r\n      realTimeUpdates: true,\r\n      analytics: true,\r\n      notifications: true,\r\n    },\r\n  };\r\n\r\n  private constructor() {\r\n    this.config = { ...this.defaults };\r\n  }\r\n\r\n  static getInstance(): UnifiedConfig {\r\n    if (!UnifiedConfig.instance) {\r\n      UnifiedConfig.instance = new UnifiedConfig();\r\n    }\r\n    return UnifiedConfig.instance;\r\n  }\r\n\r\n  get<T>(key: string, defaultValue?: T): T {\r\n    const _keys = key.split('.');\r\n    let value: any = this.config;\r\n\r\n    for (const _k of _keys) {\r\n      if (value && typeof value === 'object' && _k in value) {\r\n        value = value[_k];\r\n      } else {\r\n        return defaultValue as T;\r\n      }\r\n    }\r\n\r\n    return value as T;\r\n  }\r\n\r\n  set(key: string, value: unknown): void {\r\n    const _keys = key.split('.');\r\n    let current: ConfigStore = this.config;\r\n\r\n    for (let i = 0; i < _keys.length - 1; i++) {\r\n      const _k = _keys[i];\r\n      if (!(_k in current) || typeof current[_k] !== 'object' || current[_k] === null) {\r\n        current[_k] = {};\r\n      }\r\n      current = current[_k] as ConfigStore;\r\n    }\r\n\r\n    current[_keys[_keys.length - 1]] = value;\r\n  }\r\n\r\n  has(key: string): boolean {\r\n    const _keys = key.split('.');\r\n    let value = this.config;\r\n\r\n    for (const _k of _keys) {\r\n      if (value && typeof value === 'object' && _k in value) {\r\n        value = (value as any)[_k];\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  delete(key: string): void {\r\n    const _keys = key.split('.');\r\n    let current: ConfigStore = this.config;\r\n\r\n    for (let i = 0; i < _keys.length - 1; i++) {\r\n      const _k = _keys[i];\r\n      if (!(_k in current) || typeof current[_k] !== 'object' || current[_k] === null) {\r\n        return;\r\n      }\r\n      current = current[_k] as ConfigStore;\r\n    }\r\n\r\n    delete current[_keys[_keys.length - 1]];\r\n  }\r\n\r\n  reset(): void {\r\n    this.config = { ...this.defaults };\r\n  }\r\n\r\n  getAll(): ConfigStore {\r\n    return { ...this.config };\r\n  }\r\n\r\n  merge(newConfig: ConfigStore): void {\r\n    this.config = this.deepMerge(this.config, newConfig) as ConfigStore;\r\n  }\r\n\r\n  private deepMerge(target: unknown, source: unknown): unknown {\r\n    const result = { ...(target as any) };\r\n\r\n    for (const _key in source as any) {\r\n      if (\r\n        (source as any)[_key] &&\r\n        typeof (source as any)[_key] === 'object' &&\r\n        !Array.isArray((source as any)[_key])\r\n      ) {\r\n        result[_key] = this.deepMerge(result[_key] || {}, (source as any)[_key]);\r\n      } else {\r\n        result[_key] = (source as any)[_key];\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // Add this method to match the d.ts and provide the API base URL\r\n  getApiUrl(): string {\r\n    return this.get('api.baseUrl', 'http://localhost:3001');\r\n  }\r\n}\r\n\r\nexport const _unifiedConfig = UnifiedConfig.getInstance();\n"],"mappings":"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","ignoreList":[]}