4e0c49e4746f49345834c648c8b0f313
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useOptimizedDataFetching = useOptimizedDataFetching;
var _react = require("react");
// Custom debounce implementation since lodash might not be available
function debounce(func, delay) {
  let timeoutId = null;
  const debouncedFunction = (...args) => {
    if (timeoutId) {
      clearTimeout(timeoutId);
    }
    timeoutId = setTimeout(() => func(...args), delay);
  };
  debouncedFunction.cancel = () => {
    if (timeoutId) {
      clearTimeout(timeoutId);
      timeoutId = null;
    }
  };
  return debouncedFunction;
}
/**
 * Optimized data fetching hook with debouncing, caching, and proper cleanup
 * to prevent unnecessary re-renders and improve performance.
 */
function useOptimizedDataFetching(fetchFunction, dependencies, options = {}) {
  const {
    debounceDelay = 300,
    cacheTime = 5 * 60 * 1000,
    // 5 minutes
    autoRefresh = false,
    refreshInterval = 30000,
    // 30 seconds
    maxRetries = 3
  } = options;
  const [data, setData] = (0, _react.useState)(null);
  const [loading, setLoading] = (0, _react.useState)(false);
  const [error, setError] = (0, _react.useState)(null);
  const cacheRef = (0, _react.useRef)(new Map());
  const abortControllerRef = (0, _react.useRef)(null);
  const intervalRef = (0, _react.useRef)(null);
  const retryCountRef = (0, _react.useRef)(0);

  // Create cache key from dependencies
  const cacheKey = JSON.stringify(dependencies);

  // Check cache for existing data
  const getCachedData = (0, _react.useCallback)(() => {
    const cached = cacheRef.current.get(cacheKey);
    if (cached && Date.now() < cached.expires) {
      return cached.data;
    }
    return null;
  }, [cacheKey]);

  // Store data in cache
  const setCachedData = (0, _react.useCallback)(newData => {
    cacheRef.current.set(cacheKey, {
      data: newData,
      timestamp: Date.now(),
      expires: Date.now() + cacheTime
    });
  }, [cacheKey, cacheTime]);

  // Fetch data with proper error handling and retries
  const fetchData = (0, _react.useCallback)(async (isRetry = false) => {
    // Check cache first
    const cachedData = getCachedData();
    if (cachedData && !isRetry) {
      setData(cachedData);
      setError(null);
      return;
    }

    // Cancel any ongoing request
    if (abortControllerRef.current) {
      abortControllerRef.current.abort();
    }
    abortControllerRef.current = new AbortController();
    setLoading(true);
    setError(null);
    try {
      const result = await fetchFunction();

      // Check if request was aborted
      if (abortControllerRef.current?.signal.aborted) {
        return;
      }
      setData(result);
      setCachedData(result);
      retryCountRef.current = 0;
    } catch (err) {
      // Check if request was aborted
      if (abortControllerRef.current?.signal.aborted) {
        return;
      }
      const errorMessage = err instanceof Error ? err.message : 'Unknown error';

      // Retry logic
      if (retryCountRef.current < maxRetries) {
        retryCountRef.current++;
        console.warn(`Data fetch failed, retrying (${retryCountRef.current}/${maxRetries}):`, errorMessage);
        setTimeout(() => fetchData(true), 1000 * retryCountRef.current);
        return;
      }
      setError(errorMessage);
      console.error('Data fetch failed after all retries:', err);
    } finally {
      setLoading(false);
    }
  }, [fetchFunction, getCachedData, setCachedData, maxRetries]);

  // Debounced fetch function
  const debouncedFetch = (0, _react.useCallback)(debounce(() => fetchData(), debounceDelay), [fetchData, debounceDelay]);

  // Effect to trigger data fetching when dependencies change
  (0, _react.useEffect)(() => {
    debouncedFetch();

    // Cleanup debounced function on dependency change
    return () => {
      debouncedFetch.cancel();
    };
  }, [debouncedFetch, ...dependencies]);

  // Auto-refresh effect
  (0, _react.useEffect)(() => {
    if (!autoRefresh) return;
    intervalRef.current = setInterval(() => {
      fetchData();
    }, refreshInterval);
    return () => {
      if (intervalRef.current) {
        clearInterval(intervalRef.current);
      }
    };
  }, [autoRefresh, refreshInterval, fetchData]);

  // Cleanup on unmount
  (0, _react.useEffect)(() => {
    return () => {
      if (abortControllerRef.current) {
        abortControllerRef.current.abort();
      }
      if (intervalRef.current) {
        clearInterval(intervalRef.current);
      }
      debouncedFetch.cancel();
    };
  }, []);

  // Manual refresh function
  const refresh = (0, _react.useCallback)(() => {
    // Clear cache for this key
    cacheRef.current.delete(cacheKey);
    fetchData();
  }, [cacheKey, fetchData]);
  return {
    data,
    loading,
    error,
    refresh,
    isStale: data ? Date.now() - (cacheRef.current.get(cacheKey)?.timestamp || 0) > cacheTime : false
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiZGVib3VuY2UiLCJmdW5jIiwiZGVsYXkiLCJ0aW1lb3V0SWQiLCJkZWJvdW5jZWRGdW5jdGlvbiIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwidXNlT3B0aW1pemVkRGF0YUZldGNoaW5nIiwiZmV0Y2hGdW5jdGlvbiIsImRlcGVuZGVuY2llcyIsIm9wdGlvbnMiLCJkZWJvdW5jZURlbGF5IiwiY2FjaGVUaW1lIiwiYXV0b1JlZnJlc2giLCJyZWZyZXNoSW50ZXJ2YWwiLCJtYXhSZXRyaWVzIiwiZGF0YSIsInNldERhdGEiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNhY2hlUmVmIiwidXNlUmVmIiwiTWFwIiwiYWJvcnRDb250cm9sbGVyUmVmIiwiaW50ZXJ2YWxSZWYiLCJyZXRyeUNvdW50UmVmIiwiY2FjaGVLZXkiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0Q2FjaGVkRGF0YSIsInVzZUNhbGxiYWNrIiwiY2FjaGVkIiwiY3VycmVudCIsImdldCIsIkRhdGUiLCJub3ciLCJleHBpcmVzIiwic2V0Q2FjaGVkRGF0YSIsIm5ld0RhdGEiLCJzZXQiLCJ0aW1lc3RhbXAiLCJmZXRjaERhdGEiLCJpc1JldHJ5IiwiY2FjaGVkRGF0YSIsImFib3J0IiwiQWJvcnRDb250cm9sbGVyIiwicmVzdWx0Iiwic2lnbmFsIiwiYWJvcnRlZCIsImVyciIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsImNvbnNvbGUiLCJ3YXJuIiwiZGVib3VuY2VkRmV0Y2giLCJ1c2VFZmZlY3QiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJyZWZyZXNoIiwiZGVsZXRlIiwiaXNTdGFsZSJdLCJzb3VyY2VzIjpbInVzZU9wdGltaXplZERhdGFGZXRjaGluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuLy8gQ3VzdG9tIGRlYm91bmNlIGltcGxlbWVudGF0aW9uIHNpbmNlIGxvZGFzaCBtaWdodCBub3QgYmUgYXZhaWxhYmxlXHJcbmZ1bmN0aW9uIGRlYm91bmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXHJcbiAgZnVuYzogVCxcclxuICBkZWxheTogbnVtYmVyXHJcbik6IFQgJiB7IGNhbmNlbDogKCkgPT4gdm9pZCB9IHtcclxuICBsZXQgdGltZW91dElkOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBjb25zdCBkZWJvdW5jZWRGdW5jdGlvbiA9ICgoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4ge1xyXG4gICAgaWYgKHRpbWVvdXRJZCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgIH1cclxuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gZnVuYyguLi5hcmdzKSwgZGVsYXkpO1xyXG4gIH0pIGFzIFQgJiB7IGNhbmNlbDogKCkgPT4gdm9pZCB9O1xyXG5cclxuICBkZWJvdW5jZWRGdW5jdGlvbi5jYW5jZWwgPSAoKSA9PiB7XHJcbiAgICBpZiAodGltZW91dElkKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgICB0aW1lb3V0SWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiBkZWJvdW5jZWRGdW5jdGlvbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIERhdGFGZXRjaGluZ09wdGlvbnMge1xyXG4gIGRlYm91bmNlRGVsYXk/OiBudW1iZXI7XHJcbiAgY2FjaGVUaW1lPzogbnVtYmVyO1xyXG4gIGF1dG9SZWZyZXNoPzogYm9vbGVhbjtcclxuICByZWZyZXNoSW50ZXJ2YWw/OiBudW1iZXI7XHJcbiAgbWF4UmV0cmllcz86IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIENhY2hlRW50cnk8VD4ge1xyXG4gIGRhdGE6IFQ7XHJcbiAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgZXhwaXJlczogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogT3B0aW1pemVkIGRhdGEgZmV0Y2hpbmcgaG9vayB3aXRoIGRlYm91bmNpbmcsIGNhY2hpbmcsIGFuZCBwcm9wZXIgY2xlYW51cFxyXG4gKiB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlLXJlbmRlcnMgYW5kIGltcHJvdmUgcGVyZm9ybWFuY2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlT3B0aW1pemVkRGF0YUZldGNoaW5nPFQ+KFxyXG4gIGZldGNoRnVuY3Rpb246ICgpID0+IFByb21pc2U8VD4sXHJcbiAgZGVwZW5kZW5jaWVzOiByZWFkb25seSB1bmtub3duW10sXHJcbiAgb3B0aW9uczogRGF0YUZldGNoaW5nT3B0aW9ucyA9IHt9XHJcbikge1xyXG4gIGNvbnN0IHtcclxuICAgIGRlYm91bmNlRGVsYXkgPSAzMDAsXHJcbiAgICBjYWNoZVRpbWUgPSA1ICogNjAgKiAxMDAwLCAvLyA1IG1pbnV0ZXNcclxuICAgIGF1dG9SZWZyZXNoID0gZmFsc2UsXHJcbiAgICByZWZyZXNoSW50ZXJ2YWwgPSAzMDAwMCwgLy8gMzAgc2Vjb25kc1xyXG4gICAgbWF4UmV0cmllcyA9IDMsXHJcbiAgfSA9IG9wdGlvbnM7XHJcblxyXG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlPFQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBcclxuICBjb25zdCBjYWNoZVJlZiA9IHVzZVJlZjxNYXA8c3RyaW5nLCBDYWNoZUVudHJ5PFQ+Pj4obmV3IE1hcCgpKTtcclxuICBjb25zdCBhYm9ydENvbnRyb2xsZXJSZWYgPSB1c2VSZWY8QWJvcnRDb250cm9sbGVyIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgaW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCByZXRyeUNvdW50UmVmID0gdXNlUmVmKDApO1xyXG5cclxuICAvLyBDcmVhdGUgY2FjaGUga2V5IGZyb20gZGVwZW5kZW5jaWVzXHJcbiAgY29uc3QgY2FjaGVLZXkgPSBKU09OLnN0cmluZ2lmeShkZXBlbmRlbmNpZXMpO1xyXG5cclxuICAvLyBDaGVjayBjYWNoZSBmb3IgZXhpc3RpbmcgZGF0YVxyXG4gIGNvbnN0IGdldENhY2hlZERhdGEgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZVJlZi5jdXJyZW50LmdldChjYWNoZUtleSk7XHJcbiAgICBpZiAoY2FjaGVkICYmIERhdGUubm93KCkgPCBjYWNoZWQuZXhwaXJlcykge1xyXG4gICAgICByZXR1cm4gY2FjaGVkLmRhdGE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9LCBbY2FjaGVLZXldKTtcclxuXHJcbiAgLy8gU3RvcmUgZGF0YSBpbiBjYWNoZVxyXG4gIGNvbnN0IHNldENhY2hlZERhdGEgPSB1c2VDYWxsYmFjaygobmV3RGF0YTogVCkgPT4ge1xyXG4gICAgY2FjaGVSZWYuY3VycmVudC5zZXQoY2FjaGVLZXksIHtcclxuICAgICAgZGF0YTogbmV3RGF0YSxcclxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICBleHBpcmVzOiBEYXRlLm5vdygpICsgY2FjaGVUaW1lLFxyXG4gICAgfSk7XHJcbiAgfSwgW2NhY2hlS2V5LCBjYWNoZVRpbWVdKTtcclxuXHJcbiAgLy8gRmV0Y2ggZGF0YSB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZyBhbmQgcmV0cmllc1xyXG4gIGNvbnN0IGZldGNoRGF0YSA9IHVzZUNhbGxiYWNrKGFzeW5jIChpc1JldHJ5ID0gZmFsc2UpID0+IHtcclxuICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0XHJcbiAgICBjb25zdCBjYWNoZWREYXRhID0gZ2V0Q2FjaGVkRGF0YSgpO1xyXG4gICAgaWYgKGNhY2hlZERhdGEgJiYgIWlzUmV0cnkpIHtcclxuICAgICAgc2V0RGF0YShjYWNoZWREYXRhKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5jZWwgYW55IG9uZ29pbmcgcmVxdWVzdFxyXG4gICAgaWYgKGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50LmFib3J0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hGdW5jdGlvbigpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgaWYgcmVxdWVzdCB3YXMgYWJvcnRlZFxyXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQ/LnNpZ25hbC5hYm9ydGVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXREYXRhKHJlc3VsdCk7XHJcbiAgICAgIHNldENhY2hlZERhdGEocmVzdWx0KTtcclxuICAgICAgcmV0cnlDb3VudFJlZi5jdXJyZW50ID0gMDtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAvLyBDaGVjayBpZiByZXF1ZXN0IHdhcyBhYm9ydGVkXHJcbiAgICAgIGlmIChhYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudD8uc2lnbmFsLmFib3J0ZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXRyeSBsb2dpY1xyXG4gICAgICBpZiAocmV0cnlDb3VudFJlZi5jdXJyZW50IDwgbWF4UmV0cmllcykge1xyXG4gICAgICAgIHJldHJ5Q291bnRSZWYuY3VycmVudCsrO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgRGF0YSBmZXRjaCBmYWlsZWQsIHJldHJ5aW5nICgke3JldHJ5Q291bnRSZWYuY3VycmVudH0vJHttYXhSZXRyaWVzfSk6YCwgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGZldGNoRGF0YSh0cnVlKSwgMTAwMCAqIHJldHJ5Q291bnRSZWYuY3VycmVudCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhIGZldGNoIGZhaWxlZCBhZnRlciBhbGwgcmV0cmllczonLCBlcnIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW2ZldGNoRnVuY3Rpb24sIGdldENhY2hlZERhdGEsIHNldENhY2hlZERhdGEsIG1heFJldHJpZXNdKTtcclxuXHJcbiAgLy8gRGVib3VuY2VkIGZldGNoIGZ1bmN0aW9uXHJcbiAgY29uc3QgZGVib3VuY2VkRmV0Y2ggPSB1c2VDYWxsYmFjayhcclxuICAgIGRlYm91bmNlKCgpID0+IGZldGNoRGF0YSgpLCBkZWJvdW5jZURlbGF5KSxcclxuICAgIFtmZXRjaERhdGEsIGRlYm91bmNlRGVsYXldXHJcbiAgKTtcclxuXHJcbiAgLy8gRWZmZWN0IHRvIHRyaWdnZXIgZGF0YSBmZXRjaGluZyB3aGVuIGRlcGVuZGVuY2llcyBjaGFuZ2VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZGVib3VuY2VkRmV0Y2goKTtcclxuXHJcbiAgICAvLyBDbGVhbnVwIGRlYm91bmNlZCBmdW5jdGlvbiBvbiBkZXBlbmRlbmN5IGNoYW5nZVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZGVib3VuY2VkRmV0Y2guY2FuY2VsKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtkZWJvdW5jZWRGZXRjaCwgLi4uZGVwZW5kZW5jaWVzXSk7XHJcblxyXG4gIC8vIEF1dG8tcmVmcmVzaCBlZmZlY3RcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFhdXRvUmVmcmVzaCkgcmV0dXJuO1xyXG5cclxuICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGZldGNoRGF0YSgpO1xyXG4gICAgfSwgcmVmcmVzaEludGVydmFsKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAoaW50ZXJ2YWxSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2F1dG9SZWZyZXNoLCByZWZyZXNoSW50ZXJ2YWwsIGZldGNoRGF0YV0pO1xyXG5cclxuICAvLyBDbGVhbnVwIG9uIHVubW91bnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQuYWJvcnQoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaW50ZXJ2YWxSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgICAgZGVib3VuY2VkRmV0Y2guY2FuY2VsKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gTWFudWFsIHJlZnJlc2ggZnVuY3Rpb25cclxuICBjb25zdCByZWZyZXNoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgLy8gQ2xlYXIgY2FjaGUgZm9yIHRoaXMga2V5XHJcbiAgICBjYWNoZVJlZi5jdXJyZW50LmRlbGV0ZShjYWNoZUtleSk7XHJcbiAgICBmZXRjaERhdGEoKTtcclxuICB9LCBbY2FjaGVLZXksIGZldGNoRGF0YV0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZGF0YSxcclxuICAgIGxvYWRpbmcsXHJcbiAgICBlcnJvcixcclxuICAgIHJlZnJlc2gsXHJcbiAgICBpc1N0YWxlOiBkYXRhID8gRGF0ZS5ub3coKSAtIChjYWNoZVJlZi5jdXJyZW50LmdldChjYWNoZUtleSk/LnRpbWVzdGFtcCB8fCAwKSA+IGNhY2hlVGltZSA6IGZhbHNlLFxyXG4gIH07XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFFQTtBQUNBLFNBQVNDLFFBQVFBLENBQ2ZDLElBQU8sRUFDUEMsS0FBYSxFQUNlO0VBQzVCLElBQUlDLFNBQWdDLEdBQUcsSUFBSTtFQUUzQyxNQUFNQyxpQkFBaUIsR0FBSUEsQ0FBQyxHQUFHQyxJQUFtQixLQUFLO0lBQ3JELElBQUlGLFNBQVMsRUFBRTtNQUNiRyxZQUFZLENBQUNILFNBQVMsQ0FBQztJQUN6QjtJQUNBQSxTQUFTLEdBQUdJLFVBQVUsQ0FBQyxNQUFNTixJQUFJLENBQUMsR0FBR0ksSUFBSSxDQUFDLEVBQUVILEtBQUssQ0FBQztFQUNwRCxDQUFnQztFQUVoQ0UsaUJBQWlCLENBQUNJLE1BQU0sR0FBRyxNQUFNO0lBQy9CLElBQUlMLFNBQVMsRUFBRTtNQUNiRyxZQUFZLENBQUNILFNBQVMsQ0FBQztNQUN2QkEsU0FBUyxHQUFHLElBQUk7SUFDbEI7RUFDRixDQUFDO0VBRUQsT0FBT0MsaUJBQWlCO0FBQzFCO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0ssd0JBQXdCQSxDQUN0Q0MsYUFBK0IsRUFDL0JDLFlBQWdDLEVBQ2hDQyxPQUE0QixHQUFHLENBQUMsQ0FBQyxFQUNqQztFQUNBLE1BQU07SUFDSkMsYUFBYSxHQUFHLEdBQUc7SUFDbkJDLFNBQVMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUk7SUFBRTtJQUMzQkMsV0FBVyxHQUFHLEtBQUs7SUFDbkJDLGVBQWUsR0FBRyxLQUFLO0lBQUU7SUFDekJDLFVBQVUsR0FBRztFQUNmLENBQUMsR0FBR0wsT0FBTztFQUVYLE1BQU0sQ0FBQ00sSUFBSSxFQUFFQyxPQUFPLENBQUMsR0FBRyxJQUFBQyxlQUFRLEVBQVcsSUFBSSxDQUFDO0VBQ2hELE1BQU0sQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLENBQUMsR0FBRyxJQUFBRixlQUFRLEVBQUMsS0FBSyxDQUFDO0VBQzdDLE1BQU0sQ0FBQ0csS0FBSyxFQUFFQyxRQUFRLENBQUMsR0FBRyxJQUFBSixlQUFRLEVBQWdCLElBQUksQ0FBQztFQUV2RCxNQUFNSyxRQUFRLEdBQUcsSUFBQUMsYUFBTSxFQUE2QixJQUFJQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0VBQzlELE1BQU1DLGtCQUFrQixHQUFHLElBQUFGLGFBQU0sRUFBeUIsSUFBSSxDQUFDO0VBQy9ELE1BQU1HLFdBQVcsR0FBRyxJQUFBSCxhQUFNLEVBQXdCLElBQUksQ0FBQztFQUN2RCxNQUFNSSxhQUFhLEdBQUcsSUFBQUosYUFBTSxFQUFDLENBQUMsQ0FBQzs7RUFFL0I7RUFDQSxNQUFNSyxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsU0FBUyxDQUFDdEIsWUFBWSxDQUFDOztFQUU3QztFQUNBLE1BQU11QixhQUFhLEdBQUcsSUFBQUMsa0JBQVcsRUFBQyxNQUFNO0lBQ3RDLE1BQU1DLE1BQU0sR0FBR1gsUUFBUSxDQUFDWSxPQUFPLENBQUNDLEdBQUcsQ0FBQ1AsUUFBUSxDQUFDO0lBQzdDLElBQUlLLE1BQU0sSUFBSUcsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHSixNQUFNLENBQUNLLE9BQU8sRUFBRTtNQUN6QyxPQUFPTCxNQUFNLENBQUNsQixJQUFJO0lBQ3BCO0lBQ0EsT0FBTyxJQUFJO0VBQ2IsQ0FBQyxFQUFFLENBQUNhLFFBQVEsQ0FBQyxDQUFDOztFQUVkO0VBQ0EsTUFBTVcsYUFBYSxHQUFHLElBQUFQLGtCQUFXLEVBQUVRLE9BQVUsSUFBSztJQUNoRGxCLFFBQVEsQ0FBQ1ksT0FBTyxDQUFDTyxHQUFHLENBQUNiLFFBQVEsRUFBRTtNQUM3QmIsSUFBSSxFQUFFeUIsT0FBTztNQUNiRSxTQUFTLEVBQUVOLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUM7TUFDckJDLE9BQU8sRUFBRUYsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHMUI7SUFDeEIsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFFLENBQUNpQixRQUFRLEVBQUVqQixTQUFTLENBQUMsQ0FBQzs7RUFFekI7RUFDQSxNQUFNZ0MsU0FBUyxHQUFHLElBQUFYLGtCQUFXLEVBQUMsT0FBT1ksT0FBTyxHQUFHLEtBQUssS0FBSztJQUN2RDtJQUNBLE1BQU1DLFVBQVUsR0FBR2QsYUFBYSxDQUFDLENBQUM7SUFDbEMsSUFBSWMsVUFBVSxJQUFJLENBQUNELE9BQU8sRUFBRTtNQUMxQjVCLE9BQU8sQ0FBQzZCLFVBQVUsQ0FBQztNQUNuQnhCLFFBQVEsQ0FBQyxJQUFJLENBQUM7TUFDZDtJQUNGOztJQUVBO0lBQ0EsSUFBSUksa0JBQWtCLENBQUNTLE9BQU8sRUFBRTtNQUM5QlQsa0JBQWtCLENBQUNTLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLENBQUM7SUFDcEM7SUFFQXJCLGtCQUFrQixDQUFDUyxPQUFPLEdBQUcsSUFBSWEsZUFBZSxDQUFDLENBQUM7SUFDbEQ1QixVQUFVLENBQUMsSUFBSSxDQUFDO0lBQ2hCRSxRQUFRLENBQUMsSUFBSSxDQUFDO0lBRWQsSUFBSTtNQUNGLE1BQU0yQixNQUFNLEdBQUcsTUFBTXpDLGFBQWEsQ0FBQyxDQUFDOztNQUVwQztNQUNBLElBQUlrQixrQkFBa0IsQ0FBQ1MsT0FBTyxFQUFFZSxNQUFNLENBQUNDLE9BQU8sRUFBRTtRQUM5QztNQUNGO01BRUFsQyxPQUFPLENBQUNnQyxNQUFNLENBQUM7TUFDZlQsYUFBYSxDQUFDUyxNQUFNLENBQUM7TUFDckJyQixhQUFhLENBQUNPLE9BQU8sR0FBRyxDQUFDO0lBQzNCLENBQUMsQ0FBQyxPQUFPaUIsR0FBRyxFQUFFO01BQ1o7TUFDQSxJQUFJMUIsa0JBQWtCLENBQUNTLE9BQU8sRUFBRWUsTUFBTSxDQUFDQyxPQUFPLEVBQUU7UUFDOUM7TUFDRjtNQUVBLE1BQU1FLFlBQVksR0FBR0QsR0FBRyxZQUFZRSxLQUFLLEdBQUdGLEdBQUcsQ0FBQ0csT0FBTyxHQUFHLGVBQWU7O01BRXpFO01BQ0EsSUFBSTNCLGFBQWEsQ0FBQ08sT0FBTyxHQUFHcEIsVUFBVSxFQUFFO1FBQ3RDYSxhQUFhLENBQUNPLE9BQU8sRUFBRTtRQUN2QnFCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLGdDQUFnQzdCLGFBQWEsQ0FBQ08sT0FBTyxJQUFJcEIsVUFBVSxJQUFJLEVBQUVzQyxZQUFZLENBQUM7UUFDbkdoRCxVQUFVLENBQUMsTUFBTXVDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEdBQUdoQixhQUFhLENBQUNPLE9BQU8sQ0FBQztRQUMvRDtNQUNGO01BRUFiLFFBQVEsQ0FBQytCLFlBQVksQ0FBQztNQUN0QkcsT0FBTyxDQUFDbkMsS0FBSyxDQUFDLHNDQUFzQyxFQUFFK0IsR0FBRyxDQUFDO0lBQzVELENBQUMsU0FBUztNQUNSaEMsVUFBVSxDQUFDLEtBQUssQ0FBQztJQUNuQjtFQUNGLENBQUMsRUFBRSxDQUFDWixhQUFhLEVBQUV3QixhQUFhLEVBQUVRLGFBQWEsRUFBRXpCLFVBQVUsQ0FBQyxDQUFDOztFQUU3RDtFQUNBLE1BQU0yQyxjQUFjLEdBQUcsSUFBQXpCLGtCQUFXLEVBQ2hDbkMsUUFBUSxDQUFDLE1BQU04QyxTQUFTLENBQUMsQ0FBQyxFQUFFakMsYUFBYSxDQUFDLEVBQzFDLENBQUNpQyxTQUFTLEVBQUVqQyxhQUFhLENBQzNCLENBQUM7O0VBRUQ7RUFDQSxJQUFBZ0QsZ0JBQVMsRUFBQyxNQUFNO0lBQ2RELGNBQWMsQ0FBQyxDQUFDOztJQUVoQjtJQUNBLE9BQU8sTUFBTTtNQUNYQSxjQUFjLENBQUNwRCxNQUFNLENBQUMsQ0FBQztJQUN6QixDQUFDO0VBQ0gsQ0FBQyxFQUFFLENBQUNvRCxjQUFjLEVBQUUsR0FBR2pELFlBQVksQ0FBQyxDQUFDOztFQUVyQztFQUNBLElBQUFrRCxnQkFBUyxFQUFDLE1BQU07SUFDZCxJQUFJLENBQUM5QyxXQUFXLEVBQUU7SUFFbEJjLFdBQVcsQ0FBQ1EsT0FBTyxHQUFHeUIsV0FBVyxDQUFDLE1BQU07TUFDdENoQixTQUFTLENBQUMsQ0FBQztJQUNiLENBQUMsRUFBRTlCLGVBQWUsQ0FBQztJQUVuQixPQUFPLE1BQU07TUFDWCxJQUFJYSxXQUFXLENBQUNRLE9BQU8sRUFBRTtRQUN2QjBCLGFBQWEsQ0FBQ2xDLFdBQVcsQ0FBQ1EsT0FBTyxDQUFDO01BQ3BDO0lBQ0YsQ0FBQztFQUNILENBQUMsRUFBRSxDQUFDdEIsV0FBVyxFQUFFQyxlQUFlLEVBQUU4QixTQUFTLENBQUMsQ0FBQzs7RUFFN0M7RUFDQSxJQUFBZSxnQkFBUyxFQUFDLE1BQU07SUFDZCxPQUFPLE1BQU07TUFDWCxJQUFJakMsa0JBQWtCLENBQUNTLE9BQU8sRUFBRTtRQUM5QlQsa0JBQWtCLENBQUNTLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLENBQUM7TUFDcEM7TUFDQSxJQUFJcEIsV0FBVyxDQUFDUSxPQUFPLEVBQUU7UUFDdkIwQixhQUFhLENBQUNsQyxXQUFXLENBQUNRLE9BQU8sQ0FBQztNQUNwQztNQUNBdUIsY0FBYyxDQUFDcEQsTUFBTSxDQUFDLENBQUM7SUFDekIsQ0FBQztFQUNILENBQUMsRUFBRSxFQUFFLENBQUM7O0VBRU47RUFDQSxNQUFNd0QsT0FBTyxHQUFHLElBQUE3QixrQkFBVyxFQUFDLE1BQU07SUFDaEM7SUFDQVYsUUFBUSxDQUFDWSxPQUFPLENBQUM0QixNQUFNLENBQUNsQyxRQUFRLENBQUM7SUFDakNlLFNBQVMsQ0FBQyxDQUFDO0VBQ2IsQ0FBQyxFQUFFLENBQUNmLFFBQVEsRUFBRWUsU0FBUyxDQUFDLENBQUM7RUFFekIsT0FBTztJQUNMNUIsSUFBSTtJQUNKRyxPQUFPO0lBQ1BFLEtBQUs7SUFDTHlDLE9BQU87SUFDUEUsT0FBTyxFQUFFaEQsSUFBSSxHQUFHcUIsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxJQUFJZixRQUFRLENBQUNZLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUCxRQUFRLENBQUMsRUFBRWMsU0FBUyxJQUFJLENBQUMsQ0FBQyxHQUFHL0IsU0FBUyxHQUFHO0VBQzlGLENBQUM7QUFDSCIsImlnbm9yZUxpc3QiOltdfQ==